Look at this hardcoded timeout:

        // Get timeout from context or use default
        let line_timeout = Duration::from_secs(60 * 60);


that is not getting from the command line context. Fix it.