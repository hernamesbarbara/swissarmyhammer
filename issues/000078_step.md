# Step 78: Integrate Workflows with MCP Server

## Goal
Extend the MCP server to expose workflows alongside prompts, enabling Claude Code to discover and execute workflows.

## Context
The MCP server currently serves prompts. We need to extend it to also serve workflows and handle workflow execution requests.

## Requirements
1. MCP protocol extensions:
   - List available workflows
   - Execute workflow via MCP
   - Report workflow status
   - Stream execution updates
2. Notification support:
   - Workflow file changes
   - Execution progress
   - State transitions
   - Completion events
3. MCP workflow features:
   - Pass variables via MCP
   - Return execution results
   - Handle long-running workflows
   - Support cancellation

## Implementation Notes
- Extend existing MCP implementation
- Workflows appear as special prompts
- Use MCP streaming for progress
- Handle disconnections gracefully
- Maintain backward compatibility
- Add workflow-specific metadata

## Success Criteria
- Workflows accessible via MCP
- Claude Code can execute workflows
- Progress updates work
- File watching includes workflows
- Clean integration with existing MCP code