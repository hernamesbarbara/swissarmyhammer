<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SwissArmyHammer Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="Complete guide to using SwissArmyHammer - the MCP server for managing prompts">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SwissArmyHammer Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/swissarmyhammer/swissarmyhammer" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="swissarmyhammer"><a class="header" href="#swissarmyhammer">SwissArmyHammer</a></h1>
<p><strong>The MCP server for managing prompts as markdown files</strong></p>
<p>SwissArmyHammer solves the problem of AI prompt management by providing a comprehensive solution that treats prompts as first-class citizens in your development workflow. Unlike scattered prompt files or hard-coded templates, SwissArmyHammer offers a structured, versioned, and collaborative approach to prompt engineering.</p>
<h2 id="the-problem"><a class="header" href="#the-problem">The Problem</a></h2>
<p>As AI becomes central to development workflows, developers and teams face growing challenges with prompt management:</p>
<p><strong>The Prompt Chaos Problem:</strong></p>
<ul>
<li><strong>Scattered Everywhere</strong>: Prompts live in scattered text files, notes apps, chat histories, and code comments - impossible to find when you need them</li>
<li><strong>No Version Control</strong>: Critical prompt changes disappear without trace, making it impossible to understand what worked and why</li>
<li><strong>Copy-Paste Proliferation</strong>: The same prompt gets duplicated and slightly tweaked across projects, creating maintenance nightmares</li>
<li><strong>Team Isolation</strong>: Valuable prompts remain locked in individual workflows, preventing knowledge sharing and collaboration</li>
<li><strong>Format Anarchy</strong>: Every project reinvents prompt organization, making it hard to move between teams or onboard new members</li>
</ul>
<p><strong>The Cost of Disorganization:</strong>
Without proper prompt management, teams waste hours recreating existing prompts, struggle to maintain consistency across projects, and lose valuable prompt engineering knowledge when team members leave.</p>
<h2 id="the-solution"><a class="header" href="#the-solution">The Solution</a></h2>
<p>SwissArmyHammer transforms prompt chaos into organized, collaborative workflow with a comprehensive management system:</p>
<p><strong>🗂️ Unified Prompt Organization</strong>: Replace scattered prompt files with a structured, hierarchical system. Store prompts as markdown files with YAML metadata, organizing them from global built-ins to project-specific customizations.</p>
<p><strong>📝 Git-Native Workflow</strong>: Because prompts are plain markdown files, they integrate seamlessly with your existing Git workflow. Track changes, collaborate through pull requests, and maintain a complete history of your prompt evolution.</p>
<p><strong>🔧 Powerful Template Engine</strong>: Stop copy-pasting similar prompts. Use Liquid templating with custom filters to create dynamic, reusable prompts that adapt to different contexts and requirements.</p>
<p><strong>🤖 Claude Code Integration</strong>: Access your entire prompt library directly in Claude Code through native MCP protocol support. No more switching between tools or hunting for that perfect prompt.</p>
<p><strong>⚡ Developer-First Tooling</strong>: Rich CLI with instant search, validation, testing, and diagnostics ensures your prompts are always discoverable, reliable, and maintainable.</p>
<p><strong>The Result</strong>: Teams report 5x faster prompt iteration, zero lost prompts, and dramatically improved prompt quality through systematic organization and collaboration.</p>
<h2 id="how-swissarmyhammer-works"><a class="header" href="#how-swissarmyhammer-works">How SwissArmyHammer Works</a></h2>
<p>SwissArmyHammer transforms your prompt workflow through:</p>
<ul>
<li><strong>📁 File-based prompt management</strong> - Store prompts as markdown files with YAML front matter</li>
<li><strong>🔄 Live reloading</strong> - Changes to prompt files are automatically detected and reloaded</li>
<li><strong>🎯 Template variables</strong> - Use <code>{{variable}}</code> syntax for dynamic prompt customization</li>
<li><strong>⚡ MCP integration</strong> - Works seamlessly with Claude Code and other MCP clients</li>
<li><strong>🗂️ Organized hierarchy</strong> - Support for built-in, user, and local prompt directories</li>
<li><strong>🛠️ Developer-friendly</strong> - Rich CLI with diagnostics and shell completions</li>
</ul>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<pre><code class="language-bash">cargo install --git https://github.com/swissarmyhammer/swissarmyhammer.git swissarmyhammer-cli
</code></pre>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<ol>
<li><strong>Create a prompt directory</strong>: <code>mkdir ~/.swissarmyhammer/prompts</code></li>
<li><strong>Configure Claude Code</strong>: Add SwissArmyHammer to your MCP configuration</li>
<li><strong>Create your first prompt</strong>: Use the simple markdown + YAML format</li>
<li><strong>Start using prompts</strong>: Available immediately in Claude Code</li>
</ol>
<h3 id="key-benefits"><a class="header" href="#key-benefits">Key Benefits</a></h3>
<ul>
<li><strong>🔧 Zero Configuration</strong>: Works out of the box with sensible defaults</li>
<li><strong>📱 Cross-Platform</strong>: Runs on macOS, Linux, and Windows</li>
<li><strong>🔄 Real-Time Updates</strong>: File changes are automatically detected and reloaded</li>
<li><strong>🎯 Type Safe</strong>: Rust implementation provides reliability and performance</li>
<li><strong>🌐 Community Driven</strong>: Open source with active development and contributions</li>
</ul>
<h3 id="-simple-prompt-format"><a class="header" href="#-simple-prompt-format">📝 Simple Prompt Format</a></h3>
<p>Create prompts using familiar markdown with YAML front matter:</p>
<pre><code class="language-markdown">---
title: Code Review Helper
description: Helps review code for best practices and potential issues
arguments:
  - name: code
    description: The code to review
    required: true
  - name: language
    description: Programming language
    required: false
    default: "auto-detect"
---

# Code Review

Please review the following {{language}} code:

</code></pre>
<p>{{code}}</p>
<pre><code>
Focus on:
- Code quality and readability
- Potential bugs or security issues
- Performance considerations
- Best practices adherence
</code></pre>
<h3 id="-template-variables"><a class="header" href="#-template-variables">🎯 Template Variables</a></h3>
<p>Use template variables to make prompts dynamic and reusable:</p>
<ul>
<li><code>{{variable}}</code> - Required variables</li>
<li><code>{{variable:default}}</code> - Optional variables with defaults</li>
<li>Support for strings, numbers, booleans, and JSON objects</li>
</ul>
<h3 id="-built-in-diagnostics"><a class="header" href="#-built-in-diagnostics">🔧 Built-in Diagnostics</a></h3>
<p>The <code>doctor</code> command helps troubleshoot setup issues:</p>
<pre><code class="language-bash">swissarmyhammer doctor
</code></pre>
<h2 id="who-should-use-swissarmyhammer"><a class="header" href="#who-should-use-swissarmyhammer">Who Should Use SwissArmyHammer?</a></h2>
<h3 id="development-teams"><a class="header" href="#development-teams">Development Teams</a></h3>
<ul>
<li><strong>Standardize prompts</strong> across projects and team members</li>
<li><strong>Version control</strong> prompt changes with Git integration</li>
<li><strong>Code review</strong> prompt modifications like any other code</li>
<li><strong>Share libraries</strong> of tested, proven prompts</li>
</ul>
<h3 id="individual-developers"><a class="header" href="#individual-developers">Individual Developers</a></h3>
<ul>
<li><strong>Organize personal prompts</strong> in a structured hierarchy</li>
<li><strong>Reuse prompts</strong> across different projects and contexts</li>
<li><strong>Build expertise</strong> through curated prompt collections</li>
<li><strong>Integrate seamlessly</strong> with existing development workflows</li>
</ul>
<h3 id="content-creators--researchers"><a class="header" href="#content-creators--researchers">Content Creators &amp; Researchers</a></h3>
<ul>
<li><strong>Manage specialized prompts</strong> for specific domains</li>
<li><strong>Create template libraries</strong> for common content types</li>
<li><strong>Collaborate effectively</strong> on prompt development</li>
<li><strong>Maintain quality</strong> through validation and testing</li>
</ul>
<h3 id="students--educators"><a class="header" href="#students--educators">Students &amp; Educators</a></h3>
<ul>
<li><strong>Learn prompt engineering</strong> through structured examples</li>
<li><strong>Build knowledge bases</strong> of educational prompts</li>
<li><strong>Share resources</strong> with classmates and colleagues</li>
<li><strong>Track progress</strong> through versioned prompt evolution</li>
</ul>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<p>SwissArmyHammer follows a simple but powerful architecture:</p>
<pre><code>┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Claude Code   │◄──►│ SwissArmyHammer  │◄──►│ Prompt Files    │
│   (MCP Client)  │    │   (MCP Server)   │    │ (.md files)     │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                              │
                              ▼
                       ┌──────────────────┐
                       │  File Watcher    │
                       │ (Auto-reload)    │
                       └──────────────────┘
</code></pre>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ol>
<li><strong><a href="./installation.html">Install SwissArmyHammer</a></strong> - Get up and running quickly</li>
<li><strong><a href="./first-prompt.html">Create Your First Prompt</a></strong> - Learn the basics</li>
<li><strong><a href="./claude-code-integration.html">Integrate with Claude Code</a></strong> - Connect to your AI assistant</li>
<li><strong><a href="./advanced-prompts.html">Explore Advanced Features</a></strong> - Unlock the full potential</li>
</ol>
<h2 id="why-choose-swissarmyhammer"><a class="header" href="#why-choose-swissarmyhammer">Why Choose SwissArmyHammer?</a></h2>
<p><strong>Proven Architecture</strong>: Built on well-tested technologies like Rust, Liquid templating, and the MCP protocol.</p>
<p><strong>Active Development</strong>: Regular updates, bug fixes, and new features based on community feedback.</p>
<p><strong>Comprehensive Documentation</strong>: Detailed guides, examples, and API reference to get you productive quickly.</p>
<p><strong>Open Source</strong>: MIT licensed with a welcoming community for contributions and feedback.</p>
<h2 id="join-the-community"><a class="header" href="#join-the-community">Join the Community</a></h2>
<ul>
<li><strong><a href="https://github.com/swissarmyhammer/swissarmyhammer">GitHub Repository</a></strong> - Source code, issues, and discussions</li>
<li><strong><a href="./contributing.html">Contributing Guide</a></strong> - How to contribute to the project</li>
<li><strong><a href="https://github.com/swissarmyhammer/swissarmyhammer/issues">Issue Tracker</a></strong> - Report bugs and request features</li>
<li><strong><a href="https://github.com/swissarmyhammer/swissarmyhammer/discussions">Discussions</a></strong> - Community Q&amp;A and sharing</li>
</ul>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>SwissArmyHammer is open source software licensed under the MIT License. See the <a href="./license.html">License</a> page for details.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-1"><a class="header" href="#installation-1">Installation</a></h1>
<p>SwissArmyHammer can be installed in several ways depending on your needs and platform.</p>
<h2 id="pre-built-binaries"><a class="header" href="#pre-built-binaries">Pre-built Binaries</a></h2>
<p>Currently, SwissArmyHammer does not provide pre-built binaries for download. This is a planned feature for future releases. For now, please use the Cargo installation method below.</p>
<h2 id="quick-install-recommended"><a class="header" href="#quick-install-recommended">Quick Install (Recommended)</a></h2>
<p>To update SwissArmyHammer to the latest version:</p>
<pre><code class="language-bash"># Update from git repository
cargo install --git https://github.com/swissarmyhammer/swissarmyhammer.git swissarmyhammer-cli --force
</code></pre>
<p>The <code>--force</code> flag will overwrite the existing installation.</p>
<h2 id="clone-and-build"><a class="header" href="#clone-and-build">Clone and Build</a></h2>
<p>If you are installing from source:</p>
<ul>
<li><strong>Rust 1.70 or later</strong> - Install from <a href="https://rustup.rs/">rustup.rs</a></li>
<li><strong>Git</strong> - For cloning the repository</li>
</ul>
<p>If you want to build from source or contribute to development:</p>
<pre><code class="language-bash"># Clone the repository
git clone https://github.com/swissarmyhammer/swissarmyhammer.git
cd swissarmyhammer

# Build the CLI (debug mode for development)
cargo build

# Build optimized release version
cargo build --release

# Install from the local source
cargo install --path swissarmyhammer-cli

# Or run directly without installing
cargo run -- --help
</code></pre>
<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
<p>After installation, verify that SwissArmyHammer is working correctly:</p>
<pre><code class="language-bash"># Check version
swissarmyhammer --version

# Run diagnostics
swissarmyhammer doctor

# Show help
swissarmyhammer --help

</code></pre>
<p>The <code>doctor</code> command will check your installation and provide helpful diagnostics if anything needs attention.</p>
<h2 id="shell-completions"><a class="header" href="#shell-completions">Shell Completions</a></h2>
<p>Generate and install shell completions for better CLI experience:</p>
<h3 id="bash"><a class="header" href="#bash">Bash</a></h3>
<pre><code class="language-bash"># Linux/macOS (user-specific)
swissarmyhammer completion bash &gt; ~/.local/share/bash-completion/completions/swissarmyhammer

# macOS with Homebrew bash-completion
swissarmyhammer completion bash &gt; $(brew --prefix)/etc/bash_completion.d/swissarmyhammer

# Alternative location (ensure directory exists)
mkdir -p ~/.bash_completion.d
swissarmyhammer completion bash &gt; ~/.bash_completion.d/swissarmyhammer
</code></pre>
<h3 id="zsh"><a class="header" href="#zsh">Zsh</a></h3>
<pre><code class="language-bash"># User-specific (ensure ~/.zfunc is in your fpath)
mkdir -p ~/.zfunc
swissarmyhammer completion zsh &gt; ~/.zfunc/_swissarmyhammer

# Add to ~/.zshrc if not already present:
# fpath=(~/.zfunc $fpath)
# autoload -U compinit &amp;&amp; compinit

# System-wide (with appropriate permissions)
swissarmyhammer completion zsh &gt; /usr/local/share/zsh/site-functions/_swissarmyhammer
</code></pre>
<h3 id="fish"><a class="header" href="#fish">Fish</a></h3>
<pre><code class="language-bash"># User-specific
swissarmyhammer completion fish &gt; ~/.config/fish/completions/swissarmyhammer.fish

# Ensure the directory exists
mkdir -p ~/.config/fish/completions
swissarmyhammer completion fish &gt; ~/.config/fish/completions/swissarmyhammer.fish
</code></pre>
<h2 id="next-steps-1"><a class="header" href="#next-steps-1">Next Steps</a></h2>
<p>Once installed, continue to the <a href="./quick-start.html">Quick Start</a> guide to set up SwissArmyHammer with Claude Code and create your first prompt.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h3>
<p><strong>Command not found</strong>: Make sure <code>~/.cargo/bin</code> is in your PATH.</p>
<p><strong>Build failures</strong>: Ensure you have Rust 1.70+ installed and try updating Rust:</p>
<pre><code class="language-bash">rustup update
</code></pre>
<p><strong>Permission errors</strong>: Don’t use <code>sudo</code> with cargo install - it installs to your user directory.</p>
<p>For more help, check the <a href="./troubleshooting.html">Troubleshooting</a> guide or run:</p>
<pre><code class="language-bash">swissarmyhammer doctor
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quick-start-1"><a class="header" href="#quick-start-1">Quick Start</a></h1>
<p>Get up and running with SwissArmyHammer in just a few minutes.</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>Before you begin, make sure you have:</p>
<ul>
<li>SwissArmyHammer installed (see <a href="./installation.html">Installation</a>)</li>
<li>Claude Code (or another MCP-compatible client)</li>
</ul>
<h2 id="step-1-verify-installation"><a class="header" href="#step-1-verify-installation">Step 1: Verify Installation</a></h2>
<p>First, check that SwissArmyHammer is properly installed:</p>
<pre><code class="language-bash">swissarmyhammer --version
</code></pre>
<p>Run the doctor command to check your setup:</p>
<pre><code class="language-bash">swissarmyhammer doctor
</code></pre>
<p>This will check your system and provide recommendations if anything needs attention.</p>
<h2 id="step-2-configure-claude-code"><a class="header" href="#step-2-configure-claude-code">Step 2: Configure Claude Code</a></h2>
<p>Add SwissArmyHammer to your Claude Code MCP configuration:</p>
<h3 id="find-your-config-file"><a class="header" href="#find-your-config-file">Find Your Config File</a></h3>
<p>The Claude Code configuration file is located at:</p>
<ul>
<li><strong>macOS</strong>: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li>
<li><strong>Windows</strong>: <code>%APPDATA%\Claude\claude_desktop_config.json</code></li>
<li><strong>Linux</strong>: <code>~/.config/Claude/claude_desktop_config.json</code></li>
</ul>
<h3 id="add-the-configuration"><a class="header" href="#add-the-configuration">Add the Configuration</a></h3>
<p>Create or edit the configuration file with the following content:</p>
<pre><code class="language-json">{
  "mcpServers": {
    "swissarmyhammer": {
      "command": "swissarmyhammer",
      "args": ["serve"]
    }
  }
}
</code></pre>
<p>If you already have other MCP servers configured, just add the <code>swissarmyhammer</code> entry to your existing <code>mcpServers</code> object.</p>
<h2 id="step-3-create-your-prompt-directory"><a class="header" href="#step-3-create-your-prompt-directory">Step 3: Create Your Prompt Directory</a></h2>
<p>Create a directory for your prompts:</p>
<pre><code class="language-bash">mkdir -p ~/.swissarmyhammer/prompts
</code></pre>
<p>This is where you’ll store your custom prompts. SwissArmyHammer will automatically watch this directory for changes.</p>
<h2 id="step-4-create-your-first-prompt"><a class="header" href="#step-4-create-your-first-prompt">Step 4: Create Your First Prompt</a></h2>
<p>Create a simple prompt file:</p>
<pre><code class="language-bash">cat &gt; ~/.swissarmyhammer/prompts/helper.md &lt;&lt; 'EOF'
---
title: General Helper
description: A helpful assistant for various tasks
arguments:
  - name: task
    description: What you need help with
    required: true
  - name: style
    description: How to approach the task
    required: false
    default: "friendly and concise"
---

# Task Helper

Please help me with: {{task}}

Approach this in a {{style}} manner. Provide clear, actionable advice.
EOF
</code></pre>
<h2 id="step-5-test-the-setup"><a class="header" href="#step-5-test-the-setup">Step 5: Test the Setup</a></h2>
<ol>
<li>
<p><strong>Restart Claude Code</strong> to pick up the new MCP server configuration.</p>
</li>
<li>
<p><strong>Open Claude Code</strong> and start a new conversation.</p>
</li>
<li>
<p><strong>Try using your prompt</strong>: In Claude Code, you should now see SwissArmyHammer prompts available in the prompt picker.</p>
</li>
<li>
<p><strong>Use the built-in prompts</strong>: SwissArmyHammer comes with several built-in prompts you can try right away:</p>
<ul>
<li><code>help</code> - Get help with using SwissArmyHammer</li>
<li><code>debug-error</code> - Debug error messages</li>
<li><code>code-review</code> - Review code for issues</li>
<li><code>docs-readme</code> - Generate README files</li>
</ul>
</li>
</ol>
<h2 id="step-6-verify-everything-works"><a class="header" href="#step-6-verify-everything-works">Step 6: Verify Everything Works</a></h2>
<p>Test that SwissArmyHammer is working correctly:</p>
<pre><code class="language-bash"># Check if Claude Code can connect (this will show server info)
swissarmyhammer serve --help

# Run diagnostics again to see the updated status
swissarmyhammer doctor
</code></pre>
<p>The doctor command should now show that Claude Code configuration is found and prompts are loading correctly.</p>
<h2 id="whats-next"><a class="header" href="#whats-next">What’s Next?</a></h2>
<p>Now that you have SwissArmyHammer set up, you can:</p>
<ol>
<li><strong>Explore built-in prompts</strong> - See what’s available out of the box</li>
<li><strong>Create more prompts</strong> - Build your own prompt library</li>
<li><strong>Learn advanced features</strong> - Template variables, prompt organization, etc.</li>
</ol>
<h3 id="recommended-next-steps"><a class="header" href="#recommended-next-steps">Recommended Next Steps</a></h3>
<ul>
<li><a href="./first-prompt.html">Create Your First Custom Prompt</a></li>
<li><a href="./template-variables.html">Learn about Template Variables</a></li>
<li><a href="./builtin-prompts.html">Explore Built-in Prompts</a></li>
<li><a href="./advanced-prompts.html">Advanced Prompt Techniques</a></li>
</ul>
<h2 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h2>
<p>If something isn’t working:</p>
<ol>
<li><strong>Run the doctor</strong>: <code>swissarmyhammer doctor</code></li>
<li><strong>Check Claude Code logs</strong>: Look for any error messages</li>
<li><strong>Verify file permissions</strong>: Make sure SwissArmyHammer can read your prompt files</li>
<li><strong>Restart Claude Code</strong>: Sometimes a restart is needed after configuration changes</li>
</ol>
<p>For more detailed troubleshooting, see the <a href="./troubleshooting.html">Troubleshooting</a> guide.</p>
<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
<p>If you need help:</p>
<ul>
<li>Check the <a href="./troubleshooting.html">Troubleshooting</a> guide</li>
<li>Look at <a href="./examples.html">Examples</a> for inspiration</li>
<li>Ask questions in <a href="https://github.com/swissarmyhammer/swissarmyhammer/discussions">GitHub Discussions</a></li>
<li>Report bugs in <a href="https://github.com/swissarmyhammer/swissarmyhammer/issues">GitHub Issues</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="your-first-prompt"><a class="header" href="#your-first-prompt">Your First Prompt</a></h1>
<p>Let’s create your first custom prompt with SwissArmyHammer! This guide will walk you through creating a useful code review prompt.</p>
<h2 id="understanding-prompt-structure"><a class="header" href="#understanding-prompt-structure">Understanding Prompt Structure</a></h2>
<p>SwissArmyHammer prompts are markdown files with YAML front matter. Here’s the basic structure:</p>
<pre><code class="language-markdown">---
title: Your Prompt Title
description: What this prompt does
arguments:
  - name: argument_name
    description: What this argument is for
    required: true/false
    default: "optional default value"
---

# Your Prompt Content

Use {{argument_name}} to insert variables into your prompt.
</code></pre>
<h2 id="creating-a-code-review-prompt"><a class="header" href="#creating-a-code-review-prompt">Creating a Code Review Prompt</a></h2>
<p>Let’s create a practical code review prompt step by step.</p>
<h3 id="step-1-create-the-file"><a class="header" href="#step-1-create-the-file">Step 1: Create the File</a></h3>
<p>First, create a new prompt file in your prompts directory:</p>
<pre><code class="language-bash"># Create the file
touch ~/.swissarmyhammer/prompts/code-review.md

# Or create a category directory
mkdir -p ~/.swissarmyhammer/prompts/development
touch ~/.swissarmyhammer/prompts/development/code-review.md
</code></pre>
<h3 id="step-2-add-the-yaml-front-matter"><a class="header" href="#step-2-add-the-yaml-front-matter">Step 2: Add the YAML Front Matter</a></h3>
<p>Open the file in your favorite editor and add the front matter:</p>
<pre><code class="language-yaml">---
title: Code Review Assistant
description: Comprehensive code review with focus on best practices, security, and performance
arguments:
  - name: code
    description: The code to review (can be a function, class, or entire file)
    required: true
  - name: language
    description: Programming language (helps with language-specific advice)
    required: false
    default: "auto-detect"
  - name: focus
    description: Areas to focus on (security, performance, readability, etc.)
    required: false
    default: "general best practices"
---
</code></pre>
<h3 id="step-3-write-the-prompt-content"><a class="header" href="#step-3-write-the-prompt-content">Step 3: Write the Prompt Content</a></h3>
<p>Below the front matter, add the prompt content:</p>
<pre><code class="language-markdown"># Code Review

I need a thorough code review for the following {{language}} code.

## Code to Review

```{{language}}
{{code}}
</code></pre>
<h2 id="review-focus"><a class="header" href="#review-focus">Review Focus</a></h2>
<p>Please focus on: {{focus}}</p>
<h2 id="review-criteria"><a class="header" href="#review-criteria">Review Criteria</a></h2>
<p>Please analyze the code for:</p>
<h3 id="-security"><a class="header" href="#-security">🔒 Security</a></h3>
<ul>
<li>Potential security vulnerabilities</li>
<li>Input validation issues</li>
<li>Authentication/authorization concerns</li>
</ul>
<h3 id="-performance"><a class="header" href="#-performance">🚀 Performance</a></h3>
<ul>
<li>Inefficient algorithms or operations</li>
<li>Memory usage concerns</li>
<li>Potential bottlenecks</li>
</ul>
<h3 id="-readability--maintainability"><a class="header" href="#-readability--maintainability">📖 Readability &amp; Maintainability</a></h3>
<ul>
<li>Code clarity and organization</li>
<li>Naming conventions</li>
<li>Documentation needs</li>
</ul>
<h3 id="-testing--reliability"><a class="header" href="#-testing--reliability">🧪 Testing &amp; Reliability</a></h3>
<ul>
<li>Error handling</li>
<li>Edge cases</li>
<li>Testability</li>
</ul>
<h3 id="-architecture--design"><a class="header" href="#-architecture--design">🏗️ Architecture &amp; Design</a></h3>
<ul>
<li>SOLID principles adherence</li>
<li>Design patterns usage</li>
<li>Code structure</li>
</ul>
<h2 id="output-format"><a class="header" href="#output-format">Output Format</a></h2>
<p>Please provide:</p>
<ol>
<li><strong>Overall Assessment</strong> - Brief summary of code quality</li>
<li><strong>Specific Issues</strong> - List each issue with:
<ul>
<li>Severity (High/Medium/Low)</li>
<li>Location (line numbers if applicable)</li>
<li>Explanation of the problem</li>
<li>Suggested fix</li>
</ul>
</li>
<li><strong>Positive Aspects</strong> - What’s done well</li>
<li><strong>Recommendations</strong> - Broader suggestions for improvement</li>
</ol>
<p>Focus especially on {{focus}} in your analysis.</p>
<pre><code>
### Step 4: Complete File Example

Here's the complete prompt file:

```markdown
---
title: Code Review Assistant
description: Comprehensive code review with focus on best practices, security, and performance
arguments:
  - name: code
    description: The code to review (can be a function, class, or entire file)
    required: true
  - name: language
    description: Programming language (helps with language-specific advice)
    required: false
    default: "auto-detect"
  - name: focus
    description: Areas to focus on (security, performance, readability, etc.)
    required: false
    default: "general best practices"
---

# Code Review

I need a thorough code review for the following {{language}} code.

## Code to Review

```{{language}}
{{code}}
</code></pre>
<h2 id="review-focus-1"><a class="header" href="#review-focus-1">Review Focus</a></h2>
<p>Please focus on: {{focus}}</p>
<h2 id="review-criteria-1"><a class="header" href="#review-criteria-1">Review Criteria</a></h2>
<p>Please analyze the code for:</p>
<h3 id="-security-1"><a class="header" href="#-security-1">🔒 Security</a></h3>
<ul>
<li>Potential security vulnerabilities</li>
<li>Input validation issues</li>
<li>Authentication/authorization concerns</li>
</ul>
<h3 id="-performance-1"><a class="header" href="#-performance-1">🚀 Performance</a></h3>
<ul>
<li>Inefficient algorithms or operations</li>
<li>Memory usage concerns</li>
<li>Potential bottlenecks</li>
</ul>
<h3 id="-readability--maintainability-1"><a class="header" href="#-readability--maintainability-1">📖 Readability &amp; Maintainability</a></h3>
<ul>
<li>Code clarity and organization</li>
<li>Naming conventions</li>
<li>Documentation needs</li>
</ul>
<h3 id="-testing--reliability-1"><a class="header" href="#-testing--reliability-1">🧪 Testing &amp; Reliability</a></h3>
<ul>
<li>Error handling</li>
<li>Edge cases</li>
<li>Testability</li>
</ul>
<h3 id="-architecture--design-1"><a class="header" href="#-architecture--design-1">🏗️ Architecture &amp; Design</a></h3>
<ul>
<li>SOLID principles adherence</li>
<li>Design patterns usage</li>
<li>Code structure</li>
</ul>
<h2 id="output-format-1"><a class="header" href="#output-format-1">Output Format</a></h2>
<p>Please provide:</p>
<ol>
<li><strong>Overall Assessment</strong> - Brief summary of code quality</li>
<li><strong>Specific Issues</strong> - List each issue with:
<ul>
<li>Severity (High/Medium/Low)</li>
<li>Location (line numbers if applicable)</li>
<li>Explanation of the problem</li>
<li>Suggested fix</li>
</ul>
</li>
<li><strong>Positive Aspects</strong> - What’s done well</li>
<li><strong>Recommendations</strong> - Broader suggestions for improvement</li>
</ol>
<p>Focus especially on {{focus}} in your analysis.</p>
<pre><code>
## Step 5: Test Your Prompt

Save the file and test that SwissArmyHammer can load it:

```bash
# Check if your prompt loads correctly
swissarmyhammer doctor
</code></pre>
<p>The doctor command will validate your YAML syntax and confirm the prompt is loaded.</p>
<h2 id="step-6-use-your-prompt"><a class="header" href="#step-6-use-your-prompt">Step 6: Use Your Prompt</a></h2>
<ol>
<li><strong>Open Claude Code</strong></li>
<li><strong>Start a new conversation</strong></li>
<li><strong>Look for your prompt</strong> in the prompt picker - it should appear as “Code Review Assistant”</li>
<li><strong>Fill in the parameters</strong>:
<ul>
<li><code>code</code>: Paste some code you want reviewed</li>
<li><code>language</code>: Specify the programming language (optional)</li>
<li><code>focus</code>: Specify what to focus on (optional)</li>
</ul>
</li>
</ol>
<h2 id="understanding-what-happened"><a class="header" href="#understanding-what-happened">Understanding What Happened</a></h2>
<p>When you created this prompt, SwissArmyHammer:</p>
<ol>
<li><strong>Detected the new file</strong> using its file watcher</li>
<li><strong>Parsed the YAML front matter</strong> to understand the prompt structure</li>
<li><strong>Made it available</strong> to Claude Code via the MCP protocol</li>
<li><strong>Prepared for template substitution</strong> when the prompt is used</li>
</ol>
<h2 id="best-practices-for-your-first-prompt"><a class="header" href="#best-practices-for-your-first-prompt">Best Practices for Your First Prompt</a></h2>
<h3 id="-dos"><a class="header" href="#-dos">✅ Do’s</a></h3>
<ul>
<li><strong>Use descriptive titles and descriptions</strong></li>
<li><strong>Document your arguments clearly</strong></li>
<li><strong>Provide sensible defaults</strong> for optional arguments</li>
<li><strong>Structure your prompt content</strong> with clear sections</li>
<li><strong>Use template variables</strong> to make prompts flexible</li>
</ul>
<h3 id="-donts"><a class="header" href="#-donts">❌ Don’ts</a></h3>
<ul>
<li><strong>Don’t use required arguments unless necessary</strong></li>
<li><strong>Don’t make prompts too rigid</strong> - allow for flexibility</li>
<li><strong>Don’t forget to test</strong> your YAML syntax</li>
<li><strong>Don’t use overly complex template logic</strong> in your first prompts</li>
</ul>
<h2 id="next-steps-2"><a class="header" href="#next-steps-2">Next Steps</a></h2>
<p>Now that you’ve created your first prompt, you can:</p>
<ol>
<li><strong>Create more prompts</strong> for different use cases</li>
<li><strong>Organize prompts</strong> into directories by category</li>
<li><strong>Learn advanced template features</strong> like conditionals and loops</li>
<li><strong>Share prompts</strong> with your team or the community</li>
</ol>
<h3 id="recommended-reading"><a class="header" href="#recommended-reading">Recommended Reading</a></h3>
<ul>
<li><a href="./creating-prompts.html">Creating Prompts</a> - Comprehensive guide to prompt creation</li>
<li><a href="./template-variables.html">Template Variables</a> - Advanced template features</li>
<li><a href="./prompt-organization.html">Prompt Organization</a> - How to organize your prompt library</li>
<li><a href="./builtin-prompts.html">Built-in Prompts</a> - Examples from the built-in library</li>
</ul>
<h2 id="troubleshooting-2"><a class="header" href="#troubleshooting-2">Troubleshooting</a></h2>
<p>If your prompt isn’t working:</p>
<ol>
<li><strong>Check YAML syntax</strong> - Make sure your front matter is valid YAML</li>
<li><strong>Run doctor</strong> - <code>swissarmyhammer doctor</code> will catch common issues</li>
<li><strong>Check file permissions</strong> - Make sure SwissArmyHammer can read the file</li>
<li><strong>Restart Claude Code</strong> - Sometimes needed after creating new prompts</li>
</ol>
<p>Common issues:</p>
<ul>
<li><strong>YAML indentation errors</strong> - Use spaces, not tabs</li>
<li><strong>Missing required fields</strong> - Title and description are required</li>
<li><strong>Invalid argument structure</strong> - Check the argument format</li>
<li><strong>File encoding</strong> - Use UTF-8 encoding for your markdown files</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-prompts"><a class="header" href="#creating-prompts">Creating Prompts</a></h1>
<p>SwissArmyHammer prompts are markdown files with YAML front matter that define reusable AI prompts. This guide walks you through creating effective prompts.</p>
<h2 id="basic-structure"><a class="header" href="#basic-structure">Basic Structure</a></h2>
<p>Every prompt file has two parts:</p>
<ol>
<li><strong>YAML Front Matter</strong> - Metadata about the prompt</li>
<li><strong>Markdown Content</strong> - The actual prompt template</li>
</ol>
<pre><code class="language-markdown">---
name: my-prompt
title: My Awesome Prompt
description: Does something useful
arguments:
  - name: input
    description: What to process
    required: true
---

# My Prompt

Please help me with {{input}}.

Provide a detailed response.
</code></pre>
<h2 id="yaml-front-matter"><a class="header" href="#yaml-front-matter">YAML Front Matter</a></h2>
<p>The YAML front matter defines the prompt’s metadata:</p>
<h3 id="required-fields"><a class="header" href="#required-fields">Required Fields</a></h3>
<ul>
<li><code>name</code> - Unique identifier for the prompt</li>
<li><code>title</code> - Human-readable name</li>
<li><code>description</code> - What the prompt does</li>
</ul>
<h3 id="optional-fields"><a class="header" href="#optional-fields">Optional Fields</a></h3>
<ul>
<li><code>category</code> - Group related prompts (e.g., “development”, “writing”)</li>
<li><code>tags</code> - List of keywords for discovery</li>
<li><code>arguments</code> - Input parameters (see <a href="creating-prompts.html#arguments">Arguments</a>)</li>
<li><code>author</code> - Prompt creator</li>
<li><code>version</code> - Version number</li>
<li><code>license</code> - License information</li>
</ul>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code class="language-yaml">---
name: code-review
title: Code Review Assistant
description: Reviews code for best practices, bugs, and improvements
category: development
tags: ["code", "review", "quality", "best-practices"]
author: SwissArmyHammer Team
version: 1.0.0
arguments:
  - name: code
    description: The code to review
    required: true
  - name: language
    description: Programming language
    required: false
    default: auto-detect
  - name: focus
    description: Specific areas to focus on
    required: false
    default: all aspects
---
</code></pre>
<h2 id="arguments"><a class="header" href="#arguments">Arguments</a></h2>
<p>Arguments define the inputs your prompt accepts. Each argument has:</p>
<h3 id="argument-properties"><a class="header" href="#argument-properties">Argument Properties</a></h3>
<ul>
<li><code>name</code> - Parameter name (used in template as <code>{{name}}</code>)</li>
<li><code>description</code> - What this parameter is for</li>
<li><code>required</code> - Whether the argument is mandatory</li>
<li><code>default</code> - Default value if not provided</li>
<li><code>type_hint</code> - Expected data type (documentation only)</li>
</ul>
<h3 id="example-arguments"><a class="header" href="#example-arguments">Example Arguments</a></h3>
<pre><code class="language-yaml">arguments:
  - name: text
    description: Text to analyze
    required: true
    type_hint: string
  
  - name: format
    description: Output format
    required: false
    default: markdown
    type_hint: string
  
  - name: max_length
    description: Maximum response length
    required: false
    default: 500
    type_hint: integer
  
  - name: include_examples
    description: Include code examples
    required: false
    default: true
    type_hint: boolean
</code></pre>
<h2 id="template-content"><a class="header" href="#template-content">Template Content</a></h2>
<p>The markdown content is your prompt template using <a href="./template-variables.html">Liquid templating</a>.</p>
<h3 id="basic-variables"><a class="header" href="#basic-variables">Basic Variables</a></h3>
<p>Use <code>{{variable}}</code> to insert argument values:</p>
<pre><code class="language-markdown">Please review this {{language}} code:

```{{code}}```

Focus on {{focus}}.
</code></pre>
<h3 id="conditional-logic"><a class="header" href="#conditional-logic">Conditional Logic</a></h3>
<p>Use <code>{% if %}</code> blocks for conditional content:</p>
<pre><code class="language-markdown">{% if language == "python" %}
Pay special attention to:
- PEP 8 style guidelines
- Type hints
- Error handling
{% elsif language == "javascript" %}
Pay special attention to:
- ESLint rules
- Async/await usage
- Error handling
{% endif %}
</code></pre>
<h3 id="loops"><a class="header" href="#loops">Loops</a></h3>
<p>Use <code>{% for %}</code> to iterate over lists:</p>
<pre><code class="language-markdown">{% if tags %}
Tags: {% for tag in tags %}#{{tag}}{% unless forloop.last %}, {% endunless %}{% endfor %}
{% endif %}
</code></pre>
<h3 id="filters"><a class="header" href="#filters">Filters</a></h3>
<p>Apply filters to transform data:</p>
<pre><code class="language-markdown">Language: {{language | capitalize}}
Code length: {{code | length}} characters
Summary: {{description | truncate: 100}}
</code></pre>
<h2 id="organization"><a class="header" href="#organization">Organization</a></h2>
<h3 id="directory-structure"><a class="header" href="#directory-structure">Directory Structure</a></h3>
<p>Organize prompts in logical directories:</p>
<pre><code>prompts/
├── development/
│   ├── code-review.md
│   ├── debug-helper.md
│   └── api-docs.md
├── writing/
│   ├── blog-post.md
│   ├── email-draft.md
│   └── summary.md
└── analysis/
    ├── data-insights.md
    └── competitor-analysis.md
</code></pre>
<h3 id="naming-conventions"><a class="header" href="#naming-conventions">Naming Conventions</a></h3>
<ul>
<li>Use kebab-case for filenames: <code>code-review.md</code></li>
<li>Make names descriptive: <code>debug-python-errors.md</code> not <code>debug.md</code></li>
<li>Include the category in the path, not the filename</li>
</ul>
<h3 id="categories-and-tags"><a class="header" href="#categories-and-tags">Categories and Tags</a></h3>
<p>Use categories for broad groupings:</p>
<ul>
<li><code>development</code> - Code-related prompts</li>
<li><code>writing</code> - Content creation</li>
<li><code>analysis</code> - Data and research</li>
<li><code>productivity</code> - Task management</li>
</ul>
<p>Use tags for specific features:</p>
<ul>
<li><code>["python", "debugging", "error-handling"]</code></li>
<li><code>["marketing", "email", "b2b"]</code></li>
<li><code>["data", "visualization", "charts"]</code></li>
</ul>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="1-write-clear-descriptions"><a class="header" href="#1-write-clear-descriptions">1. Write Clear Descriptions</a></h3>
<pre><code class="language-yaml"># Good
description: Reviews Python code for PEP 8 compliance, type hints, and common bugs

# Bad
description: Code review
</code></pre>
<h3 id="2-provide-helpful-defaults"><a class="header" href="#2-provide-helpful-defaults">2. Provide Helpful Defaults</a></h3>
<pre><code class="language-yaml">arguments:
  - name: style_guide
    description: Coding style guide to follow
    required: false
    default: PEP 8  # Sensible default
</code></pre>
<h3 id="3-use-descriptive-variable-names"><a class="header" href="#3-use-descriptive-variable-names">3. Use Descriptive Variable Names</a></h3>
<pre><code class="language-markdown"># Good
Please analyze this {{source_code}} for {{security_vulnerabilities}}.

# Bad
Please analyze this {{input}} for {{stuff}}.
</code></pre>
<h3 id="4-include-examples-in-descriptions"><a class="header" href="#4-include-examples-in-descriptions">4. Include Examples in Descriptions</a></h3>
<pre><code class="language-yaml">arguments:
  - name: format
    description: Output format (markdown, json, html)
    required: false
    default: markdown
</code></pre>
<h3 id="5-structure-your-prompts"><a class="header" href="#5-structure-your-prompts">5. Structure Your Prompts</a></h3>
<p>Use clear sections and formatting:</p>
<pre><code class="language-markdown"># Code Review

## Overview
Please review the following {{language}} code for:

## Focus Areas
1. **Best Practices** - Follow {{style_guide}} guidelines
2. **Security** - Identify potential vulnerabilities
3. **Performance** - Suggest optimizations
4. **Maintainability** - Assess code clarity

## Code to Review

```{{code}}```

## Instructions
{{#if include_suggestions}}
Please provide specific improvement suggestions.
{{/if}}
</code></pre>
<h3 id="6-test-your-prompts"><a class="header" href="#6-test-your-prompts">6. Test Your Prompts</a></h3>
<p>Use the CLI to test prompts:</p>
<pre><code class="language-bash"># Test with required arguments
swissarmyhammer test code-review --code "def hello(): print('hi')" --language python

# Test with defaults
swissarmyhammer test code-review --code "function hello() { console.log('hi'); }"
</code></pre>
<h2 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h2>
<h3 id="code-analysis"><a class="header" href="#code-analysis">Code Analysis</a></h3>
<pre><code class="language-markdown">---
name: analyze-code
title: Code Analyzer
description: Analyzes code for issues and improvements
arguments:
  - name: code
    description: Code to analyze
    required: true
  - name: language
    description: Programming language
    required: false
    default: auto-detect
---

# Code Analysis

Analyze this {{language}} code:

```{{code}}```

Provide feedback on:
- Code quality and best practices
- Potential bugs or issues
- Performance optimizations
- Readability improvements
</code></pre>
<h3 id="document-generation"><a class="header" href="#document-generation">Document Generation</a></h3>
<pre><code class="language-markdown">---
name: api-docs
title: API Documentation Generator
description: Generates API documentation from code
arguments:
  - name: code
    description: API code to document
    required: true
  - name: format
    description: Documentation format
    required: false
    default: markdown
---

# API Documentation

Generate {{format}} documentation for this API:

```{{code}}```

Include:
- Endpoint descriptions
- Parameter details
- Response examples
- Error codes
</code></pre>
<h3 id="text-processing"><a class="header" href="#text-processing">Text Processing</a></h3>
<pre><code class="language-markdown">---
name: summarize
title: Text Summarizer
description: Creates concise summaries of text
arguments:
  - name: text
    description: Text to summarize
    required: true
  - name: length
    description: Target summary length
    required: false
    default: 3 sentences
---

# Text Summary

Create a {{length}} summary of this text:

{{text}}

Focus on the key points and main ideas.
</code></pre>
<h2 id="next-steps-3"><a class="header" href="#next-steps-3">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./yaml-front-matter.html">YAML Front Matter</a> in detail</li>
<li>Explore <a href="./template-variables.html">Template Variables</a> and Liquid syntax</li>
<li>Check out <a href="./custom-filters.html">Custom Filters</a> for advanced transformations</li>
<li>See <a href="./examples.html">Examples</a> for real-world prompt templates</li>
<li>Read about <a href="./prompt-organization.html">Prompt Organization</a> strategies</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="yaml-front-matter-1"><a class="header" href="#yaml-front-matter-1">YAML Front Matter</a></h1>
<p>YAML front matter is the metadata section at the beginning of each prompt file. It defines the prompt’s properties, arguments, and other configuration details.</p>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>Front matter appears between triple dashes (<code>---</code>) at the start of your markdown file:</p>
<pre><code class="language-markdown">---
name: my-prompt
title: My Prompt
description: What this prompt does
---

# Prompt content starts here
</code></pre>
<h2 id="required-fields-1"><a class="header" href="#required-fields-1">Required Fields</a></h2>
<p>Every prompt must have these fields:</p>
<h3 id="name"><a class="header" href="#name"><code>name</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Unique identifier for the prompt</li>
<li><strong>Format</strong>: kebab-case recommended</li>
<li><strong>Example</strong>: <code>code-review</code>, <code>debug-helper</code>, <code>api-docs</code></li>
</ul>
<pre><code class="language-yaml">name: code-review
</code></pre>
<h3 id="title"><a class="header" href="#title"><code>title</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Human-readable name displayed in UIs</li>
<li><strong>Format</strong>: Title Case</li>
<li><strong>Example</strong>: <code>Code Review Assistant</code>, <code>Debug Helper</code></li>
</ul>
<pre><code class="language-yaml">title: Code Review Assistant
</code></pre>
<h3 id="description"><a class="header" href="#description"><code>description</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Brief explanation of what the prompt does</li>
<li><strong>Format</strong>: Sentence or short paragraph</li>
<li><strong>Example</strong>: Clear, actionable description</li>
</ul>
<pre><code class="language-yaml">description: Reviews code for best practices, bugs, and potential improvements
</code></pre>
<h2 id="optional-fields-1"><a class="header" href="#optional-fields-1">Optional Fields</a></h2>
<h3 id="category"><a class="header" href="#category"><code>category</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Groups related prompts together</li>
<li><strong>Common Values</strong>: <code>development</code>, <code>writing</code>, <code>analysis</code>, <code>productivity</code></li>
</ul>
<pre><code class="language-yaml">category: development
</code></pre>
<h3 id="tags"><a class="header" href="#tags"><code>tags</code></a></h3>
<ul>
<li><strong>Type</strong>: Array of strings</li>
<li><strong>Description</strong>: Keywords for discovery and filtering</li>
<li><strong>Format</strong>: Lowercase, descriptive terms</li>
</ul>
<pre><code class="language-yaml">tags: ["python", "debugging", "error-handling"]
</code></pre>
<h3 id="arguments-1"><a class="header" href="#arguments-1"><code>arguments</code></a></h3>
<ul>
<li><strong>Type</strong>: Array of argument objects</li>
<li><strong>Description</strong>: Input parameters the prompt accepts</li>
<li><strong>See</strong>: <a href="yaml-front-matter.html#arguments">Arguments section</a> below</li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: code
    description: Code to review
    required: true
</code></pre>
<h3 id="author"><a class="header" href="#author"><code>author</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Creator of the prompt</li>
<li><strong>Format</strong>: Name or organization</li>
</ul>
<pre><code class="language-yaml">author: SwissArmyHammer Team
</code></pre>
<h3 id="version"><a class="header" href="#version"><code>version</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Version number for tracking changes</li>
<li><strong>Format</strong>: Semantic versioning recommended</li>
</ul>
<pre><code class="language-yaml">version: 1.2.0
</code></pre>
<h3 id="license-1"><a class="header" href="#license-1"><code>license</code></a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: License for the prompt</li>
<li><strong>Common Values</strong>: <code>MIT</code>, <code>Apache-2.0</code>, <code>GPL-3.0</code></li>
</ul>
<pre><code class="language-yaml">license: MIT
</code></pre>
<h3 id="created"><a class="header" href="#created"><code>created</code></a></h3>
<ul>
<li><strong>Type</strong>: Date string</li>
<li><strong>Description</strong>: When the prompt was created</li>
<li><strong>Format</strong>: ISO 8601 date</li>
</ul>
<pre><code class="language-yaml">created: 2024-01-15
</code></pre>
<h3 id="updated"><a class="header" href="#updated"><code>updated</code></a></h3>
<ul>
<li><strong>Type</strong>: Date string</li>
<li><strong>Description</strong>: Last modification date</li>
<li><strong>Format</strong>: ISO 8601 date</li>
</ul>
<pre><code class="language-yaml">updated: 2024-03-20
</code></pre>
<h3 id="keywords"><a class="header" href="#keywords"><code>keywords</code></a></h3>
<ul>
<li><strong>Type</strong>: Array of strings</li>
<li><strong>Description</strong>: Alternative to tags for SEO/discovery</li>
<li><strong>Note</strong>: Similar to tags but more formal</li>
</ul>
<pre><code class="language-yaml">keywords: ["code quality", "static analysis", "best practices"]
</code></pre>
<h2 id="arguments-2"><a class="header" href="#arguments-2">Arguments</a></h2>
<p>Arguments define the inputs your prompt can accept. Each argument is an object with these properties:</p>
<h3 id="argument-properties-1"><a class="header" href="#argument-properties-1">Argument Properties</a></h3>
<h4 id="name-required"><a class="header" href="#name-required"><code>name</code> (required)</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Parameter name used in template</li>
<li><strong>Format</strong>: snake_case or kebab-case</li>
<li><strong>Usage</strong>: Referenced as <code>{{name}}</code> in template</li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: source_code
    # Used as {{source_code}} in template
</code></pre>
<h4 id="description-required"><a class="header" href="#description-required"><code>description</code> (required)</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: What this argument is for</li>
<li><strong>Format</strong>: Clear, helpful explanation</li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: language
    description: Programming language of the code
</code></pre>
<h4 id="required-optional-default-false"><a class="header" href="#required-optional-default-false"><code>required</code> (optional, default: false)</a></h4>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Description</strong>: Whether this argument must be provided</li>
<li><strong>Default</strong>: <code>false</code></li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: code
    description: Code to analyze
    required: true  # Must be provided
  - name: style_guide
    description: Coding style to follow
    required: false  # Optional
</code></pre>
<h4 id="default-optional"><a class="header" href="#default-optional"><code>default</code> (optional)</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Default value if not provided</li>
<li><strong>Note</strong>: Only used when <code>required: false</code></li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: format
    description: Output format
    required: false
    default: markdown
</code></pre>
<h4 id="type_hint-optional"><a class="header" href="#type_hint-optional"><code>type_hint</code> (optional)</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Description</strong>: Expected data type (documentation only)</li>
<li><strong>Common Values</strong>: <code>string</code>, <code>integer</code>, <code>boolean</code>, <code>array</code>, <code>object</code></li>
</ul>
<pre><code class="language-yaml">arguments:
  - name: max_length
    description: Maximum output length
    required: false
    default: 500
    type_hint: integer
</code></pre>
<h3 id="argument-examples"><a class="header" href="#argument-examples">Argument Examples</a></h3>
<h4 id="simple-text-input"><a class="header" href="#simple-text-input">Simple Text Input</a></h4>
<pre><code class="language-yaml">arguments:
  - name: text
    description: Text to process
    required: true
    type_hint: string
</code></pre>
<h4 id="optional-with-default"><a class="header" href="#optional-with-default">Optional with Default</a></h4>
<pre><code class="language-yaml">arguments:
  - name: format
    description: Output format (markdown, json, html)
    required: false
    default: markdown
    type_hint: string
</code></pre>
<h4 id="boolean-flag"><a class="header" href="#boolean-flag">Boolean Flag</a></h4>
<pre><code class="language-yaml">arguments:
  - name: include_examples
    description: Include code examples in output
    required: false
    default: true
    type_hint: boolean
</code></pre>
<h4 id="multiple-arguments"><a class="header" href="#multiple-arguments">Multiple Arguments</a></h4>
<pre><code class="language-yaml">arguments:
  - name: code
    description: Source code to review
    required: true
    type_hint: string
  
  - name: language
    description: Programming language
    required: false
    default: auto-detect
    type_hint: string
    
  - name: severity
    description: Minimum issue severity to report
    required: false
    default: medium
    type_hint: string
    
  - name: include_suggestions
    description: Include improvement suggestions
    required: false
    default: true
    type_hint: boolean
</code></pre>
<h2 id="complete-example"><a class="header" href="#complete-example">Complete Example</a></h2>
<p>Here’s a comprehensive example showing all available fields:</p>
<pre><code class="language-yaml">---
name: comprehensive-code-review
title: Comprehensive Code Review Assistant
description: Performs detailed code review focusing on best practices, security, and performance
category: development
tags: ["code-review", "security", "performance", "best-practices"]
author: SwissArmyHammer Team
version: 2.1.0
license: MIT
created: 2024-01-15
updated: 2024-03-20
keywords: ["static analysis", "code quality", "security audit"]

arguments:
  - name: code
    description: Source code to review
    required: true
    type_hint: string
    
  - name: language
    description: Programming language (python, javascript, rust, etc.)
    required: false
    default: auto-detect
    type_hint: string
    
  - name: focus_areas
    description: Specific areas to focus on (security, performance, style)
    required: false
    default: all
    type_hint: string
    
  - name: severity_threshold
    description: Minimum severity level to report (low, medium, high)
    required: false
    default: medium
    type_hint: string
    
  - name: include_examples
    description: Include code examples in suggestions
    required: false
    default: true
    type_hint: boolean
    
  - name: max_suggestions
    description: Maximum number of suggestions to provide
    required: false
    default: 10
    type_hint: integer
---

# Comprehensive Code Review

I'll perform a detailed review of your {{language}} code, focusing on {{focus_areas}}.

## Code Analysis

```{{code}}```

## Review Criteria

I'll evaluate the code for:

{% if focus_areas contains "security" or focus_areas == "all" %}
- **Security vulnerabilities** and best practices
{% endif %}

{% if focus_areas contains "performance" or focus_areas == "all" %}
- **Performance optimizations** and efficiency
{% endif %}

{% if focus_areas contains "style" or focus_areas == "all" %}
- **Code style** and formatting consistency
{% endif %}

{% if language != "auto-detect" %}
- **{{language | capitalize}}-specific** best practices and idioms
{% endif %}

## Reporting

- Minimum severity: {{severity_threshold}}
- Maximum suggestions: {{max_suggestions}}
{% if include_examples %}
- Including code examples and fixes
{% endif %}

Please provide detailed feedback with specific line references where applicable.
</code></pre>
<h2 id="validation-rules"><a class="header" href="#validation-rules">Validation Rules</a></h2>
<p>SwissArmyHammer validates your YAML front matter:</p>
<h3 id="required-field-validation"><a class="header" href="#required-field-validation">Required Field Validation</a></h3>
<ul>
<li><code>name</code>, <code>title</code>, and <code>description</code> must be present</li>
<li><code>name</code> must be unique within the prompt library</li>
<li><code>name</code> must not contain spaces or special characters</li>
</ul>
<h3 id="argument-validation"><a class="header" href="#argument-validation">Argument Validation</a></h3>
<ul>
<li>Each argument must have <code>name</code> and <code>description</code></li>
<li>Argument names must be valid template variables</li>
<li>Required arguments cannot have default values</li>
<li>Argument names must be unique within the prompt</li>
</ul>
<h3 id="type-validation"><a class="header" href="#type-validation">Type Validation</a></h3>
<ul>
<li>Arrays must contain valid elements</li>
<li>Dates must be in ISO format</li>
<li>Booleans must be <code>true</code> or <code>false</code></li>
</ul>
<h2 id="best-practices-1"><a class="header" href="#best-practices-1">Best Practices</a></h2>
<h3 id="1-use-descriptive-names"><a class="header" href="#1-use-descriptive-names">1. Use Descriptive Names</a></h3>
<pre><code class="language-yaml"># Good
name: python-code-review
title: Python Code Review Assistant

# Bad
name: review
title: Review
</code></pre>
<h3 id="2-write-clear-descriptions"><a class="header" href="#2-write-clear-descriptions">2. Write Clear Descriptions</a></h3>
<pre><code class="language-yaml"># Good
description: Analyzes Python code for PEP 8 compliance, type hints, security issues, and performance optimizations

# Bad
description: Reviews code
</code></pre>
<h3 id="3-organize-with-categories-and-tags"><a class="header" href="#3-organize-with-categories-and-tags">3. Organize with Categories and Tags</a></h3>
<pre><code class="language-yaml">category: development
tags: ["python", "pep8", "security", "performance", "code-quality"]
</code></pre>
<h3 id="4-provide-sensible-defaults"><a class="header" href="#4-provide-sensible-defaults">4. Provide Sensible Defaults</a></h3>
<pre><code class="language-yaml">arguments:
  - name: style_guide
    description: Python style guide to follow
    required: false
    default: PEP 8  # Most common choice
</code></pre>
<h3 id="5-use-type-hints"><a class="header" href="#5-use-type-hints">5. Use Type Hints</a></h3>
<pre><code class="language-yaml">arguments:
  - name: max_issues
    description: Maximum number of issues to report
    required: false
    default: 20
    type_hint: integer  # Helps users understand expected format
</code></pre>
<h3 id="6-keep-versions-updated"><a class="header" href="#6-keep-versions-updated">6. Keep Versions Updated</a></h3>
<pre><code class="language-yaml">version: 1.2.0  # Update when you make changes
updated: 2024-03-20  # Track modification date
</code></pre>
<h2 id="common-patterns-1"><a class="header" href="#common-patterns-1">Common Patterns</a></h2>
<h3 id="code-processing-prompt"><a class="header" href="#code-processing-prompt">Code Processing Prompt</a></h3>
<pre><code class="language-yaml">---
name: code-processor
title: Code Processor
description: Processes and transforms code
category: development
arguments:
  - name: code
    description: Source code to process
    required: true
  - name: language
    description: Programming language
    required: false
    default: auto-detect
  - name: output_format
    description: Desired output format
    required: false
    default: markdown
---
</code></pre>
<h3 id="text-analysis-prompt"><a class="header" href="#text-analysis-prompt">Text Analysis Prompt</a></h3>
<pre><code class="language-yaml">---
name: text-analyzer
title: Text Analyzer
description: Analyzes text for various metrics
category: analysis
arguments:
  - name: text
    description: Text to analyze
    required: true
  - name: analysis_type
    description: Type of analysis to perform
    required: false
    default: comprehensive
  - name: include_stats
    description: Include statistical analysis
    required: false
    default: true
    type_hint: boolean
---
</code></pre>
<h3 id="document-generator"><a class="header" href="#document-generator">Document Generator</a></h3>
<pre><code class="language-yaml">---
name: doc-generator
title: Document Generator
description: Generates documentation from code or specifications
category: documentation
arguments:
  - name: source
    description: Source material to document
    required: true
  - name: format
    description: Output format
    required: false
    default: markdown
  - name: include_examples
    description: Include usage examples
    required: false
    default: true
    type_hint: boolean
---
</code></pre>
<h2 id="troubleshooting-3"><a class="header" href="#troubleshooting-3">Troubleshooting</a></h2>
<h3 id="common-errors"><a class="header" href="#common-errors">Common Errors</a></h3>
<h4 id="invalid-yaml-syntax"><a class="header" href="#invalid-yaml-syntax">Invalid YAML Syntax</a></h4>
<pre><code class="language-yaml"># Error: Missing quotes around string with special characters
description: This won't work: because of the colon

# Fixed: Quote strings with special characters
description: "This works: because it's quoted"
</code></pre>
<h4 id="missing-required-fields"><a class="header" href="#missing-required-fields">Missing Required Fields</a></h4>
<pre><code class="language-yaml"># Error: Missing required fields
title: My Prompt

# Fixed: Include all required fields
name: my-prompt
title: My Prompt
description: What this prompt does
</code></pre>
<h4 id="invalid-argument-structure"><a class="header" href="#invalid-argument-structure">Invalid Argument Structure</a></h4>
<pre><code class="language-yaml"># Error: Missing required argument properties
arguments:
  - name: code

# Fixed: Include required properties
arguments:
  - name: code
    description: Code to process
    required: true
</code></pre>
<h3 id="validation-tips"><a class="header" href="#validation-tips">Validation Tips</a></h3>
<ol>
<li><strong>Use a YAML validator</strong> - Many online tools can check syntax</li>
<li><strong>Test with CLI</strong> - Use <code>swissarmyhammer test</code> to validate prompts</li>
<li><strong>Check the logs</strong> - SwissArmyHammer provides detailed error messages</li>
<li><strong>Start simple</strong> - Begin with minimal front matter and add complexity</li>
</ol>
<h2 id="next-steps-4"><a class="header" href="#next-steps-4">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./template-variables.html">Template Variables</a> to use your arguments</li>
<li>Explore <a href="./custom-filters.html">Custom Filters</a> for advanced text processing</li>
<li>See <a href="./creating-prompts.html">Creating Prompts</a> for the complete workflow</li>
<li>Check <a href="./examples.html">Examples</a> for real-world YAML configurations</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="template-variables"><a class="header" href="#template-variables">Template Variables</a></h1>
<p>SwissArmyHammer uses the <a href="https://shopify.github.io/liquid/">Liquid template engine</a> for processing prompts. This provides powerful templating features including variables, conditionals, loops, and filters.</p>
<h2 id="basic-variable-substitution"><a class="header" href="#basic-variable-substitution">Basic Variable Substitution</a></h2>
<p>Variables are inserted using double curly braces:</p>
<pre><code class="language-liquid">Hello {{ name }}!
Your email is {{ email }}.
</code></pre>
<p>For backward compatibility, variables without spaces also work:</p>
<pre><code class="language-liquid">Hello {{name}}!
</code></pre>
<h2 id="conditionals"><a class="header" href="#conditionals">Conditionals</a></h2>
<h3 id="if-statements"><a class="header" href="#if-statements">If Statements</a></h3>
<p>Use <code>if</code> statements to conditionally include content:</p>
<pre><code class="language-liquid">{% if user_type == "admin" %}
  Welcome, administrator!
{% elsif user_type == "moderator" %}
  Welcome, moderator!
{% else %}
  Welcome, user!
{% endif %}
</code></pre>
<h3 id="unless-statements"><a class="header" href="#unless-statements">Unless Statements</a></h3>
<p><code>unless</code> is the opposite of <code>if</code>:</p>
<pre><code class="language-liquid">{% unless error_count == 0 %}
  Warning: {{ error_count }} errors found.
{% endunless %}
</code></pre>
<h3 id="comparison-operators"><a class="header" href="#comparison-operators">Comparison Operators</a></h3>
<ul>
<li><code>==</code> - equals</li>
<li><code>!=</code> - not equals</li>
<li><code>&gt;</code> - greater than</li>
<li><code>&lt;</code> - less than</li>
<li><code>&gt;=</code> - greater or equal</li>
<li><code>&lt;=</code> - less or equal</li>
<li><code>contains</code> - string/array contains</li>
<li><code>and</code> - logical AND</li>
<li><code>or</code> - logical OR</li>
</ul>
<p>Example:</p>
<pre><code class="language-liquid">{% if age &gt;= 18 and country == "US" %}
  You are eligible to vote.
{% endif %}

{% if tags contains "urgent" %}
  🚨 This is urgent!
{% endif %}
</code></pre>
<h2 id="case-statements"><a class="header" href="#case-statements">Case Statements</a></h2>
<p>For multiple conditions, use <code>case</code>:</p>
<pre><code class="language-liquid">{% case status %}
  {% when "pending" %}
    ⏳ Waiting for approval
  {% when "approved" %}
    ✅ Approved and ready
  {% when "rejected" %}
    ❌ Rejected
  {% else %}
    ❓ Unknown status
{% endcase %}
</code></pre>
<h2 id="loops-1"><a class="header" href="#loops-1">Loops</a></h2>
<h3 id="basic-for-loops"><a class="header" href="#basic-for-loops">Basic For Loops</a></h3>
<p>Iterate over arrays:</p>
<pre><code class="language-liquid">{% for item in items %}
  - {{ item }}
{% endfor %}
</code></pre>
<h3 id="range-loops"><a class="header" href="#range-loops">Range Loops</a></h3>
<p>Loop over a range of numbers:</p>
<pre><code class="language-liquid">{% for i in (1..5) %}
  Step {{ i }} of 5
{% endfor %}
</code></pre>
<h3 id="loop-variables"><a class="header" href="#loop-variables">Loop Variables</a></h3>
<p>Inside loops, you have access to special variables:</p>
<pre><code class="language-liquid">{% for item in items %}
  {% if forloop.first %}First item: {% endif %}
  {{ forloop.index }}. {{ item }}
  {% if forloop.last %}(last item){% endif %}
{% endfor %}
</code></pre>
<p>Available loop variables:</p>
<ul>
<li><code>forloop.index</code> - current iteration (1-based)</li>
<li><code>forloop.index0</code> - current iteration (0-based)</li>
<li><code>forloop.first</code> - true on first iteration</li>
<li><code>forloop.last</code> - true on last iteration</li>
<li><code>forloop.length</code> - total number of items</li>
</ul>
<h3 id="loop-control"><a class="header" href="#loop-control">Loop Control</a></h3>
<p>Use <code>break</code> and <code>continue</code> for flow control:</p>
<pre><code class="language-liquid">{% for item in items %}
  {% if item == "skip" %}
    {% continue %}
  {% endif %}
  {% if item == "stop" %}
    {% break %}
  {% endif %}
  Processing: {{ item }}
{% endfor %}
</code></pre>
<h3 id="cycle"><a class="header" href="#cycle">Cycle</a></h3>
<p>Alternate between values:</p>
<pre><code class="language-liquid">{% for row in data %}
  &lt;tr class="{% cycle 'odd', 'even' %}"&gt;
    &lt;td&gt;{{ row }}&lt;/td&gt;
  &lt;/tr&gt;
{% endfor %}
</code></pre>
<h2 id="filters-1"><a class="header" href="#filters-1">Filters</a></h2>
<p>Filters modify variables using the pipe (<code>|</code>) character:</p>
<h3 id="string-filters"><a class="header" href="#string-filters">String Filters</a></h3>
<pre><code class="language-liquid">{{ name | upcase }}           # ALICE
{{ name | downcase }}         # alice
{{ name | capitalize }}       # Alice
{{ text | strip }}            # removes whitespace
{{ text | truncate: 20 }}     # truncates to 20 chars
{{ text | truncate: 20, "..." }} # custom ellipsis
{{ text | append: "!" }}      # adds to end
{{ text | prepend: "Hello " }} # adds to beginning
{{ text | remove: "bad" }}    # removes all occurrences
{{ text | replace: "old", "new" }} # replaces all
{{ text | split: "," }}       # splits into array
</code></pre>
<h3 id="array-filters"><a class="header" href="#array-filters">Array Filters</a></h3>
<pre><code class="language-liquid">{{ array | first }}           # first element
{{ array | last }}            # last element
{{ array | join: ", " }}      # joins with delimiter
{{ array | sort }}            # sorts array
{{ array | reverse }}         # reverses array
{{ array | size }}            # number of elements
{{ array | uniq }}            # removes duplicates
</code></pre>
<h3 id="math-filters"><a class="header" href="#math-filters">Math Filters</a></h3>
<pre><code class="language-liquid">{{ number | plus: 5 }}        # addition
{{ number | minus: 3 }}       # subtraction
{{ number | times: 2 }}       # multiplication
{{ number | divided_by: 4 }}  # division
{{ number | modulo: 3 }}      # remainder
{{ number | ceil }}           # round up
{{ number | floor }}          # round down
{{ number | round }}          # round to nearest
{{ number | round: 2 }}       # round to 2 decimals
{{ number | abs }}            # absolute value
</code></pre>
<h3 id="default-filter"><a class="header" href="#default-filter">Default Filter</a></h3>
<p>Provide fallback values:</p>
<pre><code class="language-liquid">Hello {{ name | default: "Guest" }}!
Score: {{ score | default: 0 }}
</code></pre>
<h3 id="date-filters"><a class="header" href="#date-filters">Date Filters</a></h3>
<pre><code class="language-liquid">{{ date | date: "%Y-%m-%d" }}         # 2024-01-15
{{ date | date: "%B %d, %Y" }}        # January 15, 2024
{{ "now" | date: "%Y" }}              # current year
</code></pre>
<h2 id="advanced-features"><a class="header" href="#advanced-features">Advanced Features</a></h2>
<h3 id="comments"><a class="header" href="#comments">Comments</a></h3>
<p>Comments are not rendered in output:</p>
<pre><code class="language-liquid">{% comment %}
  This is a comment that won't appear in the output.
  Useful for documentation or temporarily disabling code.
{% endcomment %}
</code></pre>
<h3 id="raw-blocks"><a class="header" href="#raw-blocks">Raw Blocks</a></h3>
<p>Prevent Liquid processing:</p>
<pre><code class="language-liquid">{% raw %}
  This {{ variable }} won't be processed.
  Useful for showing Liquid syntax examples.
{% endraw %}
</code></pre>
<h3 id="assign-variables"><a class="header" href="#assign-variables">Assign Variables</a></h3>
<p>Create new variables:</p>
<pre><code class="language-liquid">{% assign full_name = first_name | append: " " | append: last_name %}
Welcome, {{ full_name }}!

{% assign item_count = items | size %}
You have {{ item_count }} items.
</code></pre>
<h3 id="capture-blocks"><a class="header" href="#capture-blocks">Capture Blocks</a></h3>
<p>Capture content into a variable:</p>
<pre><code class="language-liquid">{% capture greeting %}
  {% if time_of_day == "morning" %}
    Good morning
  {% elsif time_of_day == "evening" %}
    Good evening
  {% else %}
    Hello
  {% endif %}
{% endcapture %}

{{ greeting }}, {{ name }}!
</code></pre>
<h2 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h2>
<p>Access environment variables through the <code>env</code> object:</p>
<pre><code class="language-liquid">Current user: {{ env.USER }}
Home directory: {{ env.HOME }}
Custom setting: {{ env.MY_APP_CONFIG | default: "not set" }}
</code></pre>
<h2 id="object-access"><a class="header" href="#object-access">Object Access</a></h2>
<p>Access nested objects and arrays:</p>
<pre><code class="language-liquid">{{ user.name }}
{{ user.address.city }}
{{ items[0] }}
{{ items[index] }}
{{ data["dynamic_key"] }}
</code></pre>
<h2 id="truthy-and-falsy-values"><a class="header" href="#truthy-and-falsy-values">Truthy and Falsy Values</a></h2>
<p>In Liquid conditions:</p>
<ul>
<li><strong>Falsy</strong>: <code>false</code>, <code>nil</code></li>
<li><strong>Truthy</strong>: everything else (including <code>0</code>, <code>""</code>, <code>[]</code>)</li>
</ul>
<pre><code class="language-liquid">{% if value %}
  This shows unless value is false or nil
{% endif %}
</code></pre>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<p>When a variable is undefined:</p>
<ul>
<li>In backward-compatible mode: <code>{{ undefined }}</code> renders as <code>{{ undefined }}</code></li>
<li>With validation: An error is raised for missing required arguments</li>
</ul>
<p>Use the <code>default</code> filter to handle missing values gracefully:</p>
<pre><code class="language-liquid">{{ optional_var | default: "fallback value" }}
</code></pre>
<h2 id="partials"><a class="header" href="#partials">Partials</a></h2>
<p>SwissArmyHammer supports partials (template fragments) that can be included in other templates. This allows you to create reusable components and organize your templates better.</p>
<h3 id="creating-partials"><a class="header" href="#creating-partials">Creating Partials</a></h3>
<p>To create a partial, add the <code>{% partial %}</code> tag at the beginning of your template file:</p>
<pre><code class="language-liquid">{% partial %}

## Code Review Guidelines

Please review the following code for:
- Syntax errors
- Logic issues
- Best practices
- Performance concerns
</code></pre>
<h3 id="using-partials"><a class="header" href="#using-partials">Using Partials</a></h3>
<p>Use the <code>{% render %}</code> tag to include partials in your templates:</p>
<pre><code class="language-liquid"># Main Template

{% render "code-review-guidelines" %}

## Code to Review

```{{ language }}
{{ code }}
</code></pre>
<p>Please focus on {{ focus_area }}.</p>
<pre><code>
### Partial Resolution

SwissArmyHammer automatically resolves partials based on your prompt library:

1. **Exact name match**: `{% render "my-partial" %}` looks for `my-partial`
2. **With extensions**: Also tries `my-partial.md`, `my-partial.liquid`, `my-partial.md.liquid`, `my-partial.liquid.markdown`
3. **Without extensions**: If you have `my-partial.md.liquid`, you can reference it as `{% render "my-partial" %}`

### Supported File Extensions

Partials can use any of these extensions:
- `.md` - Markdown files
- `.liquid` - Liquid template files
- `.md.liquid` - Markdown with Liquid processing
- `.liquid.markdown` - Liquid with Markdown processing

### Organizing Partials

You can organize partials in subdirectories:

</code></pre>
<p>prompts/
├── main-template.md.liquid
├── partials/
│   ├── header.liquid
│   ├── footer.liquid
│   └── code-review/
│       ├── guidelines.md.liquid
│       └── checklist.liquid
└── shared/
└── common-footer.md</p>
<pre><code>
Reference them with their relative path:

```liquid
{% render "partials/header" %}
{% render "partials/code-review/guidelines" %}
{% render "shared/common-footer" %}
</code></pre>
<h3 id="partials-with-context"><a class="header" href="#partials-with-context">Partials with Context</a></h3>
<p>Partials have access to the same variables as the parent template:</p>
<p><strong>Parent template:</strong></p>
<pre><code class="language-liquid">{% assign project_name = "SwissArmyHammer" %}
{% assign language = "Rust" %}

{% render "project-info" %}
</code></pre>
<p><strong>Partial (project-info.liquid):</strong></p>
<pre><code class="language-liquid">{% partial %}

## Project: {{ project_name }}

This {{ language }} project follows strict coding standards.
</code></pre>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<h4 id="basic-partial-usage"><a class="header" href="#basic-partial-usage">Basic Partial Usage</a></h4>
<p><strong>footer.liquid:</strong></p>
<pre><code class="language-liquid">{% partial %}

---
Generated by SwissArmyHammer
Report issues at: https://github.com/project/issues
</code></pre>
<p><strong>main-template.md.liquid:</strong></p>
<pre><code class="language-liquid"># Code Review for {{ file_name }}

Please review the following code:

```{{ language }}
{{ code }}
</code></pre>
<p>{% render “footer” %}</p>
<pre><code>
#### Conditional Partials

```liquid
{% if include_security_check %}
  {% render "security-checklist" %}
{% endif %}

{% if language == "rust" %}
  {% render "rust-specific-guidelines" %}
{% elsif language == "python" %}
  {% render "python-specific-guidelines" %}
{% endif %}
</code></pre>
<h4 id="nested-partials"><a class="header" href="#nested-partials">Nested Partials</a></h4>
<p>Partials can include other partials:</p>
<p><strong>main-header.liquid:</strong></p>
<pre><code class="language-liquid">{% partial %}

{% render "project-info" %}
{% render "timestamp" %}

---
</code></pre>
<p><strong>project-info.liquid:</strong></p>
<pre><code class="language-liquid">{% partial %}

# {{ project_name | default: "Unknown Project" }}
Version: {{ version | default: "1.0.0" }}
</code></pre>
<h4 id="partials-in-loops"><a class="header" href="#partials-in-loops">Partials in Loops</a></h4>
<pre><code class="language-liquid">{% for task in tasks %}
  {% render "task-template" %}
{% endfor %}
</code></pre>
<p><strong>task-template.liquid:</strong></p>
<pre><code class="language-liquid">{% partial %}

## Task: {{ task.title }}
Status: {{ task.status }}
Priority: {{ task.priority | default: "normal" }}

{% if task.description %}
Description: {{ task.description }}
{% endif %}
</code></pre>
<h3 id="best-practices-2"><a class="header" href="#best-practices-2">Best Practices</a></h3>
<ol>
<li><strong>Use the <code>{% partial %}</code> tag</strong>: Always start partial files with <code>{% partial %}</code> to clearly mark them as partials</li>
<li><strong>Meaningful names</strong>: Use descriptive names for partials (<code>code-review-guidelines</code> instead of <code>guidelines</code>)</li>
<li><strong>Organize by function</strong>: Group related partials in subdirectories</li>
<li><strong>Keep partials focused</strong>: Each partial should have a single responsibility</li>
<li><strong>Document dependencies</strong>: If a partial expects certain variables, document them</li>
<li><strong>Test partials</strong>: Test partials with different variable contexts</li>
</ol>
<h3 id="common-use-cases"><a class="header" href="#common-use-cases">Common Use Cases</a></h3>
<h4 id="shared-headers-and-footers"><a class="header" href="#shared-headers-and-footers">Shared Headers and Footers</a></h4>
<p>Create consistent headers and footers across multiple prompts:</p>
<pre><code class="language-liquid">{% render "shared/header" %}

{{ main_content }}

{% render "shared/footer" %}
</code></pre>
<h4 id="language-specific-templates"><a class="header" href="#language-specific-templates">Language-Specific Templates</a></h4>
<pre><code class="language-liquid">{% case language %}
  {% when "rust" %}
    {% render "languages/rust-template" %}
  {% when "python" %}
    {% render "languages/python-template" %}
  {% when "javascript" %}
    {% render "languages/js-template" %}
  {% else %}
    {% render "languages/generic-template" %}
{% endcase %}
</code></pre>
<h4 id="conditional-content"><a class="header" href="#conditional-content">Conditional Content</a></h4>
<pre><code class="language-liquid">{% if debug_mode %}
  {% render "debug-info" %}
{% endif %}

{% if include_examples %}
  {% render "code-examples" %}
{% endif %}
</code></pre>
<h3 id="troubleshooting-4"><a class="header" href="#troubleshooting-4">Troubleshooting</a></h3>
<p><strong>Partial not found</strong>: Check that the partial file exists in your prompt library and that the name matches exactly.</p>
<p><strong>Variables not available</strong>: Partials use the same context as the parent template. Make sure variables are defined before rendering the partial.</p>
<p><strong>Infinite recursion</strong>: Avoid having partials that include themselves or create circular dependencies.</p>
<h2 id="migration-from-basic-templates"><a class="header" href="#migration-from-basic-templates">Migration from Basic Templates</a></h2>
<p>If you’re migrating from basic <code>{{variable}}</code> syntax:</p>
<ol>
<li><strong>Your existing templates still work</strong> - backward compatibility is maintained</li>
<li><strong>Add spaces for clarity</strong>: <code>{{var}}</code> → <code>{{ var }}</code></li>
<li><strong>Use filters for transformation</strong>: <code>{{ name | upcase }}</code> instead of post-processing</li>
<li><strong>Add conditions for dynamic content</strong>: Use <code>{% if %}</code> blocks</li>
<li><strong>Use loops for repetitive content</strong>: Replace manual duplication with <code>{% for %}</code></li>
</ol>
<h3 id="migration-examples"><a class="header" href="#migration-examples">Migration Examples</a></h3>
<h4 id="before-basic-variable-substitution"><a class="header" href="#before-basic-variable-substitution">Before: Basic Variable Substitution</a></h4>
<pre><code>Please review the {{language}} code in {{file}}.
Focus on {{focus_area}}.
</code></pre>
<h4 id="after-enhanced-with-liquid-features"><a class="header" href="#after-enhanced-with-liquid-features">After: Enhanced with Liquid Features</a></h4>
<pre><code class="language-liquid">Please review the {{ language | capitalize }} code in {{ file }}.

{% if focus_area %}
Focus on {{ focus_area }}.
{% else %}
Perform a general code review.
{% endif %}

{% if language == "python" %}
Pay special attention to PEP 8 compliance.
{% elsif language == "javascript" %}
Check for ESLint rule violations.
{% endif %}
</code></pre>
<h4 id="before-manual-list-creation"><a class="header" href="#before-manual-list-creation">Before: Manual List Creation</a></h4>
<pre><code>Files to review:
- {{file1}}
- {{file2}}
- {{file3}}
</code></pre>
<h4 id="after-dynamic-lists-with-loops"><a class="header" href="#after-dynamic-lists-with-loops">After: Dynamic Lists with Loops</a></h4>
<pre><code class="language-liquid">Files to review:
{% for file in files %}
- {{ file }}{% if forloop.last %} (final file){% endif %}
{% endfor %}

Total: {{ files | size }} files
</code></pre>
<h4 id="before-fixed-templates"><a class="header" href="#before-fixed-templates">Before: Fixed Templates</a></h4>
<pre><code>Status: {{status}}
</code></pre>
<h4 id="after-conditional-formatting"><a class="header" href="#after-conditional-formatting">After: Conditional Formatting</a></h4>
<pre><code class="language-liquid">Status: {% case status %}
  {% when "success" %}✅ {{ status | upcase }}
  {% when "error" %}❌ {{ status | upcase }}
  {% when "warning" %}⚠️ {{ status | capitalize }}
  {% else %}{{ status }}
{% endcase %}
</code></pre>
<h3 id="differences-from-handlebarsmustache"><a class="header" href="#differences-from-handlebarsmustache">Differences from Handlebars/Mustache</a></h3>
<p>If you’re familiar with Handlebars or Mustache templating:</p>
<div class="table-wrapper"><table><thead><tr><th>Feature</th><th>Handlebars/Mustache</th><th>Liquid</th></tr></thead><tbody>
<tr><td>Variables</td><td><code>{{variable}}</code></td><td><code>{{ variable }}</code></td></tr>
<tr><td>Conditionals</td><td><code>{{#if}}...{{/if}}</code></td><td><code>{% if %}...{% endif %}</code></td></tr>
<tr><td>Loops</td><td><code>{{#each}}...{{/each}}</code></td><td><code>{% for %}...{% endfor %}</code></td></tr>
<tr><td>Comments</td><td><code>{{! comment }}</code></td><td><code>{% comment %}...{% endcomment %}</code></td></tr>
<tr><td>Filters</td><td>Limited</td><td>Extensive built-in filters</td></tr>
<tr><td>Logic</td><td>Minimal</td><td>Full comparison operators</td></tr>
</tbody></table>
</div>
<h3 id="common-migration-patterns"><a class="header" href="#common-migration-patterns">Common Migration Patterns</a></h3>
<ol>
<li>
<p><strong>Variable with Default</strong></p>
<ul>
<li>Before: Handle missing variables in code</li>
<li>After: <code>{{ variable | default: "fallback" }}</code></li>
</ul>
</li>
<li>
<p><strong>Conditional Sections</strong></p>
<ul>
<li>Before: Generate different templates</li>
<li>After: Single template with <code>{% if %}</code> blocks</li>
</ul>
</li>
<li>
<p><strong>Repeated Content</strong></p>
<ul>
<li>Before: Manual duplication</li>
<li>After: <code>{% for %}</code> loops with <code>forloop</code> variables</li>
</ul>
</li>
<li>
<p><strong>String Transformation</strong></p>
<ul>
<li>Before: Transform in application code</li>
<li>After: Use Liquid filters directly</li>
</ul>
</li>
</ol>
<h3 id="backward-compatibility-notes"><a class="header" href="#backward-compatibility-notes">Backward Compatibility Notes</a></h3>
<ul>
<li>Simple <code>{{variable}}</code> syntax continues to work</li>
<li>Undefined variables are preserved as <code>{{ variable }}</code> in output</li>
<li>No breaking changes to existing templates</li>
<li>Gradual migration is supported - mix old and new syntax</li>
</ul>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<h3 id="dynamic-code-review"><a class="header" href="#dynamic-code-review">Dynamic Code Review</a></h3>
<pre><code class="language-liquid">{% if language == "python" %}
  Please review this Python code for PEP 8 compliance.
{% elsif language == "javascript" %}
  Please review this JavaScript code for ESLint rules.
{% else %}
  Please review this {{ language }} code for best practices.
{% endif %}

{% if include_security %}
  Also check for security vulnerabilities.
{% endif %}
</code></pre>
<h3 id="formatted-list"><a class="header" href="#formatted-list">Formatted List</a></h3>
<pre><code class="language-liquid">{% for item in tasks %}
  {{ forloop.index }}. {{ item.title }}
  {% if item.completed %}✓{% else %}○{% endif %}
  Priority: {{ item.priority | default: "normal" }}
  {% unless item.completed %}
    Due: {{ item.due_date | date: "%B %d" }}
  {% endunless %}
{% endfor %}
</code></pre>
<h3 id="conditional-debugging"><a class="header" href="#conditional-debugging">Conditional Debugging</a></h3>
<pre><code class="language-liquid">{% if debug_mode %}
  === Debug Information ===
  Variables: {{ arguments | json }}
  Environment: {{ env.NODE_ENV | default: "development" }}
  {% for key in api_keys %}
    {{ key }}: {{ key | truncate: 8 }}...
  {% endfor %}
{% endif %}
</code></pre>
<h2 id="best-practices-3"><a class="header" href="#best-practices-3">Best Practices</a></h2>
<ol>
<li><strong>Use meaningful variable names</strong>: <code>{{ user_email }}</code> instead of <code>{{ ue }}</code></li>
<li><strong>Provide defaults</strong>: <code>{{ value | default: "N/A" }}</code> for optional values</li>
<li><strong>Format output</strong>: Use filters to ensure consistent formatting</li>
<li><strong>Comment complex logic</strong>: Use <code>{% comment %}</code> blocks</li>
<li><strong>Test edge cases</strong>: Empty arrays, nil values, missing variables</li>
<li><strong>Keep it readable</strong>: Break complex templates into sections</li>
</ol>
<h2 id="custom-filters"><a class="header" href="#custom-filters">Custom Filters</a></h2>
<p>SwissArmyHammer includes specialized custom filters designed for prompt engineering:</p>
<h3 id="code-filters"><a class="header" href="#code-filters">Code Filters</a></h3>
<pre><code class="language-liquid">{{ code | format_lang: "rust" }}      # Format code with language
{{ code | extract_functions }}        # Extract function signatures
{{ path | basename }}                 # Get filename from path
{{ path | dirname }}                  # Get directory from path
{{ text | count_lines }}              # Count number of lines
{{ code | dedent }}                   # Remove common indentation
</code></pre>
<h3 id="text-processing-filters"><a class="header" href="#text-processing-filters">Text Processing Filters</a></h3>
<pre><code class="language-liquid">{{ text | extract_urls }}             # Extract URLs from text
{{ title | slugify }}                 # Convert to URL-friendly slug
{{ text | word_wrap: 80 }}            # Wrap text at 80 characters
{{ text | indent: 2 }}                # Indent all lines by 2 spaces
{{ items | bullet_list }}             # Convert array to bullet list
{{ text | highlight: "keyword" }}     # Highlight specific terms
</code></pre>
<h3 id="data-transformation-filters"><a class="header" href="#data-transformation-filters">Data Transformation Filters</a></h3>
<pre><code class="language-liquid">{{ json_string | from_json }}         # Parse JSON string
{{ data | to_json }}                  # Convert to JSON string
{{ csv_string | from_csv }}           # Parse CSV string
{{ array | to_csv }}                  # Convert to CSV string
{{ yaml_string | from_yaml }}         # Parse YAML string
{{ data | to_yaml }}                  # Convert to YAML string
</code></pre>
<h3 id="utility-filters"><a class="header" href="#utility-filters">Utility Filters</a></h3>
<pre><code class="language-liquid">{{ text | md5 }}                      # Generate MD5 hash
{{ text | sha1 }}                     # Generate SHA1 hash
{{ text | sha256 }}                   # Generate SHA256 hash
{{ number | ordinal }}                # Convert to ordinal (1st, 2nd, 3rd)
{{ 100 | lorem_words }}               # Generate lorem ipsum words
{{ date | format_date: "%Y-%m-%d" }}  # Advanced date formatting
</code></pre>
<p>For complete documentation of custom filters, see the <a href="./custom-filters.html">Custom Filters Reference</a>.</p>
<h2 id="limitations"><a class="header" href="#limitations">Limitations</a></h2>
<ol>
<li><strong>No custom tags</strong>: Only standard Liquid tags (plus SwissArmyHammer’s <code>{% partial %}</code> and <code>{% render %}</code>) are supported</li>
<li><strong>Performance</strong>: Very large loops may impact performance</li>
</ol>
<h2 id="further-reading"><a class="header" href="#further-reading">Further Reading</a></h2>
<ul>
<li><a href="https://shopify.github.io/liquid/">Official Liquid Documentation</a></li>
<li><a href="https://liquidjs.com/playground.html">Liquid Playground</a> - Test templates online</li>
<li><a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">Liquid Cheat Sheet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-filters-1"><a class="header" href="#custom-filters-1">Custom Filters</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prompt-organization"><a class="header" href="#prompt-organization">Prompt Organization</a></h1>
<p>Effective prompt organization is crucial for maintaining a scalable and manageable prompt library. This guide covers best practices for organizing your SwissArmyHammer prompts.</p>
<h2 id="directory-structure-1"><a class="header" href="#directory-structure-1">Directory Structure</a></h2>
<h3 id="recommended-hierarchy"><a class="header" href="#recommended-hierarchy">Recommended Hierarchy</a></h3>
<pre><code>~/.swissarmyhammer/prompts/
├── development/
│   ├── languages/
│   │   ├── python/
│   │   ├── javascript/
│   │   └── rust/
│   ├── frameworks/
│   │   ├── react/
│   │   ├── django/
│   │   └── fastapi/
│   └── tools/
│       ├── git/
│       ├── docker/
│       └── ci-cd/
├── writing/
│   ├── technical/
│   ├── business/
│   └── creative/
├── data/
│   ├── analysis/
│   ├── transformation/
│   └── visualization/
├── productivity/
│   ├── planning/
│   ├── automation/
│   └── workflows/
└── _shared/
    ├── components/
    ├── templates/
    └── utilities/
</code></pre>
<h3 id="directory-purposes"><a class="header" href="#directory-purposes">Directory Purposes</a></h3>
<ul>
<li><strong>development/</strong> - Programming and technical prompts</li>
<li><strong>writing/</strong> - Content creation and documentation</li>
<li><strong>data/</strong> - Data processing and analysis</li>
<li><strong>productivity/</strong> - Task management and workflows</li>
<li><strong>_shared/</strong> - Reusable components and utilities</li>
</ul>
<h2 id="naming-conventions-1"><a class="header" href="#naming-conventions-1">Naming Conventions</a></h2>
<h3 id="file-names"><a class="header" href="#file-names">File Names</a></h3>
<p>Use consistent, descriptive file names:</p>
<pre><code># Good examples
code-review-python.md
api-documentation-generator.md
git-commit-message.md
database-migration-planner.md

# Avoid
review.md
doc.md
prompt1.md
temp.md
</code></pre>
<h3 id="naming-rules"><a class="header" href="#naming-rules">Naming Rules</a></h3>
<ol>
<li><strong>Use kebab-case</strong> for file names</li>
<li><strong>Be descriptive</strong> - Include the purpose and context</li>
<li><strong>Add type suffix</strong> when multiple variants exist</li>
<li><strong>Keep under 40 characters</strong> for readability</li>
</ol>
<h3 id="prompt-names-in-yaml"><a class="header" href="#prompt-names-in-yaml">Prompt Names (in YAML)</a></h3>
<pre><code class="language-yaml"># Good - matches file name pattern
name: code-review-python

# Also good - hierarchical naming
name: development/code-review/python

# Avoid - too generic
name: review
</code></pre>
<h2 id="categories-and-tags-1"><a class="header" href="#categories-and-tags-1">Categories and Tags</a></h2>
<h3 id="using-categories"><a class="header" href="#using-categories">Using Categories</a></h3>
<p>Categories provide broad groupings:</p>
<pre><code class="language-yaml">---
name: api-security-scanner
title: API Security Scanner
category: development
subcategory: security
---
</code></pre>
<h3 id="effective-tagging"><a class="header" href="#effective-tagging">Effective Tagging</a></h3>
<p>Tags enable fine-grained discovery:</p>
<pre><code class="language-yaml">---
name: react-component-generator
tags:
  - react
  - javascript
  - frontend
  - component
  - generator
  - boilerplate
---
</code></pre>
<h3 id="category-vs-tags"><a class="header" href="#category-vs-tags">Category vs Tags</a></h3>
<ul>
<li><strong>Categories</strong>: Single, broad classification</li>
<li><strong>Tags</strong>: Multiple, specific attributes</li>
</ul>
<pre><code class="language-yaml"># Category for primary classification
category: development

# Tags for detailed attributes
tags:
  - python
  - testing
  - pytest
  - unit-tests
  - tdd
</code></pre>
<h2 id="modular-design"><a class="header" href="#modular-design">Modular Design</a></h2>
<h3 id="base-templates"><a class="header" href="#base-templates">Base Templates</a></h3>
<p>Create base templates in <code>_shared/templates/</code>:</p>
<pre><code class="language-markdown">&lt;!-- _shared/templates/code-review-base.md --&gt;
---
name: code-review-base
title: Base Code Review Template
abstract: true  # Indicates this is a template
---

# Code Review

## Overview
Review the following code for:
- Best practices
- Potential bugs
- Performance issues
- Security concerns

## Code
```{{language}}
{{code}}
</code></pre>
<h2 id="analysis"><a class="header" href="#analysis">Analysis</a></h2>
<p>{{analysis_content}}</p>
<pre><code>
### Extending Base Templates

```markdown
&lt;!-- development/languages/python/code-review-python.md --&gt;
---
name: code-review-python
title: Python Code Review
extends: code-review-base
---

{% capture analysis_content %}
### Python-Specific Checks
- PEP 8 compliance
- Type hints usage
- Pythonic idioms
- Import organization
{% endcapture %}

{% include "code-review-base" %}
</code></pre>
<h3 id="shared-components"><a class="header" href="#shared-components">Shared Components</a></h3>
<p>Store reusable components in <code>_shared/components/</code>:</p>
<pre><code class="language-markdown">&lt;!-- _shared/components/security-checks.md --&gt;
---
name: security-checks-component
component: true
---

### Security Analysis
- Input validation
- SQL injection risks
- XSS vulnerabilities
- Authentication flaws
- Data exposure
</code></pre>
<p>Use in prompts:</p>
<pre><code class="language-markdown">---
name: web-app-review
---

# Web Application Review

{{code}}

{% include "_shared/components/security-checks.md" %}

## Additional Checks
...
</code></pre>
<h2 id="versioning"><a class="header" href="#versioning">Versioning</a></h2>
<h3 id="version-in-metadata"><a class="header" href="#version-in-metadata">Version in Metadata</a></h3>
<p>Track prompt versions:</p>
<pre><code class="language-yaml">---
name: api-generator
version: 2.1.0
updated: 2024-03-20
changelog:
  - 2.1.0: Added GraphQL support
  - 2.0.0: Breaking change - new argument structure
  - 1.0.0: Initial release
---
</code></pre>
<h3 id="version-directories"><a class="header" href="#version-directories">Version Directories</a></h3>
<p>For major versions with breaking changes:</p>
<pre><code>prompts/
├── development/
│   ├── api-generator/
│   │   ├── v1/
│   │   │   └── api-generator.md
│   │   ├── v2/
│   │   │   └── api-generator.md
│   │   └── latest -&gt; v2/api-generator.md
</code></pre>
<h3 id="migration-guides"><a class="header" href="#migration-guides">Migration Guides</a></h3>
<p>Document version changes:</p>
<pre><code class="language-markdown">&lt;!-- development/api-generator/MIGRATION.md --&gt;
# API Generator Migration Guide

## v1 to v2

### Breaking Changes
- `endpoint_list` argument renamed to `endpoints`
- `auth_method` now requires specific values

### Migration Steps
1. Update argument names in your scripts
2. Validate auth_method values
3. Test with new version
</code></pre>
<h2 id="collections"><a class="header" href="#collections">Collections</a></h2>
<h3 id="prompt-collections"><a class="header" href="#prompt-collections">Prompt Collections</a></h3>
<p>Group related prompts:</p>
<pre><code class="language-markdown">&lt;!-- collections/fullstack-development.md --&gt;
---
name: fullstack-collection
title: Full-Stack Development Collection
type: collection
---

# Full-Stack Development Prompts

## Frontend
- `frontend/react-component` - React component generator
- `frontend/vue-template` - Vue.js templates
- `frontend/css-optimizer` - CSS optimization

## Backend
- `backend/api-design` - API design assistant
- `backend/database-schema` - Schema designer
- `backend/auth-implementation` - Authentication setup

## DevOps
- `devops/docker-config` - Docker configuration
- `devops/ci-pipeline` - CI/CD pipeline setup
- `devops/deployment-guide` - Deployment strategies
</code></pre>
<h3 id="collection-metadata"><a class="header" href="#collection-metadata">Collection Metadata</a></h3>
<pre><code class="language-yaml">---
name: data-science-toolkit
type: collection
prompts:
  - data/eda-assistant
  - data/feature-engineering
  - data/model-evaluation
  - data/visualization-guide
dependencies:
  - python
  - pandas
  - scikit-learn
---
</code></pre>
<h2 id="search-and-discovery"><a class="header" href="#search-and-discovery">Search and Discovery</a></h2>
<h3 id="metadata-for-search"><a class="header" href="#metadata-for-search">Metadata for Search</a></h3>
<p>Optimize prompts for discovery:</p>
<pre><code class="language-yaml">---
name: code-documenter
title: Intelligent Code Documentation Generator
description: |
  Generates comprehensive documentation for code including:
  - Function/method documentation
  - Class documentation
  - Module overview
  - Usage examples
  - API references
keywords:
  - documentation
  - docstring
  - comments
  - api docs
  - code docs
  - jsdoc
  - sphinx
  - rustdoc
search_terms:
  - "generate documentation"
  - "add comments to code"
  - "create api docs"
  - "document functions"
---
</code></pre>
<h3 id="aliases"><a class="header" href="#aliases">Aliases</a></h3>
<p>Support multiple names:</p>
<pre><code class="language-yaml">---
name: git-commit-message
aliases:
  - commit-message
  - git-message
  - commit-generator
---
</code></pre>
<h3 id="related-prompts"><a class="header" href="#related-prompts">Related Prompts</a></h3>
<p>Link related prompts:</p>
<pre><code class="language-yaml">---
name: code-review-security
related:
  - code-review-general
  - security-audit
  - vulnerability-scanner
  - penetration-test-guide
---
</code></pre>
<h2 id="team-collaboration"><a class="header" href="#team-collaboration">Team Collaboration</a></h2>
<h3 id="shared-conventions"><a class="header" href="#shared-conventions">Shared Conventions</a></h3>
<p>Document team conventions in <code>CONVENTIONS.md</code>:</p>
<pre><code class="language-markdown"># Prompt Conventions

## Naming
- Use `project-` prefix for project-specific prompts
- Use `team-` prefix for team-wide prompts
- Use `personal-` prefix for individual prompts

## Categories
- `project` - Project-specific
- `team` - Team standards
- `experimental` - Under development

## Required Metadata
All prompts must include:
- name
- title
- description
- author
- created date
- category
</code></pre>
<h3 id="ownership"><a class="header" href="#ownership">Ownership</a></h3>
<p>Track prompt ownership:</p>
<pre><code class="language-yaml">---
name: deployment-checklist
author: jane.doe@company.com
team: platform-engineering
maintainers:
  - jane.doe@company.com
  - john.smith@company.com
review_required: true
last_reviewed: 2024-03-15
---
</code></pre>
<h3 id="review-process"><a class="header" href="#review-process">Review Process</a></h3>
<p>Implement prompt review:</p>
<pre><code class="language-yaml">---
name: api-contract-generator
status: draft  # draft, review, approved, deprecated
reviewers:
  - senior-dev-team
approved_by: tech-lead@company.com
approval_date: 2024-03-10
---
</code></pre>
<h2 id="importexport-strategies"><a class="header" href="#importexport-strategies">Import/Export Strategies</a></h2>
<h3 id="partial-exports"><a class="header" href="#partial-exports">Partial Exports</a></h3>
<p>Export specific categories:</p>
<pre><code class="language-bash"># Export only development prompts
swissarmyhammer export dev-prompts.tar.gz --filter "category:development"

# Export by tags
swissarmyhammer export python-prompts.tar.gz --filter "tag:python"

# Export by date
swissarmyhammer export recent-prompts.tar.gz --filter "updated:&gt;2024-01-01"
</code></pre>
<h3 id="collection-bundles"><a class="header" href="#collection-bundles">Collection Bundles</a></h3>
<p>Create installable bundles:</p>
<pre><code class="language-yaml"># bundle.yaml
name: web-development-bundle
version: 1.0.0
description: Complete web development prompt collection
prompts:
  include:
    - category: frontend
    - category: backend
    - tag: web
  exclude:
    - tag: experimental
dependencies:
  - swissarmyhammer: "&gt;=0.1.0"
install_to: ~/.swissarmyhammer/prompts/bundles/web-dev/
</code></pre>
<h3 id="sync-strategies"><a class="header" href="#sync-strategies">Sync Strategies</a></h3>
<p>Keep prompts synchronized:</p>
<pre><code class="language-bash">#!/bin/bash
# sync-prompts.sh

# Backup local changes
swissarmyhammer export local-backup-$(date +%Y%m%d).tar.gz

# Pull team prompts
git pull origin main

# Import team updates
swissarmyhammer import team-prompts.tar.gz --merge

# Export for distribution
swissarmyhammer export team-bundle.tar.gz --filter "team:approved"
</code></pre>
<h2 id="best-practices-4"><a class="header" href="#best-practices-4">Best Practices</a></h2>
<h3 id="1-start-simple"><a class="header" href="#1-start-simple">1. Start Simple</a></h3>
<p>Begin with basic organization:</p>
<pre><code>prompts/
├── work/
├── personal/
└── learning/
</code></pre>
<p>Then evolve as needed.</p>
<h3 id="2-use-meaningful-hierarchies"><a class="header" href="#2-use-meaningful-hierarchies">2. Use Meaningful Hierarchies</a></h3>
<pre><code># Good - clear hierarchy
development/testing/unit-test-generator.md
development/testing/integration-test-builder.md

# Avoid - flat structure
unit-test-generator.md
integration-test-builder.md
</code></pre>
<h3 id="3-document-your-system"><a class="header" href="#3-document-your-system">3. Document Your System</a></h3>
<p>Create <code>prompts/README.md</code>:</p>
<pre><code class="language-markdown"># Prompt Library Organization

## Structure
- `development/` - Programming prompts
- `data/` - Data analysis prompts
- `writing/` - Content creation
- `_shared/` - Reusable components

## Naming Convention
- Files: `purpose-context-type.md`
- Prompts: Match file names

## How to Contribute
1. Choose appropriate category
2. Follow naming conventions
3. Include all required metadata
4. Test before committing
</code></pre>
<h3 id="4-regular-maintenance"><a class="header" href="#4-regular-maintenance">4. Regular Maintenance</a></h3>
<pre><code class="language-bash"># Find unused prompts
swissarmyhammer list --unused --days 90

# Find duplicates
swissarmyhammer list --duplicates

# Validate all prompts
swissarmyhammer doctor --check prompts
</code></pre>
<h3 id="5-progressive-enhancement"><a class="header" href="#5-progressive-enhancement">5. Progressive Enhancement</a></h3>
<p>Start with basic prompts and enhance:</p>
<pre><code class="language-yaml"># Version 1 - Basic
name: code-review
description: Reviews code

# Version 2 - Enhanced
name: code-review
description: Reviews code for quality, security, and performance
category: development
tags: [review, quality, security]
version: 2.0.0
</code></pre>
<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
<h3 id="enterprise-setup"><a class="header" href="#enterprise-setup">Enterprise Setup</a></h3>
<pre><code>company-prompts/
├── departments/
│   ├── engineering/
│   │   ├── standards/
│   │   ├── templates/
│   │   └── tools/
│   ├── product/
│   │   ├── specs/
│   │   ├── research/
│   │   └── documentation/
│   └── data-science/
│       ├── analysis/
│       ├── models/
│       └── reporting/
├── projects/
│   ├── project-alpha/
│   ├── project-beta/
│   └── _archived/
├── shared/
│   ├── components/
│   ├── templates/
│   └── utilities/
└── personal/
    └── [username]/
</code></pre>
<h3 id="open-source-project"><a class="header" href="#open-source-project">Open Source Project</a></h3>
<pre><code>oss-prompts/
├── contribution/
│   ├── issue-templates/
│   ├── pr-templates/
│   └── code-review/
├── documentation/
│   ├── api-docs/
│   ├── user-guide/
│   └── examples/
├── maintenance/
│   ├── release/
│   ├── changelog/
│   └── security/
└── community/
    ├── support/
    └── onboarding/
</code></pre>
<h2 id="automation"><a class="header" href="#automation">Automation</a></h2>
<h3 id="auto-organization-script"><a class="header" href="#auto-organization-script">Auto-Organization Script</a></h3>
<pre><code class="language-python">#!/usr/bin/env python3
# organize-prompts.py

import os
import yaml
from pathlib import Path

def organize_prompts(source_dir, target_dir):
    """Auto-organize prompts based on metadata."""
    for prompt_file in Path(source_dir).glob("**/*.md"):
        with open(prompt_file) as f:
            content = f.read()
            
        # Extract front matter
        if content.startswith("---"):
            _, fm, _ = content.split("---", 2)
            metadata = yaml.safe_load(fm)
            
            # Determine target path
            category = metadata.get("category", "uncategorized")
            subcategory = metadata.get("subcategory", "")
            
            target_path = Path(target_dir) / category
            if subcategory:
                target_path = target_path / subcategory
                
            # Move file
            target_path.mkdir(parents=True, exist_ok=True)
            target_file = target_path / prompt_file.name
            prompt_file.rename(target_file)
            
            print(f"Moved {prompt_file} -&gt; {target_file}")
</code></pre>
<h3 id="validation-script"><a class="header" href="#validation-script">Validation Script</a></h3>
<pre><code class="language-bash">#!/bin/bash
# validate-organization.sh

echo "Validating prompt organization..."

# Check for prompts without categories
echo "Prompts without categories:"
grep -L "category:" prompts/**/*.md

# Check for duplicate names
echo "Duplicate prompt names:"
swissarmyhammer list --format json | jq -r '.[] | .name' | sort | uniq -d

# Check naming conventions
echo "Files not following naming convention:"
find prompts -name "*.md" | grep -v "[a-z0-9-]*.md"
</code></pre>
<h2 id="next-steps-5"><a class="header" href="#next-steps-5">Next Steps</a></h2>
<ul>
<li>See <a href="./creating-prompts.html">Creating Prompts</a> for prompt creation guidelines</li>
<li>Learn about <a href="./advanced-prompts.html">Advanced Prompts</a> for complex scenarios</li>
<li>Explore <a href="./examples.html">Examples</a> for organization patterns</li>
<li>Read <a href="./configuration.html">Configuration</a> for system-wide settings</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="claude-code-integration"><a class="header" href="#claude-code-integration">Claude Code Integration</a></h1>
<p>SwissArmyHammer integrates seamlessly with <a href="https://docs.anthropic.com/en/docs/claude-code">Claude Code</a> through the Model Context Protocol (MCP). This guide shows you how to set up and use SwissArmyHammer with Claude Code.</p>
<h2 id="what-is-mcp"><a class="header" href="#what-is-mcp">What is MCP?</a></h2>
<p>The <a href="https://github.com/anthropics/model-context-protocol">Model Context Protocol</a> allows AI assistants like Claude to access external tools and data sources. SwissArmyHammer acts as an MCP server, providing Claude Code with access to your prompt library.</p>
<h2 id="installation-2"><a class="header" href="#installation-2">Installation</a></h2>
<h3 id="1-install-swissarmyhammer"><a class="header" href="#1-install-swissarmyhammer">1. Install SwissArmyHammer</a></h3>
<p>See the <a href="./installation.html">Installation Guide</a> for detailed instructions. The quickest method:</p>
<pre><code class="language-bash"># Install using the install script
curl -sSL https://raw.githubusercontent.com/wballard/swissarmyhammer/main/install.sh | bash
</code></pre>
<h3 id="2-verify-installation"><a class="header" href="#2-verify-installation">2. Verify Installation</a></h3>
<pre><code class="language-bash">swissarmyhammer --version
</code></pre>
<h3 id="3-test-the-mcp-server"><a class="header" href="#3-test-the-mcp-server">3. Test the MCP Server</a></h3>
<pre><code class="language-bash">swissarmyhammer serve --help
</code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="add-to-claude-code"><a class="header" href="#add-to-claude-code">Add to Claude Code</a></h3>
<p>Configure Claude Code to use SwissArmyHammer as an MCP server:</p>
<pre><code class="language-bash">claude mcp add --scope user swissarmyhammer swissarmyhammer serve
</code></pre>
<p>This command:</p>
<ul>
<li>Adds <code>swissarmyhammer</code> as an MCP server name</li>
<li>Uses <code>swissarmyhammer serve</code> as the command to start the server</li>
<li>Sets user scope (available for your user account)</li>
</ul>
<h3 id="alternative-configuration-methods"><a class="header" href="#alternative-configuration-methods">Alternative Configuration Methods</a></h3>
<h4 id="manual-configuration"><a class="header" href="#manual-configuration">Manual Configuration</a></h4>
<p>If you prefer to configure manually, add this to your Claude Code MCP configuration:</p>
<pre><code class="language-json">{
  "mcpServers": {
    "swissarmyhammer": {
      "command": "swissarmyhammer",
      "args": ["serve"]
    }
  }
}
</code></pre>
<h4 id="project-specific-configuration"><a class="header" href="#project-specific-configuration">Project-Specific Configuration</a></h4>
<p>For project-specific prompts, create a local configuration:</p>
<pre><code class="language-bash"># In your project directory
claude mcp add --scope project swissarmyhammer_local swissarmyhammer serve --prompts ./prompts
</code></pre>
<h2 id="verification-1"><a class="header" href="#verification-1">Verification</a></h2>
<h3 id="check-mcp-configuration"><a class="header" href="#check-mcp-configuration">Check MCP Configuration</a></h3>
<p>List your configured MCP servers:</p>
<pre><code class="language-bash">claude mcp list
</code></pre>
<p>You should see <code>swissarmyhammer</code> in the output.</p>
<h3 id="test-the-connection"><a class="header" href="#test-the-connection">Test the Connection</a></h3>
<p>Start Claude Code and verify SwissArmyHammer is connected:</p>
<ol>
<li>Open Claude Code</li>
<li>Look for SwissArmyHammer prompts in the available tools</li>
<li>Try using a built-in prompt like <code>help</code> or <code>plan</code></li>
</ol>
<h3 id="debug-connection-issues"><a class="header" href="#debug-connection-issues">Debug Connection Issues</a></h3>
<p>If SwissArmyHammer doesn’t appear in Claude Code:</p>
<pre><code class="language-bash"># Check if the server starts correctly
swissarmyhammer serve --debug

# Verify prompts are loaded
swissarmyhammer list

# Check configuration
claude mcp list
</code></pre>
<h2 id="usage-in-claude-code"><a class="header" href="#usage-in-claude-code">Usage in Claude Code</a></h2>
<h3 id="available-features"><a class="header" href="#available-features">Available Features</a></h3>
<p>Once configured, SwissArmyHammer provides these features in Claude Code:</p>
<h4 id="1-prompt-library-access"><a class="header" href="#1-prompt-library-access">1. Prompt Library Access</a></h4>
<p>All your prompts become available as tools in Claude Code:</p>
<ul>
<li>Built-in prompts (code review, debugging, documentation)</li>
<li>User prompts (in <code>~/.swissarmyhammer/prompts/</code>)</li>
<li>Local prompts (in current project directory)</li>
</ul>
<h4 id="2-dynamic-arguments"><a class="header" href="#2-dynamic-arguments">2. Dynamic Arguments</a></h4>
<p>Prompts with arguments become interactive forms in Claude Code:</p>
<pre><code class="language-markdown">---
name: code-review
title: Code Review
description: Reviews code for best practices, bugs, and improvements
arguments:
  - name: code
    description: Code to review
    required: true
    type_hint: string
  - name: language
    description: Programming language
    required: false
    default: auto-detect
    type_hint: string
---
</code></pre>
<h4 id="3-live-reloading"><a class="header" href="#3-live-reloading">3. Live Reloading</a></h4>
<p>Changes to prompt files are automatically detected and reloaded.</p>
<h3 id="using-prompts"><a class="header" href="#using-prompts">Using Prompts</a></h3>
<h4 id="basic-usage-1"><a class="header" href="#basic-usage-1">Basic Usage</a></h4>
<ol>
<li><strong>Select a Prompt</strong>: Choose from available SwissArmyHammer prompts</li>
<li><strong>Fill Arguments</strong>: Provide required and optional parameters</li>
<li><strong>Execute</strong>: Claude runs the prompt with your arguments</li>
</ol>
<h4 id="example-workflow"><a class="header" href="#example-workflow">Example Workflow</a></h4>
<ol>
<li>
<p><strong>Code Review</strong>:</p>
<ul>
<li>Select <code>code-review</code> prompt</li>
<li>Paste your code in the <code>code</code> field</li>
<li>Set <code>language</code> if needed</li>
<li>Execute to get detailed code analysis</li>
</ul>
</li>
<li>
<p><strong>Debug Helper</strong>:</p>
<ul>
<li>Select <code>debug</code> prompt</li>
<li>Describe your error in the <code>error</code> field</li>
<li>Get step-by-step debugging guidance</li>
</ul>
</li>
<li>
<p><strong>Documentation</strong>:</p>
<ul>
<li>Select <code>docs</code> prompt</li>
<li>Provide code or specifications</li>
<li>Generate comprehensive documentation</li>
</ul>
</li>
</ol>
<h3 id="advanced-usage"><a class="header" href="#advanced-usage">Advanced Usage</a></h3>
<h4 id="prompt-chaining"><a class="header" href="#prompt-chaining">Prompt Chaining</a></h4>
<p>Use multiple prompts in sequence:</p>
<pre><code class="language-markdown">1. Use `analyze-code` to understand the codebase
2. Use `plan` to create implementation strategy  
3. Use `code-review` on the new code
4. Use `docs` to generate documentation
</code></pre>
<h4 id="custom-workflows"><a class="header" href="#custom-workflows">Custom Workflows</a></h4>
<p>Create project-specific prompt workflows:</p>
<pre><code class="language-markdown"># Project prompts in ./.swissarmyhammer/prompts/

## development/
- project-setup.md - Initialize new features
- code-standards.md - Apply project coding standards
- deployment.md - Deploy to staging/production

## documentation/  
- api-docs.md - Generate API documentation
- user-guide.md - Create user-facing documentation
- changelog.md - Generate release notes
</code></pre>
<h2 id="configuration-options"><a class="header" href="#configuration-options">Configuration Options</a></h2>
<h3 id="server-configuration"><a class="header" href="#server-configuration">Server Configuration</a></h3>
<p>The <code>swissarmyhammer serve</code> command accepts several options:</p>
<pre><code class="language-bash">swissarmyhammer serve [OPTIONS]
</code></pre>
<h4 id="common-options"><a class="header" href="#common-options">Common Options</a></h4>
<ul>
<li><code>--port &lt;PORT&gt;</code> - Port for MCP communication (default: auto)</li>
<li><code>--host &lt;HOST&gt;</code> - Host to bind to (default: localhost)</li>
<li><code>--prompts &lt;DIR&gt;</code> - Additional prompt directories</li>
<li><code>--builtin &lt;BOOL&gt;</code> - Include built-in prompts (default: true)</li>
<li><code>--watch &lt;BOOL&gt;</code> - Enable file watching (default: true)</li>
<li><code>--debug</code> - Enable debug logging</li>
</ul>
<h4 id="examples-3"><a class="header" href="#examples-3">Examples</a></h4>
<pre><code class="language-bash"># Basic server
swissarmyhammer serve

# Custom prompt directory
swissarmyhammer serve --prompts /path/to/prompts

# Multiple prompt directories
swissarmyhammer serve --prompts ./prompts --prompts ~/.custom-prompts

# Debug mode
swissarmyhammer serve --debug

# Disable built-in prompts
swissarmyhammer serve --builtin false
</code></pre>
<h3 id="claude-code-configuration"><a class="header" href="#claude-code-configuration">Claude Code Configuration</a></h3>
<h4 id="server-arguments"><a class="header" href="#server-arguments">Server Arguments</a></h4>
<p>Pass arguments to the SwissArmyHammer server:</p>
<pre><code class="language-bash"># Add with custom options
claude mcp add swissarmyhammer_custom swissarmyhammer serve --prompts ./project-prompts --debug
</code></pre>
<h4 id="environment-variables-1"><a class="header" href="#environment-variables-1">Environment Variables</a></h4>
<p>Configure through environment variables:</p>
<pre><code class="language-bash">export SWISSARMYHAMMER_PROMPTS_DIR=/path/to/prompts
export SWISSARMYHAMMER_DEBUG=true
claude mcp add swissarmyhammer swissarmyhammer serve
</code></pre>
<h2 id="prompt-organization-1"><a class="header" href="#prompt-organization-1">Prompt Organization</a></h2>
<h3 id="directory-structure-2"><a class="header" href="#directory-structure-2">Directory Structure</a></h3>
<p>Organize prompts for easy discovery in Claude Code:</p>
<pre><code>~/.swissarmyhammer/prompts/
├── development/
│   ├── code-review.md
│   ├── debug-helper.md
│   ├── refactor.md
│   └── testing.md
├── writing/
│   ├── blog-post.md
│   ├── documentation.md
│   └── email.md
├── analysis/
│   ├── data-insights.md
│   └── research.md
└── productivity/
    ├── task-planning.md
    └── meeting-notes.md
</code></pre>
<h3 id="naming-conventions-2"><a class="header" href="#naming-conventions-2">Naming Conventions</a></h3>
<p>Use clear, descriptive names that work well in Claude Code:</p>
<pre><code class="language-markdown"># Good - Clear and specific
code-review-python.md
debug-javascript-async.md
documentation-api.md

# Bad - Too generic
review.md
debug.md
docs.md
</code></pre>
<h3 id="categories-and-tags-2"><a class="header" href="#categories-and-tags-2">Categories and Tags</a></h3>
<p>Use categories and tags for better organization in Claude Code:</p>
<pre><code class="language-yaml">---
name: python-code-review
title: Python Code Review
description: Reviews Python code for PEP 8, security, and performance
category: development
tags: ["python", "code-review", "pep8", "security"]
---
</code></pre>
<h2 id="troubleshooting-5"><a class="header" href="#troubleshooting-5">Troubleshooting</a></h2>
<h3 id="common-issues-1"><a class="header" href="#common-issues-1">Common Issues</a></h3>
<h4 id="swissarmyhammer-not-available"><a class="header" href="#swissarmyhammer-not-available">SwissArmyHammer Not Available</a></h4>
<p><strong>Symptoms</strong>: SwissArmyHammer prompts don’t appear in Claude Code</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Verify installation: <code>swissarmyhammer --version</code></li>
<li>Check MCP configuration: <code>claude mcp list</code></li>
<li>Test server manually: <code>swissarmyhammer serve --debug</code></li>
<li>Restart Claude Code</li>
</ol>
<h4 id="connection-errors"><a class="header" href="#connection-errors">Connection Errors</a></h4>
<p><strong>Symptoms</strong>: Error messages about MCP connection</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Check if port is available: <code>swissarmyhammer serve --port 8080</code></li>
<li>Verify permissions: Run with <code>--debug</code> to see detailed logs</li>
<li>Check firewall settings</li>
<li>Try different host: <code>--host 127.0.0.1</code></li>
</ol>
<h4 id="prompts-not-loading"><a class="header" href="#prompts-not-loading">Prompts Not Loading</a></h4>
<p><strong>Symptoms</strong>: Some prompts missing or outdated</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Check prompt syntax: <code>swissarmyhammer test &lt;prompt-name&gt;</code></li>
<li>Verify file permissions in prompt directories</li>
<li>Check for YAML syntax errors</li>
<li>Restart the MCP server: Restart Claude Code</li>
</ol>
<h4 id="performance-issues"><a class="header" href="#performance-issues">Performance Issues</a></h4>
<p><strong>Symptoms</strong>: Slow prompt loading or execution</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Reduce prompt directory size</li>
<li>Disable file watching: <code>--watch false</code></li>
<li>Use specific prompt directories: <code>--prompts ./specific-dir</code></li>
<li>Check system resources</li>
</ol>
<h3 id="debug-mode"><a class="header" href="#debug-mode">Debug Mode</a></h3>
<p>Enable debug mode for detailed troubleshooting:</p>
<pre><code class="language-bash">swissarmyhammer serve --debug
</code></pre>
<p>Debug mode provides:</p>
<ul>
<li>Detailed logging of MCP communication</li>
<li>Prompt loading information</li>
<li>Error stack traces</li>
<li>Performance metrics</li>
</ul>
<h3 id="logs-and-diagnostics"><a class="header" href="#logs-and-diagnostics">Logs and Diagnostics</a></h3>
<h4 id="server-logs"><a class="header" href="#server-logs">Server Logs</a></h4>
<p>SwissArmyHammer logs to standard output:</p>
<pre><code class="language-bash"># Save logs to file
swissarmyhammer serve --debug &gt; swissarmyhammer.log 2&gt;&amp;1
</code></pre>
<h4 id="claude-code-logs"><a class="header" href="#claude-code-logs">Claude Code Logs</a></h4>
<p>Check Claude Code logs for MCP-related issues:</p>
<pre><code class="language-bash"># Location varies by platform
# macOS: ~/Library/Logs/Claude Code/
# Linux: ~/.local/share/claude-code/logs/
# Windows: %APPDATA%/Claude Code/logs/
</code></pre>
<h4 id="health-check"><a class="header" href="#health-check">Health Check</a></h4>
<p>Use the doctor command to check configuration:</p>
<pre><code class="language-bash">swissarmyhammer doctor
</code></pre>
<p>This checks:</p>
<ul>
<li>Installation status</li>
<li>Configuration validity</li>
<li>Prompt directory accessibility</li>
<li>MCP server functionality</li>
</ul>
<h2 id="best-practices-5"><a class="header" href="#best-practices-5">Best Practices</a></h2>
<h3 id="1-organize-prompts-logically"><a class="header" href="#1-organize-prompts-logically">1. Organize Prompts Logically</a></h3>
<p>Structure prompts by workflow rather than just topic:</p>
<pre><code>prompts/
├── workflows/
│   ├── code-review-workflow.md
│   ├── feature-development.md
│   └── bug-fixing.md
├── utilities/
│   ├── format-code.md
│   ├── generate-tests.md
│   └── extract-docs.md
</code></pre>
<h3 id="2-use-descriptive-metadata"><a class="header" href="#2-use-descriptive-metadata">2. Use Descriptive Metadata</a></h3>
<p>Make prompts discoverable with good metadata:</p>
<pre><code class="language-yaml">---
name: comprehensive-code-review
title: Comprehensive Code Review
description: Deep analysis of code for security, performance, and maintainability
category: development
tags: ["security", "performance", "maintainability", "best-practices"]
keywords: ["static analysis", "code quality", "peer review"]
---
</code></pre>
<h3 id="3-test-prompts-regularly"><a class="header" href="#3-test-prompts-regularly">3. Test Prompts Regularly</a></h3>
<p>Validate prompts before using in Claude Code:</p>
<pre><code class="language-bash"># Test basic functionality
swissarmyhammer test code-review --code "def hello(): print('hi')"

# Test all prompts
swissarmyhammer test --all
</code></pre>
<h3 id="4-use-project-specific-configurations"><a class="header" href="#4-use-project-specific-configurations">4. Use Project-Specific Configurations</a></h3>
<p>Create project-specific prompt collections:</p>
<pre><code class="language-bash"># Per-project MCP server
cd my-project
claude mcp add project_prompts swissarmyhammer serve --prompts ./prompts
</code></pre>
<h3 id="5-keep-prompts-updated"><a class="header" href="#5-keep-prompts-updated">5. Keep Prompts Updated</a></h3>
<p>Maintain prompt quality:</p>
<pre><code class="language-yaml">---
name: my-prompt
version: 1.2.0
updated: 2024-03-20  # Track changes
---
</code></pre>
<h2 id="examples-4"><a class="header" href="#examples-4">Examples</a></h2>
<h3 id="complete-setup-example"><a class="header" href="#complete-setup-example">Complete Setup Example</a></h3>
<p>Here’s a complete example of setting up SwissArmyHammer for a development project:</p>
<pre><code class="language-bash"># 1. Install SwissArmyHammer
curl -sSL https://raw.githubusercontent.com/wballard/swissarmyhammer/main/install.sh | bash

# 2. Create project prompts
mkdir -p ./.swissarmyhammer/prompts/development
cat &gt; ./.swissarmyhammer/prompts/development/project-review.md &lt;&lt; 'EOF'
---
name: project-code-review
title: Project Code Review
description: Reviews code according to our project standards
category: development
arguments:
  - name: code
    description: Code to review
    required: true
  - name: component
    description: Which component this code belongs to
    required: false
    default: general
---

# Project Code Review

Please review this {{component}} code according to our project standards:

```{{code}}```

Check for:
- Adherence to our coding standards
- Security best practices
- Performance considerations
- Documentation completeness
- Test coverage

Provide specific, actionable feedback.
EOF

# 3. Configure Claude Code
claude mcp add project_sah swissarmyhammer serve --prompts ./prompts

# 4. Test the setup
swissarmyhammer test project-code-review --code "print('hello')" --component "utility"

# 5. Start using in Claude Code
echo "Setup complete! Restart Claude Code to use your prompts."
</code></pre>
<h2 id="next-steps-6"><a class="header" href="#next-steps-6">Next Steps</a></h2>
<ul>
<li>Explore <a href="./builtin-prompts.html">Built-in Prompts</a> to see what’s available</li>
<li>Learn <a href="./creating-prompts.html">Creating Prompts</a> to build custom prompts</li>
<li>Read about <a href="./prompt-organization.html">Prompt Organization</a> strategies</li>
<li>Check the <a href="./cli-reference.html">CLI Reference</a> for all available commands</li>
<li>See <a href="./troubleshooting.html">Troubleshooting</a> for additional help</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line-interface"><a class="header" href="#command-line-interface">Command Line Interface</a></h1>
<p>SwissArmyHammer provides a comprehensive command-line interface for managing prompts, running the MCP server, and integrating with your development workflow.</p>
<h2 id="installation-3"><a class="header" href="#installation-3">Installation</a></h2>
<pre><code class="language-bash"># Install from Git repository (requires Rust)
cargo install --git https://github.com/swissarmyhammer/swissarmyhammer.git swissarmyhammer-cli

# Ensure ~/.cargo/bin is in your PATH
export PATH="$HOME/.cargo/bin:$PATH"
</code></pre>
<h2 id="basic-usage-2"><a class="header" href="#basic-usage-2">Basic Usage</a></h2>
<pre><code class="language-bash">swissarmyhammer [COMMAND] [OPTIONS]
</code></pre>
<h2 id="global-options"><a class="header" href="#global-options">Global Options</a></h2>
<ul>
<li><code>--help, -h</code> - Display help information</li>
<li><code>--version, -V</code> - Display version information</li>
</ul>
<h2 id="commands-overview"><a class="header" href="#commands-overview">Commands Overview</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="./cli-serve.html"><code>serve</code></a></td><td>Run as MCP server for Claude Code integration</td></tr>
<tr><td><a href="./cli-search.html"><code>search</code></a></td><td>Search and discover prompts with powerful filtering</td></tr>
<tr><td><a href="./cli-test.html"><code>test</code></a></td><td>Interactively test prompts with arguments</td></tr>
<tr><td><a href="./cli-doctor.html"><code>doctor</code></a></td><td>Diagnose configuration and setup issues</td></tr>
<tr><td><a href="./cli-completion.html"><code>completion</code></a></td><td>Generate shell completion scripts</td></tr>
</tbody></table>
</div>
<h2 id="quick-examples"><a class="header" href="#quick-examples">Quick Examples</a></h2>
<h3 id="start-mcp-server"><a class="header" href="#start-mcp-server">Start MCP Server</a></h3>
<pre><code class="language-bash"># Run as MCP server (for Claude Code)
swissarmyhammer serve
</code></pre>
<h3 id="search-for-prompts"><a class="header" href="#search-for-prompts">Search for Prompts</a></h3>
<pre><code class="language-bash"># Search for code-related prompts
swissarmyhammer search code

# Search with regex in descriptions
swissarmyhammer search --regex "test.*unit" --in description
</code></pre>
<h3 id="test-a-prompt"><a class="header" href="#test-a-prompt">Test a Prompt</a></h3>
<pre><code class="language-bash"># Interactively test a prompt
swissarmyhammer test code-review

# Test with predefined arguments
swissarmyhammer test code-review --arg code="fn main() { println!(\"Hello\"); }"
</code></pre>
<h3 id="check-setup"><a class="header" href="#check-setup">Check Setup</a></h3>
<pre><code class="language-bash"># Diagnose any configuration issues
swissarmyhammer doctor
</code></pre>
<h3 id="generate-shell-completions"><a class="header" href="#generate-shell-completions">Generate Shell Completions</a></h3>
<pre><code class="language-bash"># Generate Bash completions
swissarmyhammer completion bash &gt; ~/.bash_completion.d/swissarmyhammer

# Generate Zsh completions
swissarmyhammer completion zsh &gt; ~/.zfunc/_swissarmyhammer
</code></pre>
<h2 id="exit-codes"><a class="header" href="#exit-codes">Exit Codes</a></h2>
<ul>
<li><code>0</code> - Success</li>
<li><code>1</code> - General error</li>
<li><code>2</code> - Command line usage error</li>
<li><code>3</code> - Configuration error</li>
<li><code>4</code> - Prompt not found</li>
<li><code>5</code> - Template rendering error</li>
</ul>
<h2 id="configuration-1"><a class="header" href="#configuration-1">Configuration</a></h2>
<p>SwissArmyHammer looks for prompts in these directories (in order):</p>
<ol>
<li>Built-in prompts (embedded in the binary)</li>
<li>User prompts: <code>~/.swissarmyhammer/prompts/</code></li>
<li>Local prompts: <code>./.swissarmyhammer/prompts/</code> (current directory)</li>
</ol>
<p>For detailed command documentation, see the individual command pages linked in the table above.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="serve-command"><a class="header" href="#serve-command">serve Command</a></h1>
<p>The <code>serve</code> command starts SwissArmyHammer as a Model Context Protocol (MCP) server, making your prompts available to Claude Code and other MCP clients.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<pre><code class="language-bash">swissarmyhammer serve [OPTIONS]
</code></pre>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The serve command:</p>
<ul>
<li>Starts an MCP server that provides access to your prompt library</li>
<li>Loads prompts from various directories (built-in, user, local)</li>
<li>Watches for file changes and automatically reloads prompts</li>
<li>Provides real-time access to prompts for Claude Code integration</li>
</ul>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<h3 id="--port-port"><a class="header" href="#--port-port"><code>--port &lt;PORT&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Port number for MCP communication</li>
<li><strong>Default</strong>: Automatically assigned by the system</li>
<li><strong>Example</strong>: <code>--port 8080</code></li>
</ul>
<pre><code class="language-bash">swissarmyhammer serve --port 8080
</code></pre>
<h3 id="--host-host"><a class="header" href="#--host-host"><code>--host &lt;HOST&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Host address to bind the server to</li>
<li><strong>Default</strong>: <code>localhost</code></li>
<li><strong>Example</strong>: <code>--host 127.0.0.1</code></li>
</ul>
<pre><code class="language-bash">swissarmyhammer serve --host 127.0.0.1
</code></pre>
<h3 id="--prompts-directory"><a class="header" href="#--prompts-directory"><code>--prompts &lt;DIRECTORY&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Additional directories to load prompts from</li>
<li><strong>Default</strong>: Standard locations (<code>~/.swissarmyhammer/prompts</code>, <code>./.swissarmyhammer/prompts</code>)</li>
<li><strong>Repeatable</strong>: Can be used multiple times</li>
<li><strong>Example</strong>: <code>--prompts ./custom-prompts</code></li>
</ul>
<pre><code class="language-bash"># Single custom directory
swissarmyhammer serve --prompts ./project-prompts

# Multiple directories
swissarmyhammer serve --prompts ./prompts --prompts ~/.custom-prompts
</code></pre>
<h3 id="--builtin-boolean"><a class="header" href="#--builtin-boolean"><code>--builtin &lt;BOOLEAN&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Include built-in prompts in the library</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Values</strong>: <code>true</code>, <code>false</code></li>
<li><strong>Example</strong>: <code>--builtin false</code></li>
</ul>
<pre><code class="language-bash"># Disable built-in prompts
swissarmyhammer serve --builtin false

# Explicitly enable built-in prompts
swissarmyhammer serve --builtin true
</code></pre>
<h3 id="--watch-boolean"><a class="header" href="#--watch-boolean"><code>--watch &lt;BOOLEAN&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Enable file watching for automatic prompt reloading</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Values</strong>: <code>true</code>, <code>false</code></li>
<li><strong>Example</strong>: <code>--watch false</code></li>
</ul>
<pre><code class="language-bash"># Disable file watching (for performance)
swissarmyhammer serve --watch false
</code></pre>
<h3 id="--debug"><a class="header" href="#--debug"><code>--debug</code></a></h3>
<ul>
<li><strong>Description</strong>: Enable debug logging for troubleshooting</li>
<li><strong>Default</strong>: Disabled</li>
<li><strong>Output</strong>: Detailed logs to stdout</li>
</ul>
<pre><code class="language-bash">swissarmyhammer serve --debug
</code></pre>
<h3 id="--config-file"><a class="header" href="#--config-file"><code>--config &lt;FILE&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Path to configuration file</li>
<li><strong>Default</strong>: <code>~/.swissarmyhammer/config.toml</code></li>
<li><strong>Example</strong>: <code>--config ./custom-config.toml</code></li>
</ul>
<pre><code class="language-bash">swissarmyhammer serve --config ./project-config.toml
</code></pre>
<h2 id="examples-5"><a class="header" href="#examples-5">Examples</a></h2>
<h3 id="basic-server"><a class="header" href="#basic-server">Basic Server</a></h3>
<p>Start a basic MCP server with default settings:</p>
<pre><code class="language-bash">swissarmyhammer serve
</code></pre>
<p>This loads:</p>
<ul>
<li>Built-in prompts</li>
<li>User prompts from <code>~/.swissarmyhammer/prompts/</code></li>
<li>Local prompts from <code>./.swissarmyhammer/prompts/</code> (if exists)</li>
<li>Enables file watching</li>
</ul>
<h3 id="development-server"><a class="header" href="#development-server">Development Server</a></h3>
<p>For development with debug logging:</p>
<pre><code class="language-bash">swissarmyhammer serve --debug
</code></pre>
<p>Output includes:</p>
<ul>
<li>Prompt loading details</li>
<li>MCP protocol messages</li>
<li>File watching events</li>
<li>Error stack traces</li>
</ul>
<h3 id="custom-prompt-directory"><a class="header" href="#custom-prompt-directory">Custom Prompt Directory</a></h3>
<p>Serve prompts from a specific directory:</p>
<pre><code class="language-bash">swissarmyhammer serve --prompts /path/to/my/prompts
</code></pre>
<h3 id="multiple-directories"><a class="header" href="#multiple-directories">Multiple Directories</a></h3>
<p>Load prompts from multiple locations:</p>
<pre><code class="language-bash">swissarmyhammer serve \
  --prompts ./project-prompts \
  --prompts ~/.shared-prompts \
  --prompts /team/common-prompts
</code></pre>
<h3 id="project-only-prompts"><a class="header" href="#project-only-prompts">Project-Only Prompts</a></h3>
<p>Serve only local project prompts (no built-in or user prompts):</p>
<pre><code class="language-bash">swissarmyhammer serve \
  --prompts ./prompts \
  --builtin false
</code></pre>
<h3 id="performance-optimized"><a class="header" href="#performance-optimized">Performance-Optimized</a></h3>
<p>For large prompt collections, disable file watching:</p>
<pre><code class="language-bash">swissarmyhammer serve \
  --watch false \
  --prompts ./large-prompt-collection
</code></pre>
<h3 id="custom-port-and-host"><a class="header" href="#custom-port-and-host">Custom Port and Host</a></h3>
<p>Specify network settings:</p>
<pre><code class="language-bash">swissarmyhammer serve \
  --host 0.0.0.0 \
  --port 9000
</code></pre>
<h2 id="prompt-loading-order"><a class="header" href="#prompt-loading-order">Prompt Loading Order</a></h2>
<p>SwissArmyHammer loads prompts in this order:</p>
<ol>
<li>
<p><strong>Built-in prompts</strong> (if <code>--builtin true</code>)</p>
<ul>
<li>Located in the binary</li>
<li>Categories: development, writing, analysis, etc.</li>
</ul>
</li>
<li>
<p><strong>User prompts</strong> (always loaded)</p>
<ul>
<li>Location: <code>~/.swissarmyhammer/prompts/</code></li>
<li>Your personal prompt library</li>
</ul>
</li>
<li>
<p><strong>Custom directories</strong> (from <code>--prompts</code> flags)</p>
<ul>
<li>Processed in order specified</li>
<li>Can override earlier prompts with same name</li>
</ul>
</li>
<li>
<p><strong>Local prompts</strong> (always checked)</p>
<ul>
<li>Location: <code>./.swissarmyhammer/prompts/</code> in current directory</li>
<li>Project-specific prompts</li>
</ul>
</li>
</ol>
<h3 id="prompt-override-behavior"><a class="header" href="#prompt-override-behavior">Prompt Override Behavior</a></h3>
<p>When prompts have the same name:</p>
<ul>
<li><strong>Later sources override earlier ones</strong></li>
<li><strong>Local prompts have highest priority</strong></li>
<li><strong>Built-in prompts have lowest priority</strong></li>
</ul>
<p>Example hierarchy:</p>
<pre><code>./.swissarmyhammer/prompts/code-review.md          (highest priority)
~/.custom/code-review.md          (from --prompts ~/.custom)
~/.swissarmyhammer/prompts/code-review.md  (user prompts)
built-in:code-review              (lowest priority)
</code></pre>
<h2 id="file-watching"><a class="header" href="#file-watching">File Watching</a></h2>
<p>When file watching is enabled (<code>--watch true</code>), the server automatically:</p>
<h3 id="detects-changes"><a class="header" href="#detects-changes">Detects Changes</a></h3>
<ul>
<li>New prompt files added</li>
<li>Existing prompt files modified</li>
<li>Prompt files deleted</li>
<li>Directory structure changes</li>
</ul>
<h3 id="reloads-prompts"><a class="header" href="#reloads-prompts">Reloads Prompts</a></h3>
<ul>
<li>Parses updated files</li>
<li>Validates YAML front matter</li>
<li>Updates the prompt library</li>
<li>Notifies connected MCP clients</li>
</ul>
<h3 id="handles-errors"><a class="header" href="#handles-errors">Handles Errors</a></h3>
<ul>
<li>Invalid YAML syntax</li>
<li>Missing required fields</li>
<li>Template compilation errors</li>
<li>Logs errors without stopping the server</li>
</ul>
<h3 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h3>
<p>File watching uses system resources:</p>
<ul>
<li><strong>Memory</strong>: Stores file metadata</li>
<li><strong>CPU</strong>: Processes file system events</li>
<li><strong>Disk I/O</strong>: Reads modified files</li>
</ul>
<p>For large prompt collections (1000+ files), consider:</p>
<pre><code class="language-bash"># Disable watching for better performance
swissarmyhammer serve --watch false
</code></pre>
<h2 id="mcp-protocol-details"><a class="header" href="#mcp-protocol-details">MCP Protocol Details</a></h2>
<h3 id="server-capabilities"><a class="header" href="#server-capabilities">Server Capabilities</a></h3>
<p>SwissArmyHammer advertises these MCP capabilities:</p>
<pre><code class="language-json">{
  "capabilities": {
    "prompts": {
      "listChanged": true
    },
    "tools": {
      "listChanged": false
    }
  }
}
</code></pre>
<h3 id="prompt-exposure"><a class="header" href="#prompt-exposure">Prompt Exposure</a></h3>
<p>Each prompt becomes an MCP prompt with:</p>
<ul>
<li><strong>Name</strong>: From prompt’s <code>name</code> field</li>
<li><strong>Description</strong>: From prompt’s <code>description</code> field</li>
<li><strong>Arguments</strong>: From prompt’s <code>arguments</code> array</li>
</ul>
<h3 id="example-mcp-prompt"><a class="header" href="#example-mcp-prompt">Example MCP Prompt</a></h3>
<p>A SwissArmyHammer prompt:</p>
<pre><code class="language-yaml">---
name: code-review
title: Code Review Assistant
description: Reviews code for best practices and issues
arguments:
  - name: code
    description: Code to review
    required: true
  - name: language
    description: Programming language
    required: false
    default: auto-detect
---
</code></pre>
<p>Becomes this MCP prompt:</p>
<pre><code class="language-json">{
  "name": "code-review",
  "description": "Reviews code for best practices and issues",
  "arguments": [
    {
      "name": "code",
      "description": "Code to review",
      "required": true
    },
    {
      "name": "language", 
      "description": "Programming language",
      "required": false
    }
  ]
}
</code></pre>
<h2 id="integration-with-claude-code"><a class="header" href="#integration-with-claude-code">Integration with Claude Code</a></h2>
<h3 id="configuration-2"><a class="header" href="#configuration-2">Configuration</a></h3>
<p>Add SwissArmyHammer to Claude Code’s MCP configuration:</p>
<pre><code class="language-bash">claude mcp add swissarmyhammer swissarmyhammer serve
</code></pre>
<h3 id="custom-configuration"><a class="header" href="#custom-configuration">Custom Configuration</a></h3>
<p>Add with specific options:</p>
<pre><code class="language-bash">claude mcp add project_sah swissarmyhammer serve --prompts ./project-prompts --debug
</code></pre>
<h3 id="multiple-servers"><a class="header" href="#multiple-servers">Multiple Servers</a></h3>
<p>Run different SwissArmyHammer instances:</p>
<pre><code class="language-bash"># Global prompts
claude mcp add sah_global swissarmyhammer serve

# Project-specific prompts  
claude mcp add sah_project swissarmyhammer serve --prompts ./prompts --builtin false
</code></pre>
<h2 id="logging-and-output"><a class="header" href="#logging-and-output">Logging and Output</a></h2>
<h3 id="standard-output"><a class="header" href="#standard-output">Standard Output</a></h3>
<p>Normal operation logs:</p>
<pre><code>2024-03-20T10:30:00Z INFO SwissArmyHammer MCP Server starting
2024-03-20T10:30:00Z INFO Loaded 25 prompts from 3 directories
2024-03-20T10:30:00Z INFO Server listening on localhost:8080
2024-03-20T10:30:00Z INFO MCP client connected
</code></pre>
<h3 id="debug-output"><a class="header" href="#debug-output">Debug Output</a></h3>
<p>With <code>--debug</code> flag:</p>
<pre><code>2024-03-20T10:30:00Z DEBUG Loading prompts from: ~/.swissarmyhammer/prompts
2024-03-20T10:30:00Z DEBUG Found prompt file: code-review.md
2024-03-20T10:30:00Z DEBUG Parsed prompt: code-review (Code Review Assistant)
2024-03-20T10:30:00Z DEBUG MCP request: prompts/list
2024-03-20T10:30:00Z DEBUG MCP response: 25 prompts returned
</code></pre>
<h3 id="error-handling-1"><a class="header" href="#error-handling-1">Error Handling</a></h3>
<p>The server continues running even with errors:</p>
<pre><code>2024-03-20T10:30:00Z ERROR Failed to parse prompt: invalid-prompt.md
2024-03-20T10:30:00Z ERROR   YAML error: missing required field 'description'
2024-03-20T10:30:00Z INFO  Continuing with 24 valid prompts
</code></pre>
<h2 id="troubleshooting-6"><a class="header" href="#troubleshooting-6">Troubleshooting</a></h2>
<h3 id="server-wont-start"><a class="header" href="#server-wont-start">Server Won’t Start</a></h3>
<p><strong>Check port availability:</strong></p>
<pre><code class="language-bash"># Try a specific port
swissarmyhammer serve --port 8080

# Check if port is in use
lsof -i :8080  # macOS/Linux
netstat -an | findstr 8080  # Windows
</code></pre>
<p><strong>Check permissions:</strong></p>
<pre><code class="language-bash"># Run with debug to see detailed errors
swissarmyhammer serve --debug
</code></pre>
<h3 id="prompts-not-loading-1"><a class="header" href="#prompts-not-loading-1">Prompts Not Loading</a></h3>
<p><strong>Verify directories exist:</strong></p>
<pre><code class="language-bash"># Check default directories
ls -la ~/.swissarmyhammer/prompts
ls -la ./.swissarmyhammer/prompts

# Check custom directories
ls -la /path/to/custom/prompts
</code></pre>
<p><strong>Validate prompt syntax:</strong></p>
<pre><code class="language-bash"># Test individual prompts
swissarmyhammer test prompt-name

# Validate all prompts
swissarmyhammer doctor
</code></pre>
<h3 id="performance-issues-1"><a class="header" href="#performance-issues-1">Performance Issues</a></h3>
<p><strong>Large prompt collections:</strong></p>
<pre><code class="language-bash"># Disable file watching
swissarmyhammer serve --watch false

# Limit to specific directories
swissarmyhammer serve --prompts ./essential-prompts --builtin false
</code></pre>
<p><strong>Memory usage:</strong></p>
<pre><code class="language-bash"># Monitor memory usage
top -p $(pgrep swissarmyhammer)  # Linux
top | grep swissarmyhammer       # macOS
</code></pre>
<h3 id="connection-issues"><a class="header" href="#connection-issues">Connection Issues</a></h3>
<p><strong>MCP client can’t connect:</strong></p>
<pre><code class="language-bash"># Check server is running
ps aux | grep swissarmyhammer

# Test with different host/port
swissarmyhammer serve --host 127.0.0.1 --port 8080

# Check firewall settings
</code></pre>
<p><strong>Debug MCP communication:</strong></p>
<pre><code class="language-bash"># Enable debug logging
swissarmyhammer serve --debug

# Save logs to file
swissarmyhammer serve --debug &gt; server.log 2&gt;&amp;1
</code></pre>
<h2 id="configuration-file"><a class="header" href="#configuration-file">Configuration File</a></h2>
<p>Create a configuration file for persistent settings:</p>
<pre><code class="language-toml"># ~/.swissarmyhammer/config.toml

[server]
host = "localhost"
port = 8080
debug = false

[prompts]
builtin = true
watch = true
directories = [
    "~/.swissarmyhammer/prompts",
    "./.swissarmyhammer/prompts",
    "/team/shared-prompts"
]
</code></pre>
<p>Use with:</p>
<pre><code class="language-bash">swissarmyhammer serve --config ~/.swissarmyhammer/config.toml
</code></pre>
<h2 id="environment-variables-2"><a class="header" href="#environment-variables-2">Environment Variables</a></h2>
<p>Configure through environment variables:</p>
<pre><code class="language-bash">export SWISSARMYHAMMER_HOST=localhost
export SWISSARMYHAMMER_PORT=8080
export SWISSARMYHAMMER_DEBUG=true
export SWISSARMYHAMMER_PROMPTS_DIR=/custom/prompts

swissarmyhammer serve
</code></pre>
<h2 id="best-practices-6"><a class="header" href="#best-practices-6">Best Practices</a></h2>
<h3 id="1-use-consistent-directory-structure"><a class="header" href="#1-use-consistent-directory-structure">1. Use Consistent Directory Structure</a></h3>
<pre><code>~/.swissarmyhammer/prompts/
├── development/
├── writing/
├── analysis/
└── productivity/
</code></pre>
<h3 id="2-enable-debug-during-development"><a class="header" href="#2-enable-debug-during-development">2. Enable Debug During Development</a></h3>
<pre><code class="language-bash">swissarmyhammer serve --debug
</code></pre>
<h3 id="3-use-project-specific-servers"><a class="header" href="#3-use-project-specific-servers">3. Use Project-Specific Servers</a></h3>
<pre><code class="language-bash"># In each project
claude mcp add project_sah swissarmyhammer serve --prompts ./prompts
</code></pre>
<h3 id="4-monitor-performance"><a class="header" href="#4-monitor-performance">4. Monitor Performance</a></h3>
<pre><code class="language-bash"># For large collections
swissarmyhammer serve --watch false --debug
</code></pre>
<h3 id="5-version-control-integration"><a class="header" href="#5-version-control-integration">5. Version Control Integration</a></h3>
<pre><code class="language-bash"># .gitignore
.swissarmyhammer/cache/
.swissarmyhammer/logs/

# Keep prompts in version control
git add prompts/
</code></pre>
<h2 id="next-steps-7"><a class="header" href="#next-steps-7">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./claude-code-integration.html">Claude Code Integration</a> setup</li>
<li>Explore <a href="./configuration.html">Configuration</a> options</li>
<li>See <a href="./troubleshooting.html">Troubleshooting</a> for common issues</li>
<li>Check <a href="./builtin-prompts.html">Built-in Prompts</a> reference</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search---search-and-discover-prompts"><a class="header" href="#search---search-and-discover-prompts">search - Search and Discover Prompts</a></h1>
<p>The <code>search</code> command provides powerful functionality to find prompts in your collection using various search strategies and filters.</p>
<h2 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h2>
<pre><code class="language-bash">swissarmyhammer search [OPTIONS] [QUERY]
</code></pre>
<h2 id="description-1"><a class="header" href="#description-1">Description</a></h2>
<p>Search through your prompt collection using fuzzy matching, regular expressions, or exact text matching. The search can target specific fields and provides relevance-ranked results.</p>
<h2 id="arguments-3"><a class="header" href="#arguments-3">Arguments</a></h2>
<ul>
<li><code>QUERY</code> - Search term or pattern (optional if using filters)</li>
</ul>
<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
<h3 id="search-strategy"><a class="header" href="#search-strategy">Search Strategy</a></h3>
<ul>
<li><code>--case-sensitive, -c</code> - Enable case-sensitive matching</li>
<li><code>--regex, -r</code> - Use regular expressions instead of fuzzy matching</li>
<li><code>--fuzzy</code> - Use fuzzy string matching (default for simple queries)</li>
<li><code>--semantic</code> - Use AI-powered semantic search with embeddings</li>
<li><code>--hybrid</code> - Combine fuzzy, full-text, and semantic search results</li>
<li><code>--full, -f</code> - Show full prompt content in results</li>
</ul>
<h3 id="field-targeting"><a class="header" href="#field-targeting">Field Targeting</a></h3>
<ul>
<li><code>--in FIELD</code> - Search in specific field (title, description, content, all)
<ul>
<li><code>title</code> - Search only in prompt titles</li>
<li><code>description</code> - Search only in prompt descriptions</li>
<li><code>content</code> - Search only in prompt content/body</li>
<li><code>all</code> - Search in all fields (default)</li>
</ul>
</li>
</ul>
<h3 id="filtering"><a class="header" href="#filtering">Filtering</a></h3>
<ul>
<li><code>--source SOURCE</code> - Filter by prompt source (builtin, user, local)</li>
<li><code>--has-arg ARG</code> - Show prompts that have a specific argument</li>
<li><code>--no-args</code> - Show prompts with no arguments</li>
<li><code>--language LANG</code> - Filter by programming language (for semantic search)</li>
</ul>
<h3 id="semantic-search-options"><a class="header" href="#semantic-search-options">Semantic Search Options</a></h3>
<ul>
<li><code>--threshold FLOAT</code> - Similarity threshold for semantic search (0.0-1.0)</li>
<li><code>--model MODEL</code> - Embedding model to use for semantic search</li>
<li><code>--include-structure</code> - Include code structure in semantic analysis</li>
<li><code>--include-docs</code> - Include documentation and comments in search</li>
<li><code>--code-only</code> - Search only code content, exclude comments</li>
</ul>
<h3 id="output-control"><a class="header" href="#output-control">Output Control</a></h3>
<ul>
<li><code>--limit, -l N</code> - Limit results to N prompts (default: 20)</li>
<li><code>--json</code> - Output results in JSON format</li>
</ul>
<h2 id="examples-6"><a class="header" href="#examples-6">Examples</a></h2>
<h3 id="basic-search"><a class="header" href="#basic-search">Basic Search</a></h3>
<pre><code class="language-bash"># Find prompts containing "code"
swissarmyhammer search code

# Case-sensitive search
swissarmyhammer search --case-sensitive "Code Review"
</code></pre>
<h3 id="field-specific-search"><a class="header" href="#field-specific-search">Field-Specific Search</a></h3>
<pre><code class="language-bash"># Search only in titles
swissarmyhammer search --in title "review"

# Search only in descriptions
swissarmyhammer search --in description "debugging"

# Search in content/body
swissarmyhammer search --in content "TODO"
</code></pre>
<h3 id="regular-expression-search"><a class="header" href="#regular-expression-search">Regular Expression Search</a></h3>
<pre><code class="language-bash"># Find prompts with "test" followed by any word
swissarmyhammer search --regex "test\s+\w+"

# Find prompts starting with specific pattern
swissarmyhammer search --regex "^(debug|fix|analyze)"
</code></pre>
<h3 id="advanced-filtering"><a class="header" href="#advanced-filtering">Advanced Filtering</a></h3>
<pre><code class="language-bash"># Find built-in prompts only
swissarmyhammer search --source builtin

# Find prompts with "code" argument
swissarmyhammer search --has-arg code

# Find prompts without any arguments
swissarmyhammer search --no-args

# Combine filters
swissarmyhammer search review --source user --has-arg language
</code></pre>
<h3 id="output-options"><a class="header" href="#output-options">Output Options</a></h3>
<pre><code class="language-bash"># Show full content of matching prompts
swissarmyhammer search code --full

# Limit to 5 results
swissarmyhammer search --limit 5 test

# Get JSON output for scripting
swissarmyhammer search --json "data analysis"
</code></pre>
<h3 id="semantic-search-examples"><a class="header" href="#semantic-search-examples">Semantic Search Examples</a></h3>
<pre><code class="language-bash"># Basic semantic search
swissarmyhammer search --semantic "error handling patterns"

# Language-specific semantic search
swissarmyhammer search --semantic "async functions" --language rust

# High-precision semantic search
swissarmyhammer search --semantic "database connection" --threshold 0.8

# Hybrid search combining all strategies
swissarmyhammer search --hybrid "authentication middleware"

# Semantic search with specific model
swissarmyhammer search --semantic "testing patterns" --model all-mpnet-base-v2

# Code-only semantic search
swissarmyhammer search --semantic "sorting algorithm" --code-only
</code></pre>
<h2 id="output-format-2"><a class="header" href="#output-format-2">Output Format</a></h2>
<h3 id="default-output"><a class="header" href="#default-output">Default Output</a></h3>
<pre><code>Found 3 prompts matching "code":

📝 code-review (builtin)
   Review code for best practices and potential issues
   Arguments: code, language (optional)

🔧 debug-code (user)
   Help debug programming issues and errors
   Arguments: error, context (optional)

📊 analyze-performance (local)
   Analyze code performance and suggest optimizations
   Arguments: code, language, metrics (optional)
</code></pre>
<h3 id="json-output"><a class="header" href="#json-output">JSON Output</a></h3>
<pre><code class="language-json">{
  "query": "code",
  "results": [
    {
      "id": "code-review",
      "title": "Code Review Helper",
      "description": "Review code for best practices and potential issues",
      "source": "builtin",
      "path": "/builtin/review/code.md",
      "arguments": [
        {"name": "code", "required": true},
        {"name": "language", "required": false, "default": "auto-detect"}
      ],
      "score": 0.95
    }
  ],
  "total_found": 3
}
</code></pre>
<h2 id="search-scoring"><a class="header" href="#search-scoring">Search Scoring</a></h2>
<p>Results are ranked by relevance using these factors:</p>
<ol>
<li><strong>Exact matches</strong> score higher than partial matches</li>
<li><strong>Title matches</strong> score higher than description or content matches</li>
<li><strong>Multiple field matches</strong> increase the overall score</li>
<li><strong>Argument name matches</strong> are considered for relevance</li>
</ol>
<h2 id="performance"><a class="header" href="#performance">Performance</a></h2>
<ul>
<li>Search is optimized with an in-memory index</li>
<li>Fuzzy matching uses efficient algorithms</li>
<li>Results are cached for repeated queries</li>
<li>Large prompt collections are handled efficiently</li>
</ul>
<h2 id="integration-with-other-commands"><a class="header" href="#integration-with-other-commands">Integration with Other Commands</a></h2>
<p>Search integrates well with other SwissArmyHammer commands:</p>
<pre><code class="language-bash"># Find and test a prompt
PROMPT=$(swissarmyhammer search --json code | jq -r '.results[0].id')
swissarmyhammer test "$PROMPT"

# Export search results
swissarmyhammer search debug --limit 5 | \
  grep -o '\w\+-\w\+' | \
  xargs swissarmyhammer export
</code></pre>
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<ul>
<li><a href="./cli-test.html"><code>test</code></a> - Test prompts found through search</li>
<li><a href="./cli-export.html"><code>export</code></a> - Export specific prompts</li>
<li><a href="./search-guide.html">Search Guide</a> - Advanced search strategies</li>
<li><a href="./search-architecture.html">Search Architecture</a> - Technical architecture details</li>
<li><a href="./index-management.html">Index Management</a> - Managing search indices</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="test---interactive-prompt-testing"><a class="header" href="#test---interactive-prompt-testing">test - Interactive Prompt Testing</a></h1>
<p>The <code>test</code> command allows you to test prompts interactively, providing argument values and seeing the rendered output before using them with AI models.</p>
<h2 id="synopsis-1"><a class="header" href="#synopsis-1">Synopsis</a></h2>
<pre><code class="language-bash">swissarmyhammer test [OPTIONS] &lt;PROMPT_ID&gt;
</code></pre>
<h2 id="description-2"><a class="header" href="#description-2">Description</a></h2>
<p>Test prompts interactively by providing arguments and viewing the rendered output. This is essential for debugging template issues, validating arguments, and refining prompts before deployment.</p>
<h2 id="arguments-4"><a class="header" href="#arguments-4">Arguments</a></h2>
<ul>
<li><code>PROMPT_ID</code> - The ID of the prompt to test (required)</li>
</ul>
<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
<h3 id="argument-specification"><a class="header" href="#argument-specification">Argument Specification</a></h3>
<ul>
<li><code>--arg KEY=VALUE</code> - Provide argument values directly (can be used multiple times)</li>
<li><code>--set KEY=VALUE</code> - Set liquid template variables (can be used multiple times)</li>
</ul>
<h3 id="output-control-1"><a class="header" href="#output-control-1">Output Control</a></h3>
<ul>
<li><code>--raw</code> - Show raw template without rendering</li>
<li><code>--copy</code> - Copy rendered result to clipboard</li>
<li><code>--save FILE</code> - Save rendered result to file</li>
<li><code>--debug</code> - Show detailed debug information including variable resolution</li>
</ul>
<h2 id="interactive-mode"><a class="header" href="#interactive-mode">Interactive Mode</a></h2>
<p>When no <code>--arg</code> options are provided, the command enters interactive mode:</p>
<ol>
<li><strong>Prompt Selection</strong>: If prompt ID is ambiguous, presents a fuzzy selector</li>
<li><strong>Argument Collection</strong>: Prompts for each required and optional argument</li>
<li><strong>Template Rendering</strong>: Shows the rendered output</li>
<li><strong>Actions</strong>: Offers to copy to clipboard or save to file</li>
</ol>
<h2 id="examples-7"><a class="header" href="#examples-7">Examples</a></h2>
<h3 id="interactive-testing"><a class="header" href="#interactive-testing">Interactive Testing</a></h3>
<pre><code class="language-bash"># Test a prompt interactively
swissarmyhammer test code-review

# The command will prompt for arguments:
# ? Enter value for 'code' (required): fn main() { println!("Hello"); }
# ? Enter value for 'language' (optional, default: auto-detect): rust
# 
# [Rendered output shows here]
# 
# ? What would you like to do?
#   &gt; View output
#     Copy to clipboard
#     Save to file
#     Test with different arguments
#     Exit
</code></pre>
<h3 id="non-interactive-testing"><a class="header" href="#non-interactive-testing">Non-Interactive Testing</a></h3>
<pre><code class="language-bash"># Test with predefined arguments
swissarmyhammer test code-review \
  --arg code="fn main() { println!(\"Hello\"); }" \
  --arg language="rust"

# Test and copy to clipboard
swissarmyhammer test debug-helper \
  --arg error="compiler error" \
  --copy

# Test and save output
swissarmyhammer test api-docs \
  --arg code="$(cat src/api.rs)" \
  --save generated-docs.md
</code></pre>
<h3 id="debug-mode-1"><a class="header" href="#debug-mode-1">Debug Mode</a></h3>
<pre><code class="language-bash"># Show debug information
swissarmyhammer test template-complex --debug

# Output includes:
# Variables resolved:
#   user_input: "example text"
#   timestamp: "2024-01-15T10:30:00Z"
#   
# Template processing:
#   Line 5: Variable 'user_input' resolved to "example text"
#   Line 12: Filter 'capitalize' applied
#   Line 18: Conditional block evaluated to true
#
# Final output:
# [rendered template]
</code></pre>
<h3 id="raw-template-view"><a class="header" href="#raw-template-view">Raw Template View</a></h3>
<pre><code class="language-bash"># View the raw template without rendering
swissarmyhammer test email-template --raw

# Shows:
# ---
# title: Email Template
# arguments:
#   - name: recipient
#     required: true
# ---
# 
# Dear {{recipient | capitalize}},
# 
# {% if urgent %}
# **URGENT:** 
# {% endif %}
# {{message}}
</code></pre>
<h2 id="output-format-3"><a class="header" href="#output-format-3">Output Format</a></h2>
<h3 id="default-output-1"><a class="header" href="#default-output-1">Default Output</a></h3>
<pre><code>Testing prompt: code-review

Arguments:
  code: "fn main() { println!(\"Hello\"); }"
  language: "rust" (default: auto-detect)

Rendered Output:
┌─────────────────────────────────────────────────────────────┐
│ # Code Review                                               │
│                                                             │
│ Please review the following rust code:                     │
│                                                             │
│ ```rust                                                     │
│ fn main() { println!("Hello"); }                           │
│ ```                                                         │
│                                                             │
│ Focus on:                                                   │
│ - Code quality and readability                             │
│ - Potential bugs or security issues                        │
│ - Performance considerations                                │
│ - Best practices adherence                                  │
└─────────────────────────────────────────────────────────────┘

✓ Template rendered successfully (247 characters)
</code></pre>
<h3 id="debug-output-1"><a class="header" href="#debug-output-1">Debug Output</a></h3>
<pre><code>Testing prompt: code-review (debug mode)

Prompt loaded from: ~/.swissarmyhammer/prompts/review/code.md
Arguments defined: 2 (1 required, 1 optional)

Argument Resolution:
✓ code: "fn main() { println!(\"Hello\"); }" [user provided]
✓ language: "rust" [user provided, overrides default "auto-detect"]

Template Processing:
→ Line 8: Variable 'language' resolved and capitalized
→ Line 12-14: Code block with 'code' variable substitution
→ Line 16-20: Static bullet list rendered

Filters Applied:
- capitalize: "rust" → "Rust"

Rendered Output:
[... same as above ...]

Performance:
- Template parsing: 2ms
- Variable resolution: 1ms
- Rendering: 3ms
- Total: 6ms
</code></pre>
<h2 id="error-handling-2"><a class="header" href="#error-handling-2">Error Handling</a></h2>
<p>The test command provides helpful error messages for common issues:</p>
<h3 id="missing-arguments"><a class="header" href="#missing-arguments">Missing Arguments</a></h3>
<pre><code class="language-bash">$ swissarmyhammer test code-review
Error: Missing required argument 'code'

Available arguments:
  code (required) - The code to review
  language (optional) - Programming language (default: auto-detect)

Use --arg KEY=VALUE to provide arguments, or run without --arg for interactive mode.
</code></pre>
<h3 id="template-errors"><a class="header" href="#template-errors">Template Errors</a></h3>
<pre><code class="language-bash">$ swissarmyhammer test broken-template --arg data="test"
Error: Template rendering failed at line 15

  13 | {% for item in items %}
  14 |   - {{item.name}}
&gt; 15 |   - {{item.invalid_field | unknown_filter}}
     |                           ^^^^^^^^^^^^^^
  16 | {% endfor %}

Unknown filter: unknown_filter
Available filters: capitalize, lower, upper, truncate, ...

Fix the template and try again.
</code></pre>
<h2 id="integration-with-development-workflow"><a class="header" href="#integration-with-development-workflow">Integration with Development Workflow</a></h2>
<h3 id="testing-before-deployment"><a class="header" href="#testing-before-deployment">Testing Before Deployment</a></h3>
<pre><code class="language-bash"># Test a prompt before adding to Claude Code
swissarmyhammer test new-prompt --debug

# Validate all prompts in a directory
for prompt in $(ls prompts/*.md); do
  swissarmyhammer test "${prompt%.md}" --arg placeholder="test"
done
</code></pre>
<h3 id="clipboard-integration"><a class="header" href="#clipboard-integration">Clipboard Integration</a></h3>
<pre><code class="language-bash"># Test and copy for immediate use
swissarmyhammer test quick-note \
  --arg content="Meeting notes" \
  --copy

# Now paste into your editor or Claude Code
</code></pre>
<h3 id="script-integration"><a class="header" href="#script-integration">Script Integration</a></h3>
<pre><code class="language-bash">#!/bin/bash
# test-and-deploy.sh

PROMPT_ID="$1"
if swissarmyhammer test "$PROMPT_ID" --arg test="validation"; then
  echo "✓ Prompt test passed, deploying..."
  swissarmyhammer export "$PROMPT_ID" --format directory deployment/
else
  echo "✗ Prompt test failed, fix issues before deploying"
  exit 1
fi
</code></pre>
<h2 id="template-variables-with-set"><a class="header" href="#template-variables-with-set">Template Variables with –set</a></h2>
<p>The <code>--set</code> parameter allows you to provide additional liquid template variables beyond the prompt’s defined arguments. This is useful for:</p>
<ol>
<li>Providing metadata like author names, versions, or timestamps</li>
<li>Overriding default values with template-level variables</li>
<li>Testing liquid template features without modifying the prompt definition</li>
</ol>
<h3 id="variable-precedence"><a class="header" href="#variable-precedence">Variable Precedence</a></h3>
<p>When both <code>--arg</code> and <code>--set</code> provide the same variable name, <strong><code>--set</code> takes precedence</strong>. This allows you to override argument values using template variables.</p>
<h3 id="examples-8"><a class="header" href="#examples-8">Examples</a></h3>
<pre><code class="language-bash"># Basic usage with template variables
swissarmyhammer test code-review \
  --arg code="main.rs" \
  --set author="John Doe" \
  --set version="1.0"

# Override an argument value with --set
swissarmyhammer test greeting \
  --arg name="World" \
  --set name="Universe"  # This takes precedence, output will use "Universe"

# Use template variables in liquid templates
# If your template contains: {{author | default: "Anonymous"}}
swissarmyhammer test my-prompt --set author="Jane Smith"

# Combine with other features
swissarmyhammer test complex-prompt \
  --arg input="data" \
  --set debug="true" \
  --set timestamp="2024-01-15" \
  --debug \
  --save output.md
</code></pre>
<h3 id="use-in-templates"><a class="header" href="#use-in-templates">Use in Templates</a></h3>
<p>Template variables set with <code>--set</code> can be used in liquid templates just like arguments:</p>
<pre><code class="language-liquid">---
title: Example Prompt
arguments:
  - name: content
    required: true
---

# {{title | default: "Document"}}

Author: {{author | default: "Unknown"}}
Version: {{version | default: "1.0"}}

{{content}}
</code></pre>
<p>Running this with:</p>
<pre><code class="language-bash">swissarmyhammer test example \
  --arg content="Main content here" \
  --set author="Alice" \
  --set title="My Document"
</code></pre>
<p>Would produce:</p>
<pre><code># My Document

Author: Alice
Version: 1.0

Main content here
</code></pre>
<h2 id="see-also-1"><a class="header" href="#see-also-1">See Also</a></h2>
<ul>
<li><a href="./cli-search.html"><code>search</code></a> - Find prompts to test</li>
<li><a href="./template-variables.html">Template Variables</a> - Template syntax reference</li>
<li><a href="./testing-guide.html">Testing Guide</a> - Advanced testing strategies</li>
<li><a href="./custom-filters.html">Custom Filters</a> - Available template filters</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="doctor-command"><a class="header" href="#doctor-command">doctor Command</a></h1>
<p>The <code>doctor</code> command performs comprehensive health checks on your SwissArmyHammer installation and configuration. It identifies issues and provides recommendations for optimal operation.</p>
<h2 id="usage-1"><a class="header" href="#usage-1">Usage</a></h2>
<pre><code class="language-bash">swissarmyhammer doctor [OPTIONS]
</code></pre>
<h2 id="overview-1"><a class="header" href="#overview-1">Overview</a></h2>
<p>The doctor command checks:</p>
<ul>
<li>Installation integrity and version compatibility</li>
<li>Configuration file validity</li>
<li>Prompt directory accessibility and structure</li>
<li>Prompt file syntax and metadata</li>
<li>MCP server functionality</li>
<li>System dependencies and environment</li>
</ul>
<h2 id="options-3"><a class="header" href="#options-3">Options</a></h2>
<h3 id="--verbose"><a class="header" href="#--verbose"><code>--verbose</code></a></h3>
<ul>
<li><strong>Description</strong>: Enable detailed output with additional diagnostic information</li>
<li><strong>Default</strong>: Disabled</li>
<li><strong>Example</strong>: Shows file paths, configuration details, and system information</li>
</ul>
<pre><code class="language-bash">swissarmyhammer doctor --verbose
</code></pre>
<h3 id="--json"><a class="header" href="#--json"><code>--json</code></a></h3>
<ul>
<li><strong>Description</strong>: Output results in JSON format for programmatic use</li>
<li><strong>Default</strong>: Human-readable text output</li>
<li><strong>Example</strong>: Useful for scripts and automation</li>
</ul>
<pre><code class="language-bash">swissarmyhammer doctor --json
</code></pre>
<h3 id="--fix"><a class="header" href="#--fix"><code>--fix</code></a></h3>
<ul>
<li><strong>Description</strong>: Automatically fix issues when possible</li>
<li><strong>Default</strong>: Report-only mode</li>
<li><strong>Example</strong>: Creates missing directories, fixes permissions</li>
</ul>
<pre><code class="language-bash">swissarmyhammer doctor --fix
</code></pre>
<h3 id="--check-category"><a class="header" href="#--check-category"><code>--check &lt;CATEGORY&gt;</code></a></h3>
<ul>
<li><strong>Description</strong>: Run specific check categories only</li>
<li><strong>Values</strong>: <code>installation</code>, <code>config</code>, <code>prompts</code>, <code>mcp</code>, <code>system</code></li>
<li><strong>Repeatable</strong>: Can specify multiple categories</li>
</ul>
<pre><code class="language-bash"># Check only prompt-related issues
swissarmyhammer doctor --check prompts

# Check multiple categories
swissarmyhammer doctor --check config --check prompts
</code></pre>
<h2 id="check-categories"><a class="header" href="#check-categories">Check Categories</a></h2>
<h3 id="installation-checks"><a class="header" href="#installation-checks">Installation Checks</a></h3>
<p>Verifies SwissArmyHammer installation:</p>
<h4 id="binary-location"><a class="header" href="#binary-location">Binary Location</a></h4>
<ul>
<li>Checks if <code>swissarmyhammer</code> is in PATH</li>
<li>Verifies executable permissions</li>
<li>Confirms version compatibility</li>
</ul>
<h4 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h4>
<ul>
<li>Validates system requirements</li>
<li>Checks for required libraries</li>
<li>Verifies runtime dependencies</li>
</ul>
<h4 id="example-output"><a class="header" href="#example-output">Example Output</a></h4>
<pre><code>✓ SwissArmyHammer binary found: /usr/local/bin/swissarmyhammer
✓ Version: 0.1.0 (latest)
✓ Executable permissions: OK
✓ System dependencies: All present
</code></pre>
<h3 id="configuration-checks"><a class="header" href="#configuration-checks">Configuration Checks</a></h3>
<p>Validates configuration files and settings:</p>
<h4 id="configuration-file-1"><a class="header" href="#configuration-file-1">Configuration File</a></h4>
<ul>
<li>Checks for valid TOML syntax</li>
<li>Validates configuration schema</li>
<li>Identifies deprecated settings</li>
</ul>
<h4 id="directory-structure-3"><a class="header" href="#directory-structure-3">Directory Structure</a></h4>
<ul>
<li>Verifies default directories exist</li>
<li>Checks directory permissions</li>
<li>Validates custom prompt directories</li>
</ul>
<h4 id="environment-variables-3"><a class="header" href="#environment-variables-3">Environment Variables</a></h4>
<ul>
<li>Lists relevant environment variables</li>
<li>Checks for conflicts or inconsistencies</li>
<li>Validates variable values</li>
</ul>
<h4 id="example-output-1"><a class="header" href="#example-output-1">Example Output</a></h4>
<pre><code>✓ Configuration file: ~/.swissarmyhammer/config.toml
✓ Configuration syntax: Valid TOML
✓ Default directories: Created and accessible
⚠ Custom directory not found: /nonexistent/prompts
✓ Environment variables: No conflicts
</code></pre>
<h3 id="prompt-checks"><a class="header" href="#prompt-checks">Prompt Checks</a></h3>
<p>Analyzes prompt files and library structure:</p>
<h4 id="directory-scanning"><a class="header" href="#directory-scanning">Directory Scanning</a></h4>
<ul>
<li>Scans all configured prompt directories</li>
<li>Counts prompt files by category</li>
<li>Identifies orphaned or miscategorized files</li>
</ul>
<h4 id="file-validation"><a class="header" href="#file-validation">File Validation</a></h4>
<ul>
<li>Validates YAML front matter syntax</li>
<li>Checks required fields presence</li>
<li>Verifies argument specifications</li>
</ul>
<h4 id="content-analysis"><a class="header" href="#content-analysis">Content Analysis</a></h4>
<ul>
<li>Validates Liquid template syntax</li>
<li>Checks for common template errors</li>
<li>Identifies missing or broken references</li>
</ul>
<h4 id="duplicate-detection"><a class="header" href="#duplicate-detection">Duplicate Detection</a></h4>
<ul>
<li>Finds prompts with identical names</li>
<li>Shows override hierarchy</li>
<li>Warns about potential conflicts</li>
</ul>
<h4 id="example-output-2"><a class="header" href="#example-output-2">Example Output</a></h4>
<pre><code>✓ Prompt directories: 3 found, all accessible
✓ Prompt files: 47 total, 45 valid
✗ Invalid prompts: 2 files with errors
  - debug-helper.md: Missing required field 'description'
  - code-review.md: Invalid YAML syntax on line 8
⚠ Duplicate names: 1 conflict found
  - 'help' defined in both builtin and ~/.swissarmyhammer/prompts/
✓ Template syntax: All valid
</code></pre>
<h3 id="mcp-checks"><a class="header" href="#mcp-checks">MCP Checks</a></h3>
<p>Tests Model Context Protocol functionality:</p>
<h4 id="server-startup"><a class="header" href="#server-startup">Server Startup</a></h4>
<ul>
<li>Attempts to start MCP server</li>
<li>Tests port binding</li>
<li>Verifies server responds to requests</li>
</ul>
<h4 id="protocol-compliance"><a class="header" href="#protocol-compliance">Protocol Compliance</a></h4>
<ul>
<li>Validates MCP protocol responses</li>
<li>Checks capability advertisements</li>
<li>Tests prompt exposure format</li>
</ul>
<h4 id="integration-status"><a class="header" href="#integration-status">Integration Status</a></h4>
<ul>
<li>Checks Claude Code configuration</li>
<li>Tests end-to-end connectivity</li>
<li>Validates prompt accessibility</li>
</ul>
<h4 id="example-output-3"><a class="header" href="#example-output-3">Example Output</a></h4>
<pre><code>✓ MCP server startup: Success on port 8080
✓ Protocol compliance: All tests passed
✓ Prompt exposure: 45 prompts available
⚠ Claude Code integration: Not configured
  Run: claude mcp add swissarmyhammer swissarmyhammer serve
</code></pre>
<h3 id="system-checks"><a class="header" href="#system-checks">System Checks</a></h3>
<p>Analyzes system environment and performance:</p>
<h4 id="operating-system"><a class="header" href="#operating-system">Operating System</a></h4>
<ul>
<li>Identifies OS and version</li>
<li>Checks compatibility</li>
<li>Validates system requirements</li>
</ul>
<h4 id="file-system"><a class="header" href="#file-system">File System</a></h4>
<ul>
<li>Tests file watching capabilities</li>
<li>Checks disk space availability</li>
<li>Validates permissions</li>
</ul>
<h4 id="performance-1"><a class="header" href="#performance-1">Performance</a></h4>
<ul>
<li>Measures prompt loading time</li>
<li>Tests file watching responsiveness</li>
<li>Checks memory usage patterns</li>
</ul>
<h4 id="example-output-4"><a class="header" href="#example-output-4">Example Output</a></h4>
<pre><code>✓ Operating system: macOS 14.0 (supported)
✓ File system: APFS with file watching support
✓ Disk space: 15.2 GB available
✓ Performance: Prompt loading &lt; 100ms
⚠ Memory usage: High with 1000+ prompts (consider --watch false)
</code></pre>
<h2 id="common-issues-and-solutions"><a class="header" href="#common-issues-and-solutions">Common Issues and Solutions</a></h2>
<h3 id="installation-issues"><a class="header" href="#installation-issues">Installation Issues</a></h3>
<h4 id="swissarmyhammer-not-found"><a class="header" href="#swissarmyhammer-not-found">SwissArmyHammer Not Found</a></h4>
<pre><code>✗ SwissArmyHammer binary: Not found in PATH
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Install SwissArmyHammer: <code>curl -sSL https://install.sh | bash</code></li>
<li>Add to PATH: <code>export PATH="$HOME/.local/bin:$PATH"</code></li>
<li>Verify installation: <code>which swissarmyhammer</code></li>
</ul>
<h4 id="permission-denied"><a class="header" href="#permission-denied">Permission Denied</a></h4>
<pre><code>✗ Executable permissions: Permission denied
</code></pre>
<p><strong>Solutions:</strong></p>
<pre><code class="language-bash"># Fix permissions
chmod +x $(which swissarmyhammer)

# Or reinstall
curl -sSL https://install.sh | bash
</code></pre>
<h3 id="configuration-issues"><a class="header" href="#configuration-issues">Configuration Issues</a></h3>
<h4 id="invalid-configuration-file"><a class="header" href="#invalid-configuration-file">Invalid Configuration File</a></h4>
<pre><code>✗ Configuration syntax: Invalid TOML at line 15
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Validate TOML syntax online</li>
<li>Check for missing quotes or brackets</li>
<li>Reset to defaults: <code>swissarmyhammer doctor --fix</code></li>
</ul>
<h4 id="missing-directories"><a class="header" href="#missing-directories">Missing Directories</a></h4>
<pre><code>⚠ Prompt directory not accessible: /custom/prompts
</code></pre>
<p><strong>Solutions:</strong></p>
<pre><code class="language-bash"># Create missing directory
mkdir -p /custom/prompts

# Fix automatically
swissarmyhammer doctor --fix
</code></pre>
<h3 id="prompt-issues"><a class="header" href="#prompt-issues">Prompt Issues</a></h3>
<h4 id="invalid-yaml-front-matter"><a class="header" href="#invalid-yaml-front-matter">Invalid YAML Front Matter</a></h4>
<pre><code>✗ Invalid prompts: 3 files with YAML errors
  - code-review.md: missing required field 'name'
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Add missing required fields</li>
<li>Validate YAML syntax</li>
<li>Use <code>swissarmyhammer test &lt;prompt&gt;</code> for detailed errors</li>
</ul>
<h4 id="duplicate-prompt-names"><a class="header" href="#duplicate-prompt-names">Duplicate Prompt Names</a></h4>
<pre><code>⚠ Duplicate names: 'help' defined in multiple locations
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Rename one of the conflicting prompts</li>
<li>Use different directories for different contexts</li>
<li>Check prompt override hierarchy</li>
</ul>
<h4 id="template-syntax-errors"><a class="header" href="#template-syntax-errors">Template Syntax Errors</a></h4>
<pre><code>✗ Template errors: 2 prompts with Liquid syntax issues
  - debug.md: Unknown filter 'unknownfilter'
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Fix Liquid template syntax</li>
<li>Check available filters: see <a href="./custom-filters.html">Custom Filters</a></li>
<li>Test templates: <code>swissarmyhammer test &lt;prompt&gt;</code></li>
</ul>
<h3 id="mcp-issues"><a class="header" href="#mcp-issues">MCP Issues</a></h3>
<h4 id="server-wont-start-1"><a class="header" href="#server-wont-start-1">Server Won’t Start</a></h4>
<pre><code>✗ MCP server startup: Failed to bind to port 8080
</code></pre>
<p><strong>Solutions:</strong></p>
<pre><code class="language-bash"># Try different port
swissarmyhammer serve --port 8081

# Check what's using the port
lsof -i :8080  # macOS/Linux
netstat -an | findstr 8080  # Windows
</code></pre>
<h4 id="claude-code-not-configured"><a class="header" href="#claude-code-not-configured">Claude Code Not Configured</a></h4>
<pre><code>⚠ Claude Code integration: Not configured
</code></pre>
<p><strong>Solutions:</strong></p>
<pre><code class="language-bash"># Add to Claude Code
claude mcp add swissarmyhammer swissarmyhammer serve

# Verify configuration
claude mcp list
</code></pre>
<h3 id="performance-issues-2"><a class="header" href="#performance-issues-2">Performance Issues</a></h3>
<h4 id="slow-prompt-loading"><a class="header" href="#slow-prompt-loading">Slow Prompt Loading</a></h4>
<pre><code>⚠ Performance: Prompt loading &gt; 1000ms
</code></pre>
<p><strong>Solutions:</strong></p>
<ul>
<li>Reduce prompt directory size</li>
<li>Disable file watching: <code>--watch false</code></li>
<li>Use SSDs for prompt storage</li>
<li>Split large libraries into categories</li>
</ul>
<h4 id="high-memory-usage"><a class="header" href="#high-memory-usage">High Memory Usage</a></h4>
<pre><code>⚠ Memory usage: 2.1 GB with file watching enabled
</code></pre>
<p><strong>Solutions:</strong></p>
<pre><code class="language-bash"># Disable file watching
swissarmyhammer serve --watch false

# Limit prompt directories
swissarmyhammer serve --prompts ./essential-prompts
</code></pre>
<h2 id="automated-fixes"><a class="header" href="#automated-fixes">Automated Fixes</a></h2>
<p>With the <code>--fix</code> flag, doctor can automatically resolve:</p>
<h3 id="directory-issues"><a class="header" href="#directory-issues">Directory Issues</a></h3>
<ul>
<li>Creates missing prompt directories</li>
<li>Sets appropriate permissions</li>
<li>Creates default configuration file</li>
</ul>
<h3 id="configuration-issues-1"><a class="header" href="#configuration-issues-1">Configuration Issues</a></h3>
<ul>
<li>Repairs malformed TOML files</li>
<li>Sets missing default values</li>
<li>Removes deprecated settings</li>
</ul>
<h3 id="permission-issues"><a class="header" href="#permission-issues">Permission Issues</a></h3>
<ul>
<li>Fixes file and directory permissions</li>
<li>Makes binaries executable</li>
<li>Sets appropriate ownership</li>
</ul>
<h3 id="example-auto-fix"><a class="header" href="#example-auto-fix">Example Auto-Fix</a></h3>
<pre><code class="language-bash">swissarmyhammer doctor --fix

# Output:
Fixed: Created missing directory ~/.swissarmyhammer/prompts
Fixed: Set executable permission on swissarmyhammer binary
Fixed: Created default configuration file
Warning: Could not fix invalid YAML in code-review.md (manual intervention required)
</code></pre>
<h2 id="output-formats"><a class="header" href="#output-formats">Output Formats</a></h2>
<h3 id="human-readable-default"><a class="header" href="#human-readable-default">Human-Readable (Default)</a></h3>
<pre><code>SwissArmyHammer Doctor Report
============================

Installation Checks:
✓ Binary found and executable
✓ Version 0.1.0 (latest)
✓ Dependencies satisfied

Configuration Checks:
✓ Configuration file valid
⚠ Custom directory not found: /tmp/prompts

Prompt Checks:
✓ 45 prompts loaded successfully
✗ 2 prompts with errors (see details below)

MCP Checks:
✓ Server starts successfully
✓ Protocol compliance verified

System Checks:
✓ OS compatibility confirmed
⚠ High memory usage detected

Summary: 3 warnings, 1 error found
</code></pre>
<h3 id="json-format"><a class="header" href="#json-format">JSON Format</a></h3>
<pre><code class="language-json">{
  "timestamp": "2024-03-20T10:30:00Z",
  "version": "0.1.0",
  "checks": {
    "installation": {
      "status": "passed",
      "details": [
        {
          "check": "binary_found",
          "status": "passed",
          "message": "Binary found at /usr/local/bin/swissarmyhammer"
        }
      ]
    },
    "configuration": {
      "status": "warning",
      "details": [
        {
          "check": "custom_directory",
          "status": "warning", 
          "message": "Directory not found: /tmp/prompts",
          "fixable": true
        }
      ]
    }
  },
  "summary": {
    "total_checks": 15,
    "passed": 12,
    "warnings": 2,
    "errors": 1
  }
}
</code></pre>
<h2 id="integration-with-cicd"><a class="header" href="#integration-with-cicd">Integration with CI/CD</a></h2>
<p>Use doctor in automated workflows:</p>
<h3 id="github-actions"><a class="header" href="#github-actions">GitHub Actions</a></h3>
<pre><code class="language-yaml">- name: Check SwissArmyHammer Health
  run: |
    swissarmyhammer doctor --json &gt; health-report.json
    if [ $(jq '.summary.errors' health-report.json) -gt 0 ]; then
      echo "Health check failed"
      exit 1
    fi
</code></pre>
<h3 id="pre-commit-hook"><a class="header" href="#pre-commit-hook">Pre-commit Hook</a></h3>
<pre><code class="language-bash">#!/bin/bash
# .git/hooks/pre-commit
swissarmyhammer doctor --check prompts
if [ $? -ne 0 ]; then
  echo "Prompt validation failed. Fix issues before committing."
  exit 1
fi
</code></pre>
<h3 id="development-script"><a class="header" href="#development-script">Development Script</a></h3>
<pre><code class="language-bash">#!/bin/bash
# dev-setup.sh
echo "Setting up development environment..."
swissarmyhammer doctor --fix --verbose
echo "Health check complete. Run 'swissarmyhammer serve' to start."
</code></pre>
<h2 id="best-practices-7"><a class="header" href="#best-practices-7">Best Practices</a></h2>
<h3 id="regular-health-checks"><a class="header" href="#regular-health-checks">Regular Health Checks</a></h3>
<pre><code class="language-bash"># Weekly health check
swissarmyhammer doctor --verbose

# Before important deployments
swissarmyhammer doctor --check mcp --check prompts
</code></pre>
<h3 id="monitoring-integration"><a class="header" href="#monitoring-integration">Monitoring Integration</a></h3>
<pre><code class="language-bash"># Check and alert on issues
swissarmyhammer doctor --json | jq -r '.summary.errors' | \
  xargs -I {} sh -c 'if [ {} -gt 0 ]; then echo "Alert: SwissArmyHammer errors detected"; fi'
</code></pre>
<h3 id="development-workflow"><a class="header" href="#development-workflow">Development Workflow</a></h3>
<pre><code class="language-bash"># After making prompt changes
swissarmyhammer doctor --check prompts --fix

# Before committing
swissarmyhammer doctor --check prompts
</code></pre>
<h2 id="troubleshooting-doctor-issues"><a class="header" href="#troubleshooting-doctor-issues">Troubleshooting Doctor Issues</a></h2>
<h3 id="doctor-command-not-found"><a class="header" href="#doctor-command-not-found">Doctor Command Not Found</a></h3>
<pre><code class="language-bash"># Verify installation
which swissarmyhammer

# Reinstall if needed
curl -sSL https://install.sh | bash
</code></pre>
<h3 id="doctor-hangs-or-crashes"><a class="header" href="#doctor-hangs-or-crashes">Doctor Hangs or Crashes</a></h3>
<pre><code class="language-bash"># Run with timeout
timeout 30s swissarmyhammer doctor --verbose

# Check specific categories
swissarmyhammer doctor --check installation
</code></pre>
<h3 id="false-positives"><a class="header" href="#false-positives">False Positives</a></h3>
<pre><code class="language-bash"># Skip problematic checks
swissarmyhammer doctor --check config --check prompts

# Use verbose mode for details
swissarmyhammer doctor --verbose
</code></pre>
<h2 id="next-steps-8"><a class="header" href="#next-steps-8">Next Steps</a></h2>
<ul>
<li>Fix any issues identified by doctor</li>
<li>Set up regular health monitoring</li>
<li>Configure automated fixes where appropriate</li>
<li>See <a href="./troubleshooting.html">Troubleshooting</a> for detailed problem resolution</li>
<li>Check <a href="./configuration.html">Configuration</a> for advanced settings</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="completion"><a class="header" href="#completion">completion</a></h1>
<p>The <code>completion</code> command generates shell completion scripts for SwissArmyHammer, enabling tab completion for commands, options, and arguments in your shell.</p>
<h2 id="usage-2"><a class="header" href="#usage-2">Usage</a></h2>
<pre><code class="language-bash">swissarmyhammer completion &lt;SHELL&gt;
</code></pre>
<h3 id="arguments-5"><a class="header" href="#arguments-5">Arguments</a></h3>
<ul>
<li><code>&lt;SHELL&gt;</code> - The shell to generate completions for (<code>bash</code>, <code>zsh</code>, <code>fish</code>, <code>powershell</code>, <code>elvish</code>)</li>
</ul>
<h2 id="supported-shells"><a class="header" href="#supported-shells">Supported Shells</a></h2>
<h3 id="bash-1"><a class="header" href="#bash-1">Bash</a></h3>
<p>Generate and install Bash completions:</p>
<pre><code class="language-bash"># Generate completion script
swissarmyhammer completion bash &gt; swissarmyhammer.bash

# Install for current user
mkdir -p ~/.local/share/bash-completion/completions
swissarmyhammer completion bash &gt; ~/.local/share/bash-completion/completions/swissarmyhammer

# Or install system-wide (requires sudo)
sudo swissarmyhammer completion bash &gt; /usr/share/bash-completion/completions/swissarmyhammer

# Source in current session
source ~/.local/share/bash-completion/completions/swissarmyhammer
</code></pre>
<p>Add to <code>~/.bashrc</code> for permanent installation:</p>
<pre><code class="language-bash"># Add SwissArmyHammer completions
if [ -f ~/.local/share/bash-completion/completions/swissarmyhammer ]; then
    source ~/.local/share/bash-completion/completions/swissarmyhammer
fi
</code></pre>
<h3 id="zsh-1"><a class="header" href="#zsh-1">Zsh</a></h3>
<p>Generate and install Zsh completions:</p>
<pre><code class="language-bash"># Generate completion script
swissarmyhammer completion zsh &gt; _swissarmyhammer

# Install to Zsh completions directory
# First, add custom completion directory to fpath in ~/.zshrc:
echo 'fpath=(~/.zsh/completions $fpath)' &gt;&gt; ~/.zshrc

# Create directory and install
mkdir -p ~/.zsh/completions
swissarmyhammer completion zsh &gt; ~/.zsh/completions/_swissarmyhammer

# Reload completions
autoload -U compinit &amp;&amp; compinit
</code></pre>
<p>For Oh My Zsh users:</p>
<pre><code class="language-bash"># Install to Oh My Zsh custom plugins
swissarmyhammer completion zsh &gt; ~/.oh-my-zsh/custom/plugins/swissarmyhammer/_swissarmyhammer
</code></pre>
<h3 id="fish-1"><a class="header" href="#fish-1">Fish</a></h3>
<p>Generate and install Fish completions:</p>
<pre><code class="language-bash"># Generate and install in one command
swissarmyhammer completion fish &gt; ~/.config/fish/completions/swissarmyhammer.fish

# Completions are automatically loaded in new shells
</code></pre>
<h3 id="powershell"><a class="header" href="#powershell">PowerShell</a></h3>
<p>Generate and install PowerShell completions:</p>
<pre><code class="language-powershell"># Generate completion script
swissarmyhammer completion powershell &gt; SwissArmyHammer.ps1

# Add to PowerShell profile
Add-Content $PROFILE "`n. $(pwd)\SwissArmyHammer.ps1"

# Or install to modules directory
$modulePath = "$env:USERPROFILE\Documents\PowerShell\Modules\SwissArmyHammer"
New-Item -ItemType Directory -Force -Path $modulePath
swissarmyhammer completion powershell &gt; "$modulePath\SwissArmyHammer.psm1"
</code></pre>
<h3 id="elvish"><a class="header" href="#elvish">Elvish</a></h3>
<p>Generate and install Elvish completions:</p>
<pre><code class="language-elvish"># Generate and install
swissarmyhammer completion elvish &gt; ~/.elvish/lib/swissarmyhammer.elv

# Add to rc.elv
echo "use swissarmyhammer" &gt;&gt; ~/.elvish/rc.elv
</code></pre>
<h2 id="what-gets-completed"><a class="header" href="#what-gets-completed">What Gets Completed</a></h2>
<p>The completion system provides intelligent suggestions for:</p>
<h3 id="commands"><a class="header" href="#commands">Commands</a></h3>
<pre><code class="language-bash">swissarmyhammer &lt;TAB&gt;
# Suggests: serve, list, doctor, export, import, completion, config
</code></pre>
<h3 id="command-options"><a class="header" href="#command-options">Command Options</a></h3>
<pre><code class="language-bash">swissarmyhammer serve --&lt;TAB&gt;
# Suggests: --port, --host, --debug, --watch, --prompts, etc.
</code></pre>
<h3 id="prompt-names"><a class="header" href="#prompt-names">Prompt Names</a></h3>
<pre><code class="language-bash">swissarmyhammer get &lt;TAB&gt;
# Suggests available prompt names from your library
</code></pre>
<h3 id="file-paths"><a class="header" href="#file-paths">File Paths</a></h3>
<pre><code class="language-bash">swissarmyhammer import &lt;TAB&gt;
# Suggests .tar.gz files in current directory

swissarmyhammer export output&lt;TAB&gt;
# Suggests: output.tar.gz
</code></pre>
<h3 id="configuration-keys"><a class="header" href="#configuration-keys">Configuration Keys</a></h3>
<pre><code class="language-bash">swissarmyhammer config set &lt;TAB&gt;
# Suggests: server.port, server.host, prompts.directories, etc.
</code></pre>
<h2 id="advanced-features-1"><a class="header" href="#advanced-features-1">Advanced Features</a></h2>
<h3 id="dynamic-completions"><a class="header" href="#dynamic-completions">Dynamic Completions</a></h3>
<p>Some completions are generated dynamically based on context:</p>
<pre><code class="language-bash"># Completes with actual prompt names from your library
swissarmyhammer get code-&lt;TAB&gt;
# Suggests: code-review, code-documentation, code-optimizer

# Completes with valid categories
swissarmyhammer list --category &lt;TAB&gt;
# Suggests: development, writing, data, productivity
</code></pre>
<h3 id="nested-completions"><a class="header" href="#nested-completions">Nested Completions</a></h3>
<p>Completions work with nested commands:</p>
<pre><code class="language-bash">swissarmyhammer config &lt;TAB&gt;
# Suggests: get, set, list, validate

swissarmyhammer config set server.&lt;TAB&gt;
# Suggests: server.port, server.host, server.debug
</code></pre>
<h3 id="alias-support"><a class="header" href="#alias-support">Alias Support</a></h3>
<p>If you create shell aliases, completions still work:</p>
<pre><code class="language-bash"># In .bashrc or .zshrc
alias sah='swissarmyhammer'

# Completions work with alias
sah serve --&lt;TAB&gt;
</code></pre>
<h2 id="troubleshooting-7"><a class="header" href="#troubleshooting-7">Troubleshooting</a></h2>
<h3 id="completions-not-working"><a class="header" href="#completions-not-working">Completions Not Working</a></h3>
<ol>
<li>
<p><strong>Check Installation Location</strong></p>
<pre><code class="language-bash"># Bash
ls ~/.local/share/bash-completion/completions/

# Zsh
echo $fpath
ls ~/.zsh/completions/

# Fish
ls ~/.config/fish/completions/
</code></pre>
</li>
<li>
<p><strong>Reload Shell Configuration</strong></p>
<pre><code class="language-bash"># Bash
source ~/.bashrc

# Zsh
source ~/.zshrc

# Fish
source ~/.config/fish/config.fish
</code></pre>
</li>
<li>
<p><strong>Check Completion System</strong></p>
<pre><code class="language-bash"># Bash
complete -p | grep swissarmyhammer

# Zsh
print -l ${(ok)_comps} | grep swissarmyhammer
</code></pre>
</li>
</ol>
<h3 id="slow-completions"><a class="header" href="#slow-completions">Slow Completions</a></h3>
<p>If completions are slow:</p>
<ol>
<li>
<p><strong>Enable Caching</strong> (Zsh)</p>
<pre><code class="language-zsh"># Add to ~/.zshrc
zstyle ':completion:*' use-cache on
zstyle ':completion:*' cache-path ~/.zsh/cache
</code></pre>
</li>
<li>
<p><strong>Reduce Dynamic Lookups</strong></p>
<pre><code class="language-bash"># Set static prompt directory
export SWISSARMYHAMMER_PROMPTS_DIR=~/.swissarmyhammer/prompts
</code></pre>
</li>
</ol>
<h3 id="missing-completions"><a class="header" href="#missing-completions">Missing Completions</a></h3>
<p>If some completions are missing:</p>
<pre><code class="language-bash"># Regenerate completions after updates
swissarmyhammer completion bash &gt; ~/.local/share/bash-completion/completions/swissarmyhammer

# Check SwissArmyHammer version
swissarmyhammer --version
</code></pre>
<h2 id="environment-variables-4"><a class="header" href="#environment-variables-4">Environment Variables</a></h2>
<p>Completions respect environment variables:</p>
<pre><code class="language-bash"># Complete with custom prompt directories
export SWISSARMYHAMMER_PROMPTS_DIRECTORIES="/opt/prompts,~/my-prompts"
swissarmyhammer list &lt;TAB&gt;
</code></pre>
<h2 id="integration-with-tools"><a class="header" href="#integration-with-tools">Integration with Tools</a></h2>
<h3 id="fzf-integration"><a class="header" href="#fzf-integration">fzf Integration</a></h3>
<p>Combine with fzf for fuzzy completion:</p>
<pre><code class="language-bash"># Add to .bashrc/.zshrc
_swissarmyhammer_fzf_complete() {
    swissarmyhammer list --format simple | fzf
}

# Use with Ctrl+T
bind '"\C-t": "$(_swissarmyhammer_fzf_complete)\e\C-e\er"'
</code></pre>
<h3 id="ide-integration"><a class="header" href="#ide-integration">IDE Integration</a></h3>
<p>Most IDEs can use shell completions:</p>
<h4 id="vs-code"><a class="header" href="#vs-code">VS Code</a></h4>
<pre><code class="language-json">{
    "terminal.integrated.shellIntegration.enabled": true,
    "terminal.integrated.shellIntegration.suggestEnabled": true
}
</code></pre>
<h4 id="jetbrains-ides"><a class="header" href="#jetbrains-ides">JetBrains IDEs</a></h4>
<ul>
<li>Terminal automatically sources shell configuration</li>
<li>Completions work in integrated terminal</li>
</ul>
<h2 id="custom-completions"><a class="header" href="#custom-completions">Custom Completions</a></h2>
<h3 id="adding-custom-completions"><a class="header" href="#adding-custom-completions">Adding Custom Completions</a></h3>
<p>Create wrapper scripts with additional completions:</p>
<pre><code class="language-bash">#!/bin/bash
# my-swissarmyhammer-completions.bash

# Source original completions
source ~/.local/share/bash-completion/completions/swissarmyhammer

# Add custom completions
_my_custom_prompts() {
    COMPREPLY=($(compgen -W "my-prompt-1 my-prompt-2 my-prompt-3" -- ${COMP_WORDS[COMP_CWORD]}))
}

# Override prompt name completion
complete -F _my_custom_prompts swissarmyhammer get
</code></pre>
<h3 id="project-specific-completions"><a class="header" href="#project-specific-completions">Project-Specific Completions</a></h3>
<p>Add project-specific completions:</p>
<pre><code class="language-bash"># .envrc (direnv) or project script
_project_prompts() {
    ls ./.swissarmyhammer/prompts/*.md 2&gt;/dev/null | xargs -n1 basename | sed 's/\.md$//'
}

# Export for use in completions
export SWISSARMYHAMMER_PROJECT_PROMPTS=$(_project_prompts)
</code></pre>
<h2 id="best-practices-8"><a class="header" href="#best-practices-8">Best Practices</a></h2>
<ol>
<li>
<p><strong>Keep Completions Updated</strong></p>
<pre><code class="language-bash"># Update completions after SwissArmyHammer updates
swissarmyhammer completion $(basename $SHELL) &gt; ~/.local/share/completions/swissarmyhammer
</code></pre>
</li>
<li>
<p><strong>Test Completions</strong></p>
<pre><code class="language-bash"># Test completion generation
swissarmyhammer completion bash | head -20
</code></pre>
</li>
<li>
<p><strong>Document Custom Completions</strong></p>
<pre><code class="language-bash"># Add comments in completion files
# Custom completions for project XYZ
# Generated: $(date)
# Version: $(swissarmyhammer --version)
</code></pre>
</li>
</ol>
<h2 id="examples-9"><a class="header" href="#examples-9">Examples</a></h2>
<h3 id="complete-workflow"><a class="header" href="#complete-workflow">Complete Workflow</a></h3>
<pre><code class="language-bash"># Install completions
swissarmyhammer completion bash &gt; ~/.local/share/bash-completion/completions/swissarmyhammer

# Use completions
swissarmyhammer li&lt;TAB&gt;          # Completes to: list
swissarmyhammer list --for&lt;TAB&gt;   # Completes to: --format
swissarmyhammer list --format j&lt;TAB&gt; # Completes to: json

# Get specific prompt
swissarmyhammer get code-r&lt;TAB&gt;   # Completes to: code-review

# Export with completion
swissarmyhammer export my-prompts&lt;TAB&gt; # Suggests: my-prompts.tar.gz
</code></pre>
<h3 id="script-integration-1"><a class="header" href="#script-integration-1">Script Integration</a></h3>
<pre><code class="language-bash">#!/bin/bash
# setup-completions.sh

SHELL_NAME=$(basename "$SHELL")

case "$SHELL_NAME" in
    bash)
        COMPLETION_DIR="$HOME/.local/share/bash-completion/completions"
        ;;
    zsh)
        COMPLETION_DIR="$HOME/.zsh/completions"
        ;;
    fish)
        COMPLETION_DIR="$HOME/.config/fish/completions"
        ;;
    *)
        echo "Unsupported shell: $SHELL_NAME"
        exit 1
        ;;
esac

mkdir -p "$COMPLETION_DIR"
swissarmyhammer completion "$SHELL_NAME" &gt; "$COMPLETION_DIR/swissarmyhammer"
echo "Completions installed to $COMPLETION_DIR"
</code></pre>
<h2 id="see-also-2"><a class="header" href="#see-also-2">See Also</a></h2>
<ul>
<li><a href="./cli-reference.html">CLI Reference</a> - Complete command documentation</li>
<li><a href="./configuration.html">Configuration</a> - Configuration options</li>
<li><a href="./getting-started.html">Getting Started</a> - Initial setup guide</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="memoranda-cli-reference"><a class="header" href="#memoranda-cli-reference">Memoranda CLI Reference</a></h1>
<p>SwissArmyHammer’s memoranda system provides command-line tools for managing structured text memos with automatic timestamping, unique identifiers, and full-text search capabilities.</p>
<h2 id="overview-2"><a class="header" href="#overview-2">Overview</a></h2>
<p>The memoranda CLI enables you to:</p>
<ul>
<li><strong>Create</strong> structured memos with titles and content</li>
<li><strong>List</strong> and browse all stored memos with previews</li>
<li><strong>Search</strong> memos by keywords across titles and content</li>
<li><strong>Retrieve</strong> specific memos by their unique identifiers</li>
<li><strong>Update</strong> memo content while preserving metadata</li>
<li><strong>Delete</strong> memos when no longer needed</li>
<li><strong>Export</strong> all memos as formatted context for AI assistants</li>
</ul>
<p>All memos are stored in <code>./.swissarmyhammer/memos/</code> with ULID identifiers for chronological ordering.</p>
<h2 id="basic-usage-3"><a class="header" href="#basic-usage-3">Basic Usage</a></h2>
<pre><code class="language-bash">swissarmyhammer memo [SUBCOMMAND] [OPTIONS]
</code></pre>
<h2 id="subcommands"><a class="header" href="#subcommands">Subcommands</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Subcommand</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="cli-memoranda.html#create"><code>create</code></a></td><td>Create a new memo with title and content</td></tr>
<tr><td><a href="cli-memoranda.html#list"><code>list</code></a></td><td>List all memos with previews</td></tr>
<tr><td><a href="cli-memoranda.html#get"><code>get</code></a></td><td>Retrieve a specific memo by ID</td></tr>
<tr><td><a href="cli-memoranda.html#update"><code>update</code></a></td><td>Update memo content by ID</td></tr>
<tr><td><a href="cli-memoranda.html#delete"><code>delete</code></a></td><td>Delete a memo by ID</td></tr>
<tr><td><a href="cli-memoranda.html#search"><code>search</code></a></td><td>Search memos by query string</td></tr>
<tr><td><a href="cli-memoranda.html#context"><code>context</code></a></td><td>Get all memo context for AI consumption</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="create"><a class="header" href="#create">create</a></h2>
<p>Creates a new memo with a title and content.</p>
<h3 id="usage-3"><a class="header" href="#usage-3">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo create &lt;TITLE&gt; [OPTIONS]
</code></pre>
<h3 id="arguments-6"><a class="header" href="#arguments-6">Arguments</a></h3>
<ul>
<li><code>&lt;TITLE&gt;</code> - Brief title or subject for the memo (required)</li>
</ul>
<h3 id="options-4"><a class="header" href="#options-4">Options</a></h3>
<ul>
<li><code>-c, --content &lt;CONTENT&gt;</code> - Memo content (optional)
<ul>
<li>If omitted, prompts for interactive input</li>
<li>Use <code>-c -</code> to read from stdin</li>
<li>Use <code>-c "content text"</code> for direct input</li>
</ul>
</li>
</ul>
<h3 id="examples-10"><a class="header" href="#examples-10">Examples</a></h3>
<h4 id="interactive-content-input"><a class="header" href="#interactive-content-input">Interactive Content Input</a></h4>
<pre><code class="language-bash"># Create memo with interactive content input
swissarmyhammer memo create "Meeting Notes"
# Prompts: Enter memo content, press Ctrl+D when finished
</code></pre>
<h4 id="direct-content-input"><a class="header" href="#direct-content-input">Direct Content Input</a></h4>
<pre><code class="language-bash"># Create memo with inline content
swissarmyhammer memo create "Daily Standup" -c "- Completed user auth\n- Working on API endpoints\n- Next: Database schema"
</code></pre>
<h4 id="stdin-content-input"><a class="header" href="#stdin-content-input">Stdin Content Input</a></h4>
<pre><code class="language-bash"># Create memo from file or piped content
cat meeting_notes.md | swissarmyhammer memo create "Team Meeting" -c -

# Or from heredoc
swissarmyhammer memo create "Project Notes" -c - &lt;&lt; EOF
# Project Planning Session

## Attendees
- Alice, Bob, Charlie

## Decisions
- Use React for frontend
- PostgreSQL for database
- Deploy on AWS
EOF
</code></pre>
<h4 id="markdown-content"><a class="header" href="#markdown-content">Markdown Content</a></h4>
<pre><code class="language-bash">swissarmyhammer memo create "Code Review Checklist" -c "# Code Review Checklist

## Security
- [ ] Input validation
- [ ] Authentication checks
- [ ] No hardcoded secrets

## Performance
- [ ] Database queries optimized
- [ ] Caching implemented
- [ ] Memory usage acceptable

## Testing
- [ ] Unit tests pass
- [ ] Integration tests pass
- [ ] Edge cases covered"
</code></pre>
<h3 id="output"><a class="header" href="#output">Output</a></h3>
<pre><code>✅ Created memo: Meeting Notes
🆔 ID: 01ARZ3NDEKTSV4RRFFQ69G5FAV
📅 Created: 2024-01-15 14:30:25 UTC
</code></pre>
<hr />
<h2 id="list"><a class="header" href="#list">list</a></h2>
<p>Lists all available memos with metadata and content previews.</p>
<h3 id="usage-4"><a class="header" href="#usage-4">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo list
</code></pre>
<h3 id="options-5"><a class="header" href="#options-5">Options</a></h3>
<p>None.</p>
<h3 id="examples-11"><a class="header" href="#examples-11">Examples</a></h3>
<pre><code class="language-bash"># List all memos
swissarmyhammer memo list
</code></pre>
<h3 id="output-1"><a class="header" href="#output-1">Output</a></h3>
<pre><code>📝 Found 3 memos

🆔 01ARZ3NDEKTSV4RRFFQ69G5FAV
📄 Meeting Notes
📅 2024-01-15 14:30:25 UTC
💬 # Team Meeting 2024-01-15\n\n- Discussed Q1 roadmap\n- Assigned tasks for sprint...

🆔 01BRZ3NDEKTSV4RRFFQ69G5FAW
📄 Project Ideas
📅 2024-01-14 09:15:42 UTC
💬 ## New Features\n\n1. Dark mode toggle\n2. Export functionality\n3. Advanced search...

🆔 01CRZ3NDEKTSV4RRFFQ69G5FAX
📄 Code Snippets
📅 2024-01-13 16:22:18 UTC
💬 ```rust\nfn fibonacci(n: u32) -&gt; u32 {\n    match n {\n        0 =&gt; 0,\n        1 =&gt; 1...
</code></pre>
<p><strong>Empty Collection:</strong></p>
<pre><code>ℹ️ No memos found
</code></pre>
<h3 id="content-preview"><a class="header" href="#content-preview">Content Preview</a></h3>
<ul>
<li>Shows first 100 characters of memo content</li>
<li>Newlines replaced with spaces for compact display</li>
<li>Truncated content indicated with “…”</li>
<li>Memos sorted by creation time (newest first)</li>
</ul>
<hr />
<h2 id="get"><a class="header" href="#get">get</a></h2>
<p>Retrieves and displays a specific memo by its ULID identifier.</p>
<h3 id="usage-5"><a class="header" href="#usage-5">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo get &lt;ID&gt;
</code></pre>
<h3 id="arguments-7"><a class="header" href="#arguments-7">Arguments</a></h3>
<ul>
<li><code>&lt;ID&gt;</code> - ULID identifier of the memo to retrieve (required)</li>
</ul>
<h3 id="examples-12"><a class="header" href="#examples-12">Examples</a></h3>
<pre><code class="language-bash"># Get memo by ID
swissarmyhammer memo get 01ARZ3NDEKTSV4RRFFQ69G5FAV
</code></pre>
<h3 id="output-2"><a class="header" href="#output-2">Output</a></h3>
<pre><code>📝 Memo: Meeting Notes
🆔 ID: 01ARZ3NDEKTSV4RRFFQ69G5FAV
📅 Created: 2024-01-15 14:30:25 UTC
🔄 Updated: 2024-01-15 14:30:25 UTC

Content:
# Team Meeting 2024-01-15

## Attendees
- Alice (PM)
- Bob (Engineering)
- Charlie (Design)

## Agenda Items
1. Q1 Roadmap Review
2. Sprint Planning
3. Technical Debt Discussion

## Action Items
- [ ] Alice: Schedule follow-up with stakeholders
- [ ] Bob: Research database migration options
- [ ] Charlie: Create wireframes for new features

## Next Meeting
- Date: 2024-01-22
- Time: 2:00 PM UTC
- Location: Conference Room B
</code></pre>
<h3 id="error-handling-3"><a class="header" href="#error-handling-3">Error Handling</a></h3>
<p><strong>Invalid ULID format:</strong></p>
<pre><code class="language-bash">swissarmyhammer memo get invalid-id
# Error: Invalid memo ID format: 'invalid-id'. Expected a valid ULID...
</code></pre>
<p><strong>Memo not found:</strong></p>
<pre><code class="language-bash">swissarmyhammer memo get 01XYZ3NDEKTSV4RRFFQ69G5FAV
# Error: Memo not found with ID: 01XYZ3NDEKTSV4RRFFQ69G5FAV
</code></pre>
<hr />
<h2 id="update"><a class="header" href="#update">update</a></h2>
<p>Updates the content of an existing memo while preserving its title and metadata.</p>
<h3 id="usage-6"><a class="header" href="#usage-6">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo update &lt;ID&gt; [OPTIONS]
</code></pre>
<h3 id="arguments-8"><a class="header" href="#arguments-8">Arguments</a></h3>
<ul>
<li><code>&lt;ID&gt;</code> - ULID identifier of the memo to update (required)</li>
</ul>
<h3 id="options-6"><a class="header" href="#options-6">Options</a></h3>
<ul>
<li><code>-c, --content &lt;CONTENT&gt;</code> - New content for the memo (optional)
<ul>
<li>If omitted, prompts for interactive input</li>
<li>Use <code>-c -</code> to read from stdin</li>
<li>Use <code>-c "content text"</code> for direct input</li>
</ul>
</li>
</ul>
<h3 id="examples-13"><a class="header" href="#examples-13">Examples</a></h3>
<h4 id="interactive-update"><a class="header" href="#interactive-update">Interactive Update</a></h4>
<pre><code class="language-bash"># Update memo with interactive content input
swissarmyhammer memo update 01ARZ3NDEKTSV4RRFFQ69G5FAV
# Prompts: Enter memo content, press Ctrl+D when finished
</code></pre>
<h4 id="direct-update"><a class="header" href="#direct-update">Direct Update</a></h4>
<pre><code class="language-bash"># Update memo with inline content
swissarmyhammer memo update 01ARZ3NDEKTSV4RRFFQ69G5FAV -c "# Updated Meeting Notes

Added action items and next steps from today's discussion."
</code></pre>
<h4 id="stdin-update"><a class="header" href="#stdin-update">Stdin Update</a></h4>
<pre><code class="language-bash"># Update memo from file
cat updated_notes.md | swissarmyhammer memo update 01ARZ3NDEKTSV4RRFFQ69G5FAV -c -
</code></pre>
<h3 id="output-3"><a class="header" href="#output-3">Output</a></h3>
<pre><code>✅ Updated memo: Meeting Notes
🆔 ID: 01ARZ3NDEKTSV4RRFFQ69G5FAV
🔄 Updated: 2024-01-15 16:45:30 UTC

Content:
# Updated Meeting Notes

Added action items and next steps from today's discussion.
</code></pre>
<h3 id="behavior"><a class="header" href="#behavior">Behavior</a></h3>
<ul>
<li><strong>Title preserved</strong> - Only content is updated, title remains unchanged</li>
<li><strong>Updated timestamp</strong> - <code>updated_at</code> field refreshed to current time</li>
<li><strong>Created timestamp</strong> - <code>created_at</code> field remains unchanged</li>
<li><strong>ID preserved</strong> - ULID identifier never changes</li>
</ul>
<hr />
<h2 id="delete"><a class="header" href="#delete">delete</a></h2>
<p>Permanently deletes a memo from storage.</p>
<h3 id="usage-7"><a class="header" href="#usage-7">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo delete &lt;ID&gt;
</code></pre>
<h3 id="arguments-9"><a class="header" href="#arguments-9">Arguments</a></h3>
<ul>
<li><code>&lt;ID&gt;</code> - ULID identifier of the memo to delete (required)</li>
</ul>
<h3 id="examples-14"><a class="header" href="#examples-14">Examples</a></h3>
<pre><code class="language-bash"># Delete memo by ID
swissarmyhammer memo delete 01ARZ3NDEKTSV4RRFFQ69G5FAV
</code></pre>
<h3 id="output-4"><a class="header" href="#output-4">Output</a></h3>
<pre><code>🗑️ Deleted memo: Meeting Notes
🆔 ID: 01ARZ3NDEKTSV4RRFFQ69G5FAV
</code></pre>
<h3 id="important-notes"><a class="header" href="#important-notes">Important Notes</a></h3>
<p>⚠️ <strong>Warning</strong>: Deletion is permanent and cannot be undone. The memo file is immediately removed from the filesystem.</p>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Verify the memo ID before deletion using <code>get</code> command</li>
<li>Consider archiving important memos instead of deleting</li>
<li>Use search to ensure you’re deleting the correct memo</li>
</ul>
<hr />
<h2 id="search"><a class="header" href="#search">search</a></h2>
<p>Searches memos by query string across titles and content with advanced highlighting and relevance scoring.</p>
<h3 id="usage-8"><a class="header" href="#usage-8">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo search &lt;QUERY&gt;
</code></pre>
<h3 id="arguments-10"><a class="header" href="#arguments-10">Arguments</a></h3>
<ul>
<li><code>&lt;QUERY&gt;</code> - Search query to match against memo titles and content (required)</li>
</ul>
<h3 id="examples-15"><a class="header" href="#examples-15">Examples</a></h3>
<h4 id="basic-search-1"><a class="header" href="#basic-search-1">Basic Search</a></h4>
<pre><code class="language-bash"># Search for memos containing "meeting"
swissarmyhammer memo search "meeting"
</code></pre>
<h4 id="multi-word-search"><a class="header" href="#multi-word-search">Multi-word Search</a></h4>
<pre><code class="language-bash"># Search for multiple keywords
swissarmyhammer memo search "project roadmap timeline"
</code></pre>
<h4 id="empty-query"><a class="header" href="#empty-query">Empty Query</a></h4>
<pre><code class="language-bash"># Empty query returns all memos
swissarmyhammer memo search ""
</code></pre>
<h3 id="output-5"><a class="header" href="#output-5">Output</a></h3>
<h4 id="successful-search"><a class="header" href="#successful-search">Successful Search</a></h4>
<pre><code>🔍 Found 2 memos matching 'meeting'

🆔 01ARZ3NDEKTSV4RRFFQ69G5FAV
📄 Meeting Notes
📅 2024-01-15 14:30:25 UTC
⭐ 95.5% relevance
💬 # Team **Meeting** 2024-01-15\n\n- Discussed Q1 roadmap\n- Assigned tasks for sprint\n- Next **meeting**: 2024-01-22...

🆔 01DRZ3NDEKTSV4RRFFQ69G5FAY
📄 Sprint Planning
📅 2024-01-10 11:20:15 UTC
⭐ 78.2% relevance
💬 Planning **meeting** for next sprint. Need to review backlog and assign story points...
</code></pre>
<h4 id="no-results"><a class="header" href="#no-results">No Results</a></h4>
<pre><code>ℹ️ No memos found matching 'nonexistent'
</code></pre>
<h3 id="search-features"><a class="header" href="#search-features">Search Features</a></h3>
<ul>
<li><strong>Case-insensitive</strong> - Search matches regardless of case</li>
<li><strong>Partial matching</strong> - Finds substrings within words</li>
<li><strong>Title and content</strong> - Searches across both memo titles and content</li>
<li><strong>Relevance scoring</strong> - Results sorted by relevance (0-100%)</li>
<li><strong>Highlighted matches</strong> - Query terms highlighted in results</li>
<li><strong>Advanced search engine</strong> - Uses advanced search when available, falls back to basic search</li>
<li><strong>Result previews</strong> - Shows 150 characters of content around matches</li>
</ul>
<h3 id="search-tips"><a class="header" href="#search-tips">Search Tips</a></h3>
<ul>
<li>Use specific keywords for better results</li>
<li>Combine related terms to narrow results</li>
<li>Search for unique identifiers or project names</li>
<li>Use common words to find broader categories</li>
</ul>
<hr />
<h2 id="context"><a class="header" href="#context">context</a></h2>
<p>Exports all memo content formatted for AI assistant consumption.</p>
<h3 id="usage-9"><a class="header" href="#usage-9">Usage</a></h3>
<pre><code class="language-bash">swissarmyhammer memo context
</code></pre>
<h3 id="options-7"><a class="header" href="#options-7">Options</a></h3>
<p>None.</p>
<h3 id="examples-16"><a class="header" href="#examples-16">Examples</a></h3>
<pre><code class="language-bash"># Get all memo context
swissarmyhammer memo context
</code></pre>
<h3 id="output-6"><a class="header" href="#output-6">Output</a></h3>
<pre><code>📄 All memo context (2 memos)

## Meeting Notes (ID: 01ARZ3NDEKTSV4RRFFQ69G5FAV)

Created: 2024-01-15 14:30:25 UTC
Updated: 2024-01-15 16:45:30 UTC

# Team Meeting 2024-01-15

## Attendees
- Alice (PM)
- Bob (Engineering)
- Charlie (Design)

## Action Items
- [ ] Schedule follow-up meeting
- [ ] Research database options
- [ ] Create wireframes

===

## Project Ideas (ID: 01BRZ3NDEKTSV4RRFFQ69G5FAW)

Created: 2024-01-14 09:15:42 UTC
Updated: 2024-01-14 09:15:42 UTC

## New Features

1. Dark mode toggle
2. Export functionality  
3. Advanced search with filters
4. Collaborative editing

===
</code></pre>
<h3 id="output-format-4"><a class="header" href="#output-format-4">Output Format</a></h3>
<ul>
<li><strong>Sorted by updated time</strong> - Most recently updated memos first</li>
<li><strong>Full content</strong> - Complete memo content without truncation</li>
<li><strong>Metadata included</strong> - Creation and update timestamps</li>
<li><strong>Clear separators</strong> - <code>===</code> between memos for easy parsing</li>
<li><strong>AI-friendly format</strong> - Optimized for AI assistant consumption</li>
</ul>
<h3 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h3>
<ul>
<li><strong>AI Context Loading</strong> - Provide memo knowledge base to AI assistants</li>
<li><strong>Backup Creation</strong> - Export all memos for archival</li>
<li><strong>Content Analysis</strong> - Analyze memo collection patterns</li>
<li><strong>Documentation Generation</strong> - Convert memos to documentation format</li>
</ul>
<hr />
<h2 id="common-workflows"><a class="header" href="#common-workflows">Common Workflows</a></h2>
<h3 id="daily-note-taking"><a class="header" href="#daily-note-taking">Daily Note-Taking</a></h3>
<pre><code class="language-bash"># Morning: Create daily journal
swissarmyhammer memo create "Daily Journal $(date +%Y-%m-%d)" -c "# Goals for today:
- Review PR #123
- Complete API documentation
- Team standup at 10am"

# Throughout the day: Search for related memos
swissarmyhammer memo search "API documentation"

# Evening: Update with accomplishments
swissarmyhammer memo update $MEMO_ID -c "# Daily Journal $(date +%Y-%m-%d)

## Completed:
- ✅ Reviewed PR #123 - approved with minor comments
- ✅ Completed API documentation for auth endpoints
- ✅ Team standup - discussed upcoming sprint

## Tomorrow:
- Implement user profile endpoints
- Review database migration scripts"
</code></pre>
<h3 id="meeting-notes-management"><a class="header" href="#meeting-notes-management">Meeting Notes Management</a></h3>
<pre><code class="language-bash"># Before meeting: Create template
swissarmyhammer memo create "Weekly Team Meeting $(date +%Y-%m-%d)" -c "# Weekly Team Meeting

## Attendees
- 

## Agenda
1. Sprint progress review
2. Blockers discussion
3. Next week planning

## Action Items
- [ ] 

## Next Meeting
- Date: 
- Topics: "

# During meeting: Get memo ID for quick updates
MEMO_ID=$(swissarmyhammer memo list | grep "Weekly Team Meeting" | grep -o '01[A-Z0-9]\{25\}' | head -1)

# After meeting: Update with notes
swissarmyhammer memo update $MEMO_ID -c "$(cat meeting_notes_final.md)"
</code></pre>
<h3 id="project-documentation"><a class="header" href="#project-documentation">Project Documentation</a></h3>
<pre><code class="language-bash"># Create project overview
swissarmyhammer memo create "Project Alpha Overview" -c "# Project Alpha

## Objectives
- Improve user onboarding flow
- Reduce support tickets by 30%
- Increase user retention

## Tech Stack
- Frontend: React + TypeScript
- Backend: Node.js + Express
- Database: PostgreSQL
- Deployment: Docker + AWS

## Team
- PM: Alice
- Engineering: Bob, Carol
- Design: David
- QA: Eve"

# Document decisions
swissarmyhammer memo create "Architecture Decisions" -c "# Architecture Decision Records

## ADR-001: Database Choice
**Date**: $(date +%Y-%m-%d)
**Status**: Accepted
**Decision**: Use PostgreSQL for primary database
**Rationale**: Better JSON support, mature ecosystem"

# Search related documentation
swissarmyhammer memo search "project alpha database"
</code></pre>
<h3 id="code-snippet-collection"><a class="header" href="#code-snippet-collection">Code Snippet Collection</a></h3>
<pre><code class="language-bash"># Save useful code snippets
swissarmyhammer memo create "Rust Error Handling Patterns" -c '# Rust Error Handling

## Custom Error Types
```rust
#[derive(Debug)]
pub enum MyError {
    Io(std::io::Error),
    Parse(String),
    NotFound,
}

impl std::fmt::Display for MyError {
    fn fmt(&amp;self, f: &amp;mut std::fmt::Formatter) -&gt; std::fmt::Result {
        match self {
            MyError::Io(err) =&gt; write!(f, "IO error: {}", err),
            MyError::Parse(msg) =&gt; write!(f, "Parse error: {}", msg),
            MyError::NotFound =&gt; write!(f, "Not found"),
        }
    }
}

impl std::error::Error for MyError {}
</code></pre>
<h2 id="result-helpers"><a class="header" href="#result-helpers">Result Helpers</a></h2>
<pre><code class="language-rust">type Result&lt;T&gt; = std::result::Result&lt;T, MyError&gt;;

fn might_fail() -&gt; Result&lt;String&gt; {
    Ok("success".to_string())
}
```'

<span class="boring">Search for code examples
</span>swissarmyhammer memo search "rust error"
swissarmyhammer memo search "```rust"</code></pre>
<h2 id="storage-and-file-management"><a class="header" href="#storage-and-file-management">Storage and File Management</a></h2>
<h3 id="storage-location"><a class="header" href="#storage-location">Storage Location</a></h3>
<p>Memos are stored in:</p>
<pre><code>./.swissarmyhammer/memos/
├── Meeting Notes.md
├── Project Planning.md
└── Technical Documentation.md
</code></pre>
<h3 id="file-format"><a class="header" href="#file-format">File Format</a></h3>
<p>Each memo is stored as a markdown file with the memo title as the filename:</p>
<p><strong>Example: Meeting Notes.md</strong></p>
<pre><code class="language-markdown"># Team Meeting 2024-01-15

- Discussed roadmap and next quarter priorities
- Reviewed architectural decisions
- Action items assigned to team members

## Key Decisions
- Migrate to new storage format
- Implement user feedback system
</code></pre>
<p><strong>File Properties:</strong></p>
<ul>
<li><strong>Filename</strong>: Sanitized version of memo title (spaces preserved, special characters removed)</li>
<li><strong>Content</strong>: Pure markdown content without metadata wrapper</li>
<li><strong>Timestamps</strong>: Derived from filesystem metadata (creation and modification times)</li>
<li><strong>ID</strong>: Based on filename for human-readable organization</li>
</ul>
<h3 id="backup-and-restore"><a class="header" href="#backup-and-restore">Backup and Restore</a></h3>
<h4 id="backup-memos"><a class="header" href="#backup-memos">Backup Memos</a></h4>
<pre><code class="language-bash"># Copy memo directory
cp -r .swissarmyhammer/memos/ backup/memos-$(date +%Y%m%d)/

# Or create archive
tar -czf memos-backup-$(date +%Y%m%d).tar.gz .swissarmyhammer/memos/

# Export as context for external storage
swissarmyhammer memo context &gt; all-memos-$(date +%Y%m%d).md
</code></pre>
<h4 id="restore-memos"><a class="header" href="#restore-memos">Restore Memos</a></h4>
<pre><code class="language-bash"># Restore from backup directory
cp -r backup/memos-20240115/ .swissarmyhammer/memos/

# Or extract from archive
tar -xzf memos-backup-20240115.tar.gz
</code></pre>
<h3 id="migration-between-projects"><a class="header" href="#migration-between-projects">Migration Between Projects</a></h3>
<pre><code class="language-bash"># Export from project A
cd /path/to/project-a
swissarmyhammer memo context &gt; project-a-memos.md

# In project B, manually recreate important memos
cd /path/to/project-b
swissarmyhammer memo create "Imported from Project A" -c - &lt; project-a-memos.md
</code></pre>
<h2 id="performance-considerations-1"><a class="header" href="#performance-considerations-1">Performance Considerations</a></h2>
<h3 id="response-times"><a class="header" href="#response-times">Response Times</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Command</th><th>Typical Time</th><th>Notes</th></tr></thead><tbody>
<tr><td><code>create</code></td><td>10-50ms</td><td>File I/O dependent</td></tr>
<tr><td><code>list</code></td><td>50-200ms</td><td>Scales with memo count</td></tr>
<tr><td><code>get</code></td><td>5-20ms</td><td>Single file read</td></tr>
<tr><td><code>update</code></td><td>15-60ms</td><td>File write + timestamp</td></tr>
<tr><td><code>delete</code></td><td>10-30ms</td><td>File deletion</td></tr>
<tr><td><code>search</code></td><td>100-500ms</td><td>Content size dependent</td></tr>
<tr><td><code>context</code></td><td>200ms-2s</td><td>All memos loaded</td></tr>
</tbody></table>
</div>
<h3 id="optimization-tips"><a class="header" href="#optimization-tips">Optimization Tips</a></h3>
<ol>
<li><strong>Large Collections</strong> - Consider archiving old memos</li>
<li><strong>Search Performance</strong> - Use specific keywords rather than broad terms</li>
<li><strong>Context Export</strong> - Run sparingly for large memo collections</li>
<li><strong>File System</strong> - Use SSD storage for better I/O performance</li>
</ol>
<h3 id="limitations-1"><a class="header" href="#limitations-1">Limitations</a></h3>
<ul>
<li><strong>No pagination</strong> - <code>list</code> and <code>context</code> load all memos</li>
<li><strong>Memory usage</strong> - Large memos consume proportional memory</li>
<li><strong>Search complexity</strong> - Basic string matching only</li>
<li><strong>Concurrent access</strong> - No locking mechanism for simultaneous operations</li>
</ul>
<h2 id="troubleshooting-8"><a class="header" href="#troubleshooting-8">Troubleshooting</a></h2>
<h3 id="common-issues-2"><a class="header" href="#common-issues-2">Common Issues</a></h3>
<h4 id="permission-denied-1"><a class="header" href="#permission-denied-1">Permission Denied</a></h4>
<pre><code class="language-bash"># Error: Permission denied (os error 13)
# Solution: Check directory permissions
ls -la .swissarmyhammer/
chmod 755 .swissarmyhammer/
chmod 644 .swissarmyhammer/memos/*
</code></pre>
<h4 id="invalid-ulid-format"><a class="header" href="#invalid-ulid-format">Invalid ULID Format</a></h4>
<pre><code class="language-bash"># Error: Invalid memo ID format
# Solution: Use complete 26-character ULID
swissarmyhammer memo get 01ARZ3NDEKTSV4RRFFQ69G5FAV  # ✅ Correct
swissarmyhammer memo get 01ARZ3                        # ❌ Too short
</code></pre>
<h4 id="storage-directory-missing"><a class="header" href="#storage-directory-missing">Storage Directory Missing</a></h4>
<pre><code class="language-bash"># Error: No such file or directory
# Solution: Directory created automatically, but check parent permissions
mkdir -p .swissarmyhammer/memos
</code></pre>
<h4 id="large-content-issues"><a class="header" href="#large-content-issues">Large Content Issues</a></h4>
<pre><code class="language-bash"># For very large content, use file input instead of command line
# Command line arguments have length limits
cat large_document.md | swissarmyhammer memo create "Large Doc" -c -
</code></pre>
<h3 id="debug-mode-2"><a class="header" href="#debug-mode-2">Debug Mode</a></h3>
<p>Enable debug logging to troubleshoot issues:</p>
<pre><code class="language-bash">RUST_LOG=debug swissarmyhammer memo list
</code></pre>
<h2 id="integration-with-other-tools"><a class="header" href="#integration-with-other-tools">Integration with Other Tools</a></h2>
<h3 id="shell-scripts"><a class="header" href="#shell-scripts">Shell Scripts</a></h3>
<pre><code class="language-bash">#!/bin/bash
# daily-standup.sh - Create daily standup note

DATE=$(date +%Y-%m-%d)
TITLE="Daily Standup $DATE"

swissarmyhammer memo create "$TITLE" -c "# Daily Standup $DATE

## Yesterday
- 

## Today  
- 

## Blockers
- 

## Notes
- "

echo "Created daily standup note for $DATE"
</code></pre>
<h3 id="git-hooks"><a class="header" href="#git-hooks">Git Hooks</a></h3>
<pre><code class="language-bash">#!/bin/bash
# post-commit hook - Create memo for significant commits

COMMIT_MSG=$(git log -1 --pretty=%B)
COMMIT_HASH=$(git rev-parse --short HEAD)

if [[ "$COMMIT_MSG" == *"BREAKING CHANGE"* || "$COMMIT_MSG" == *"feat:"* ]]; then
    swissarmyhammer memo create "Git Commit $COMMIT_HASH" -c "# Significant Commit

**Hash**: $COMMIT_HASH
**Message**: $COMMIT_MSG

**Changes**:
$(git show --stat $COMMIT_HASH)

**Files Modified**:
$(git show --name-only $COMMIT_HASH)"
fi
</code></pre>
<h3 id="editor-integration"><a class="header" href="#editor-integration">Editor Integration</a></h3>
<h4 id="vimneovim"><a class="header" href="#vimneovim">Vim/Neovim</a></h4>
<pre><code class="language-vim">" Add to .vimrc or init.vim
command! MemoCreate :!swissarmyhammer memo create &lt;q-args&gt;
command! MemoList :!swissarmyhammer memo list
command! MemoSearch :!swissarmyhammer memo search &lt;q-args&gt;

" Quick memo creation from current buffer
nnoremap &lt;leader&gt;mc :MemoCreate 
nnoremap &lt;leader&gt;ml :MemoList&lt;CR&gt;
nnoremap &lt;leader&gt;ms :MemoSearch 
</code></pre>
<h4 id="vs-code-1"><a class="header" href="#vs-code-1">VS Code</a></h4>
<p>Create tasks in <code>.vscode/tasks.json</code>:</p>
<pre><code class="language-json">{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Create Memo",
            "type": "shell",
            "command": "swissarmyhammer",
            "args": ["memo", "create", "${input:memoTitle}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always"
            }
        }
    ],
    "inputs": [
        {
            "id": "memoTitle",
            "description": "Memo title",
            "default": "Quick Note",
            "type": "promptString"
        }
    ]
}
</code></pre>
<h2 id="see-also-3"><a class="header" href="#see-also-3">See Also</a></h2>
<ul>
<li><a href="./mcp-memoranda.html">MCP Memoranda Tools</a> - MCP integration for AI assistants</li>
<li><a href="../examples/memoranda-quickstart.html">Getting Started Guide</a> - Step-by-step tutorial</li>
<li><a href="../examples/memoranda-advanced.html">Advanced Usage Examples</a> - Complex workflows</li>
<li><a href="./api-reference.html">API Reference</a> - Programmatic usage</li>
<li><a href="./troubleshooting.html">Troubleshooting</a> - Common issues and solutions</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="advanced-prompt-techniques"><a class="header" href="#advanced-prompt-techniques">Advanced Prompt Techniques</a></h1>
<p>This guide covers advanced techniques for creating sophisticated and powerful prompts with SwissArmyHammer.</p>
<h2 id="composable-prompts"><a class="header" href="#composable-prompts">Composable Prompts</a></h2>
<h3 id="prompt-chaining-1"><a class="header" href="#prompt-chaining-1">Prompt Chaining</a></h3>
<p>Chain multiple prompts together for complex workflows:</p>
<pre><code class="language-markdown">---
name: full-analysis
title: Complete Code Analysis Pipeline
description: Runs multiple analysis steps on code
arguments:
  - name: file_path
    description: File to analyze
    required: true
  - name: output_format
    description: Format for results
    default: markdown
---

# Complete Analysis for {{file_path}}

## Step 1: Code Review
{% capture review_output %}
Run code review on {{file_path}} focusing on:
- Code quality
- Best practices
- Potential bugs
{% endcapture %}

## Step 2: Security Analysis
{% capture security_output %}
Analyze {{file_path}} for security vulnerabilities:
- Input validation
- Authentication issues
- Data exposure risks
{% endcapture %}

## Step 3: Performance Analysis
{% capture performance_output %}
Check {{file_path}} for performance issues:
- Algorithm complexity
- Resource usage
- Optimization opportunities
{% endcapture %}

{% if output_format == "markdown" %}
## Analysis Results

### Code Review
{{ review_output }}

### Security
{{ security_output }}

### Performance
{{ performance_output }}
{% elsif output_format == "json" %}
{
  "code_review": "{{ review_output | escape }}",
  "security": "{{ security_output | escape }}",
  "performance": "{{ performance_output | escape }}"
}
{% endif %}
</code></pre>
<h3 id="modular-prompt-components"><a class="header" href="#modular-prompt-components">Modular Prompt Components</a></h3>
<p>Create reusable prompt components:</p>
<pre><code class="language-markdown">---
name: code-analyzer-base
title: Base Code Analyzer
description: Reusable base for code analysis prompts
arguments:
  - name: code
    description: Code to analyze
    required: true
  - name: analysis_type
    description: Type of analysis
    required: true
---

{% comment %} Base analysis template {% endcomment %}
{% assign lines = code | split: "\n" %}
{% assign line_count = lines | size %}

# {{analysis_type | capitalize}} Analysis

## Code Metrics
- Lines of code: {{line_count}}
- Language: {% if code contains "def " %}Python{% elsif code contains "function" %}JavaScript{% else %}Unknown{% endif %}

## Analysis Focus
{% case analysis_type %}
{% when "security" %}
  {% include "security-checks.liquid" %}
{% when "performance" %}
  {% include "performance-checks.liquid" %}
{% when "style" %}
  {% include "style-checks.liquid" %}
{% endcase %}

## Detailed Analysis
Analyze the following code for {{analysis_type}} issues:

</code></pre>
<p>{{code}}</p>
<pre><code></code></pre>
<h2 id="advanced-templating"><a class="header" href="#advanced-templating">Advanced Templating</a></h2>
<h3 id="dynamic-content-generation"><a class="header" href="#dynamic-content-generation">Dynamic Content Generation</a></h3>
<p>Generate content based on complex conditions:</p>
<pre><code class="language-markdown">---
name: api-documentation-generator
title: Dynamic API Documentation
description: Generates API docs with dynamic sections
arguments:
  - name: api_spec
    description: API specification (JSON)
    required: true
  - name: include_examples
    description: Include code examples
    default: "true"
  - name: languages
    description: Example languages (comma-separated)
    default: "curl,python,javascript"
---

{% assign api = api_spec | parse_json %}
{% assign lang_list = languages | split: "," %}

# {{api.title}} API Documentation

{{api.description}}

Base URL: `{{api.base_url}}`
Version: {{api.version}}

## Authentication

{% if api.auth.type == "bearer" %}
This API uses Bearer token authentication. Include your API token in the Authorization header:

</code></pre>
<p>Authorization: Bearer YOUR_API_TOKEN</p>
<pre><code>{% elsif api.auth.type == "oauth2" %}
This API uses OAuth 2.0. See [Authentication Guide](#auth-guide) for details.
{% endif %}

## Endpoints

{% for endpoint in api.endpoints %}
### {{endpoint.method}} {{endpoint.path}}

{{endpoint.description}}

{% if endpoint.parameters.size &gt; 0 %}
#### Parameters

| Name | Type | Required | Description |
|------|------|----------|-------------|
{% for param in endpoint.parameters %}
| {{param.name}} | {{param.type}} | {{param.required | default: false}} | {{param.description}} |
{% endfor %}
{% endif %}

{% if include_examples == "true" %}
#### Examples

{% for lang in lang_list %}
{% case lang %}
{% when "curl" %}
```bash
curl -X {{endpoint.method}} \
  {{api.base_url}}{{endpoint.path}} \
  {% if api.auth.type == "bearer" %}-H "Authorization: Bearer $API_TOKEN" \{% endif %}
  {% for param in endpoint.parameters %}{% if param.in == "header" %}-H "{{param.name}}: value" \{% endif %}{% endfor %}
  {% if endpoint.method == "POST" or endpoint.method == "PUT" %}-H "Content-Type: application/json" \
  -d '{"key": "value"}'{% endif %}
</code></pre>
<p>{% when “python” %}</p>
<pre><code class="language-python">import requests

response = requests.{{endpoint.method | downcase}}(
    "{{api.base_url}}{{endpoint.path}}",
    {% if api.auth.type == "bearer" %}headers={"Authorization": f"Bearer {api_token}"},{% endif %}
    {% if endpoint.method == "POST" or endpoint.method == "PUT" %}json={"key": "value"}{% endif %}
)
print(response.json())
</code></pre>
<p>{% when “javascript” %}</p>
<pre><code class="language-javascript">const response = await fetch('{{api.base_url}}{{endpoint.path}}', {
  method: '{{endpoint.method}}',
  {% if api.auth.type == "bearer" %}headers: {
    'Authorization': `Bearer ${apiToken}`,
    {% if endpoint.method == "POST" or endpoint.method == "PUT" %}'Content-Type': 'application/json'{% endif %}
  },{% endif %}
  {% if endpoint.method == "POST" or endpoint.method == "PUT" %}body: JSON.stringify({ key: 'value' }){% endif %}
});
const data = await response.json();
</code></pre>
<p>{% endcase %}
{% endfor %}
{% endif %}</p>
<hr />
<p>{% endfor %}</p>
<pre><code>
### Complex Conditionals

Use advanced conditional logic:

```markdown
---
name: smart-optimizer
title: Smart Code Optimizer
description: Applies context-aware optimizations
arguments:
  - name: code
    description: Code to optimize
    required: true
  - name: metrics
    description: Performance metrics (JSON)
    required: false
  - name: constraints
    description: Optimization constraints
    default: "balanced"
---

{% if metrics %}
  {% assign perf = metrics | parse_json %}
  {% assign needs_memory_opt = false %}
  {% assign needs_cpu_opt = false %}
  
  {% if perf.memory_usage &gt; 80 %}
    {% assign needs_memory_opt = true %}
  {% endif %}
  
  {% if perf.cpu_usage &gt; 70 %}
    {% assign needs_cpu_opt = true %}
  {% endif %}
{% endif %}

# Optimization Analysis

{% if needs_memory_opt and needs_cpu_opt %}
## Critical: Both Memory and CPU Optimization Needed

Your code is experiencing both memory and CPU pressure. This requires careful optimization to balance both concerns.

### Recommended Strategy: Hybrid Optimization
1. Profile to identify hotspots
2. Optimize algorithms first (reduces both CPU and memory)
3. Implement caching strategically
4. Consider async processing

{% elsif needs_memory_opt %}
## Memory Optimization Required

Current memory usage: {{perf.memory_usage}}%

### Memory Optimization Strategies:
1. Reduce object allocation
2. Use object pooling
3. Implement lazy loading
4. Clear unused references

{% elsif needs_cpu_opt %}
## CPU Optimization Required

Current CPU usage: {{perf.cpu_usage}}%

### CPU Optimization Strategies:
1. Algorithm optimization
2. Parallel processing
3. Caching computed results
4. Reduce unnecessary operations

{% else %}
## Performance is Acceptable

No immediate optimization needed. Consider:
- Code maintainability improvements
- Preemptive optimization for scale
- Documentation updates
{% endif %}

## Code Analysis

</code></pre>
<p>{{code}}</p>
<pre><code>
{% case constraints %}
{% when "memory-first" %}
Focus on reducing memory footprint, even at slight CPU cost.
{% when "cpu-first" %}
Optimize for CPU performance, memory usage is secondary.
{% when "balanced" %}
Balance both memory and CPU optimizations.
{% endcase %}
</code></pre>
<h2 id="state-management"><a class="header" href="#state-management">State Management</a></h2>
<h3 id="using-captures-for-state"><a class="header" href="#using-captures-for-state">Using Captures for State</a></h3>
<p>Manage complex state across prompt sections:</p>
<pre><code class="language-markdown">---
name: migration-planner
title: Database Migration Planner
description: Plans complex database migrations
arguments:
  - name: current_schema
    description: Current database schema
    required: true
  - name: target_schema
    description: Target database schema
    required: true
  - name: strategy
    description: Migration strategy
    default: "safe"
---

{% comment %} Analyze schemas and capture findings {% endcomment %}

{% capture added_tables %}
{% assign current_tables = current_schema | parse_json | map: "name" %}
{% assign target_tables = target_schema | parse_json | map: "name" %}
{% for table in target_tables %}
  {% unless current_tables contains table %}
    - {{table}}
  {% endunless %}
{% endfor %}
{% endcapture %}

{% capture removed_tables %}
{% for table in current_tables %}
  {% unless target_tables contains table %}
    - {{table}}
  {% endunless %}
{% endfor %}
{% endcapture %}

{% capture migration_risk %}
{% if removed_tables contains "users" or removed_tables contains "auth" %}
HIGH - Critical tables being removed
{% elsif added_tables.size &gt; 5 %}
MEDIUM - Large number of new tables
{% else %}
LOW - Minimal structural changes
{% endif %}
{% endcapture %}

# Database Migration Plan

## Risk Assessment: {{migration_risk | strip}}

## Changes Summary

### New Tables
{{added_tables | default: "None"}}

### Removed Tables
{{removed_tables | default: "None"}}

## Migration Strategy: {{strategy | upcase}}

{% if strategy == "safe" %}
### Safe Migration Steps
1. Create backup
2. Add new tables first
3. Migrate data with validation
4. Update application code
5. Remove old tables after verification

{% elsif strategy == "fast" %}
### Fast Migration Steps
1. Quick backup
2. Execute all changes in transaction
3. Minimal validation
4. Quick rollback if needed

{% elsif strategy == "zero-downtime" %}
### Zero-Downtime Migration Steps
1. Create new tables alongside old
2. Implement dual-write logic
3. Backfill data progressively
4. Switch reads to new tables
5. Remove old tables after stabilization
{% endif %}

{% if migration_risk contains "HIGH" %}
## ⚠️ High Risk Mitigation

Due to the high risk nature of this migration:
1. Schedule during maintenance window
2. Have rollback plan ready
3. Test in staging environment first
4. Monitor closely after deployment
{% endif %}
</code></pre>
<h2 id="performance-optimization"><a class="header" href="#performance-optimization">Performance Optimization</a></h2>
<h3 id="lazy-evaluation"><a class="header" href="#lazy-evaluation">Lazy Evaluation</a></h3>
<p>Use lazy evaluation for expensive operations:</p>
<pre><code class="language-markdown">---
name: smart-analyzer
title: Smart Performance Analyzer
description: Analyzes code with lazy evaluation
arguments:
  - name: code
    description: Code to analyze
    required: true
  - name: quick_check
    description: Perform quick check only
    default: "false"
---

# Code Analysis

{% if quick_check == "true" %}
## Quick Analysis
- Lines: {{code | split: "\n" | size}}
- Complexity: {{code | size | divided_by: 100}} (estimated)

{% else %}
{% comment %} Full analysis only when needed {% endcomment %}

{% capture complexity_analysis %}
  {% assign lines = code | split: "\n" %}
  {% assign complexity = 0 %}
  {% for line in lines %}
    {% if line contains "if " or line contains "for " or line contains "while " %}
      {% assign complexity = complexity | plus: 1 %}
    {% endif %}
  {% endfor %}
  Cyclomatic Complexity: {{complexity}}
{% endcapture %}

{% capture pattern_analysis %}
  {% if code contains "TODO" or code contains "FIXME" %}
    - Contains pending work items
  {% endif %}
  {% if code contains "console.log" or code contains "print(" %}
    - Contains debug output
  {% endif %}
{% endcapture %}

## Full Analysis

### Metrics
{{complexity_analysis}}

### Code Patterns
{{pattern_analysis | default: "No issues found"}}

### Detailed Review
Analyze the code for:
1. Performance bottlenecks
2. Security vulnerabilities
3. Best practice violations

</code></pre>
<p>{{code}}</p>
<pre><code>{% endif %}
</code></pre>
<h3 id="caching-computed-values"><a class="header" href="#caching-computed-values">Caching Computed Values</a></h3>
<p>Cache expensive computations:</p>
<pre><code class="language-markdown">---
name: data-processor
title: Efficient Data Processor
description: Processes data with caching
arguments:
  - name: data
    description: Data to process (CSV or JSON)
    required: true
  - name: operations
    description: Operations to perform
    required: true
---

{% comment %} Cache parsed data {% endcomment %}
{% assign is_json = false %}
{% assign is_csv = false %}

{% if data contains "{" and data contains "}" %}
  {% assign is_json = true %}
  {% assign parsed_data = data | parse_json %}
{% elsif data contains "," %}
  {% assign is_csv = true %}
  {% comment %} Cache row count {% endcomment %}
  {% assign rows = data | split: "\n" %}
  {% assign row_count = rows | size %}
{% endif %}

# Data Processing

## Data Format: {% if is_json %}JSON{% elsif is_csv %}CSV ({{row_count}} rows){% else %}Unknown{% endif %}

{% comment %} Reuse cached values {% endcomment %}
{% for operation in operations %}
  {% case operation %}
  {% when "count" %}
    - Count: {% if is_json %}{{parsed_data | size}}{% else %}{{row_count}}{% endif %}
  {% when "validate" %}
    - Validation: {% if is_json %}Valid JSON{% elsif is_csv %}Valid CSV{% endif %}
  {% endcase %}
{% endfor %}
</code></pre>
<h2 id="error-handling-4"><a class="header" href="#error-handling-4">Error Handling</a></h2>
<h3 id="graceful-degradation"><a class="header" href="#graceful-degradation">Graceful Degradation</a></h3>
<p>Handle errors gracefully:</p>
<pre><code class="language-markdown">---
name: robust-analyzer
title: Robust Code Analyzer
description: Analyzes code with error handling
arguments:
  - name: code
    description: Code to analyze
    required: true
  - name: language
    description: Programming language
    default: "auto"
---

# Code Analysis

{% comment %} Safe language detection {% endcomment %}
{% assign detected_language = "unknown" %}
{% if language == "auto" %}
  {% if code contains "def " and code contains ":" %}
    {% assign detected_language = "python" %}
  {% elsif code contains "function" or code contains "const " %}
    {% assign detected_language = "javascript" %}
  {% elsif code contains "fn " and code contains "-&gt;" %}
    {% assign detected_language = "rust" %}
  {% endif %}
{% else %}
  {% assign detected_language = language %}
{% endif %}

## Language: {{detected_language | capitalize}}

{% comment %} Safe parsing with fallbacks {% endcomment %}
{% assign parse_success = false %}
{% capture parsed_structure %}
  {% if detected_language == "python" %}
    {% comment %} Python-specific parsing {% endcomment %}
    {% assign functions = code | split: "def " | size | minus: 1 %}
    {% assign classes = code | split: "class " | size | minus: 1 %}
    Functions: {{functions}}, Classes: {{classes}}
    {% assign parse_success = true %}
  {% elsif detected_language == "javascript" %}
    {% comment %} JavaScript-specific parsing {% endcomment %}
    {% assign functions = code | split: "function" | size | minus: 1 %}
    {% assign arrows = code | split: "=&gt;" | size | minus: 1 %}
    Functions: {{functions | plus: arrows}}
    {% assign parse_success = true %}
  {% endif %}
{% endcapture %}

{% if parse_success %}
## Structure Analysis
{{parsed_structure}}
{% else %}
## Basic Analysis
Unable to parse structure for {{detected_language}}.
Falling back to general analysis:
- Lines: {{code | split: "\n" | size}}
- Characters: {{code | size}}
{% endif %}

## Code Review
Analyze the following {{detected_language}} code:

```{{detected_language}}
{{code}}
</code></pre>
<pre><code>
### Input Validation

Validate and sanitize inputs:

```markdown
---
name: secure-processor
title: Secure Input Processor
description: Processes inputs with validation
arguments:
  - name: user_input
    description: User-provided input
    required: true
  - name: input_type
    description: Expected input type
    required: true
  - name: max_length
    description: Maximum allowed length
    default: "1000"
---

{% comment %} Input validation {% endcomment %}
{% assign is_valid = true %}
{% assign validation_errors = "" %}

{% comment %} Length check {% endcomment %}
{% assign input_length = user_input | size %}
{% if input_length &gt; max_length %}
  {% assign is_valid = false %}
  {% capture validation_errors %}{{validation_errors}}
  - Input exceeds maximum length ({{input_length}} &gt; {{max_length}}){% endcapture %}
{% endif %}

{% comment %} Type validation {% endcomment %}
{% case input_type %}
{% when "email" %}
  {% unless user_input contains "@" and user_input contains "." %}
    {% assign is_valid = false %}
    {% capture validation_errors %}{{validation_errors}}
    - Invalid email format{% endcapture %}
  {% endunless %}
{% when "number" %}
  {% assign test_number = user_input | plus: 0 %}
  {% if test_number == 0 and user_input != "0" %}
    {% assign is_valid = false %}
    {% capture validation_errors %}{{validation_errors}}
    - Input is not a valid number{% endcapture %}
  {% endif %}
{% when "json" %}
  {% capture json_test %}{{user_input | parse_json}}{% endcapture %}
  {% unless json_test %}
    {% assign is_valid = false %}
    {% capture validation_errors %}{{validation_errors}}
    - Invalid JSON format{% endcapture %}
  {% endunless %}
{% endcase %}

# Input Processing Result

## Validation: {% if is_valid %}✅ Passed{% else %}❌ Failed{% endif %}

{% unless is_valid %}
## Validation Errors:
{{validation_errors}}
{% endunless %}

{% if is_valid %}
## Processing Input

Type: {{input_type}}
Length: {{input_length}} characters

### Sanitized Input:
</code></pre>
<p>{{user_input | strip | escape}}</p>
<pre><code>
### Next Steps:
Process the validated {{input_type}} input according to business logic.
{% else %}
## Cannot Process Invalid Input

Please fix the validation errors and try again.
{% endif %}
</code></pre>
<h2 id="integration-patterns"><a class="header" href="#integration-patterns">Integration Patterns</a></h2>
<h3 id="external-tool-integration"><a class="header" href="#external-tool-integration">External Tool Integration</a></h3>
<p>Integrate with external tools and services:</p>
<pre><code class="language-markdown">---
name: ci-cd-analyzer
title: CI/CD Pipeline Analyzer
description: Analyzes CI/CD configurations
arguments:
  - name: pipeline_config
    description: CI/CD configuration file
    required: true
  - name: platform
    description: CI/CD platform (github, gitlab, jenkins)
    required: true
  - name: recommendations
    description: Include recommendations
    default: "true"
---

# CI/CD Pipeline Analysis

Platform: {{platform | capitalize}}

{% assign config = pipeline_config %}

## Pipeline Structure

{% case platform %}
{% when "github" %}
  {% if config contains "on:" %}
    ### Triggers
    - Configured triggers found
    {% if config contains "push:" %}✓ Push events{% endif %}
    {% if config contains "pull_request:" %}✓ Pull request events{% endif %}
    {% if config contains "schedule:" %}✓ Scheduled runs{% endif %}
  {% endif %}
  
  {% if config contains "jobs:" %}
    ### Jobs
    {% assign job_count = config | split: "jobs:" | last | split: ":" | size %}
    - Number of jobs: ~{{job_count}}
  {% endif %}

{% when "gitlab" %}
  {% if config contains "stages:" %}
    ### Stages
    - Pipeline stages defined
  {% endif %}
  
  {% if config contains "before_script:" %}
    ### Global Configuration
    - Global before_script found
  {% endif %}

{% when "jenkins" %}
  {% if config contains "pipeline {" %}
    ### Pipeline Type
    - Declarative pipeline
  {% elsif config contains "node {" %}
    - Scripted pipeline
  {% endif %}
{% endcase %}

## Security Analysis

{% capture security_issues %}
{% if config contains "secrets." or config contains "${{" %}
  - ✓ Uses secure secret management
{% endif %}
{% if config contains "password" or config contains "api_key" %}
  - ⚠️ Possible hardcoded credentials
{% endif %}
{% if platform == "github" and config contains "actions/checkout" %}
  {% unless config contains "actions/checkout@v" %}
    - ⚠️ Using unpinned actions
  {% endunless %}
{% endif %}
{% endcapture %}

{{security_issues | default: "No security issues found"}}

{% if recommendations == "true" %}
## Recommendations

{% case platform %}
{% when "github" %}
1. Use specific action versions (e.g., `actions/checkout@v3`)
2. Implement job dependencies for efficiency
3. Use matrix builds for multiple versions
4. Cache dependencies for faster builds

{% when "gitlab" %}
1. Use DAG for job dependencies
2. Implement proper stage dependencies
3. Use artifacts for job communication
4. Enable pipeline caching

{% when "jenkins" %}
1. Use declarative pipeline syntax
2. Implement proper error handling
3. Use Jenkins shared libraries
4. Enable pipeline visualization
{% endcase %}

### General Best Practices
- Implement proper testing stages
- Add security scanning steps
- Use parallel execution where possible
- Monitor pipeline metrics
{% endif %}

## Raw Configuration

```yaml
{{pipeline_config}}
</code></pre>
<pre><code>
## Advanced Examples

### Multi-Stage Document Generator

```markdown
---
name: tech-doc-generator
title: Technical Documentation Generator
description: Generates comprehensive technical documentation
arguments:
  - name: project_info
    description: Project information (JSON)
    required: true
  - name: doc_sections
    description: Sections to include (comma-separated)
    default: "overview,architecture,api,deployment"
  - name: audience
    description: Target audience
    default: "developers"
---

{% assign project = project_info | parse_json %}
{% assign sections = doc_sections | split: "," %}

# {{project.name}} Technical Documentation

Version: {{project.version}}
Last Updated: {% assign date = 'now' | date: "%B %d, %Y" %}{{date}}

{% for section in sections %}
{% case section | strip %}
{% when "overview" %}
## Overview

{{project.description}}

### Key Features
{% for feature in project.features %}
- **{{feature.name}}**: {{feature.description}}
{% endfor %}

### Technology Stack
{% for tech in project.stack %}
- {{tech.name}} ({{tech.version}}) - {{tech.purpose}}
{% endfor %}

{% when "architecture" %}
## Architecture

### System Components
{% for component in project.components %}
#### {{component.name}}
- **Type**: {{component.type}}
- **Responsibility**: {{component.responsibility}}
- **Dependencies**: {% for dep in component.dependencies %}{{dep}}{% unless forloop.last %}, {% endunless %}{% endfor %}
{% endfor %}

### Data Flow
</code></pre>
<p>{% for flow in project.dataflows %}
{{flow.source}} –&gt; {{flow.destination}}: {{flow.description}}
{% endfor %}</p>
<pre><code>
{% when "api" %}
## API Reference

Base URL: `{{project.api.base_url}}`

### Authentication
{{project.api.auth.description}}

### Endpoints
{% for endpoint in project.api.endpoints %}
#### {{endpoint.method}} {{endpoint.path}}
{{endpoint.description}}

**Parameters:**
{% for param in endpoint.parameters %}
- `{{param.name}}` ({{param.type}}{% if param.required %}, required{% endif %}) - {{param.description}}
{% endfor %}

**Response:** {{endpoint.response.description}}
{% endfor %}

{% when "deployment" %}
## Deployment Guide

### Prerequisites
{% for prereq in project.deployment.prerequisites %}
- {{prereq}}
{% endfor %}

### Environment Variables
| Variable | Description | Required | Default |
|----------|-------------|----------|---------|
{% for env in project.deployment.env_vars %}
| {{env.name}} | {{env.description}} | {{env.required}} | {{env.default | default: "none"}} |
{% endfor %}

### Deployment Steps
{% for step in project.deployment.steps %}
{{forloop.index}}. {{step.description}}
   ```bash
   {{step.command}}
</code></pre>
<p>{% endfor %}
{% endcase %}
{% endfor %}</p>
<hr />
<p>Generated for {{audience}} by SwissArmyHammer</p>
<pre><code>
### Intelligent Code Refactoring Assistant

```markdown
---
name: refactoring-assistant
title: Intelligent Refactoring Assistant
description: Provides context-aware refactoring suggestions
arguments:
  - name: code
    description: Code to refactor
    required: true
  - name: code_metrics
    description: Code metrics (JSON)
    required: false
  - name: refactor_goals
    description: Refactoring goals (comma-separated)
    default: "readability,maintainability,performance"
  - name: preserve_behavior
    description: Ensure behavior preservation
    default: "true"
---

{% if code_metrics %}
  {% assign metrics = code_metrics | parse_json %}
{% endif %}

# Refactoring Analysis

## Current Code Metrics
{% if metrics %}
- Complexity: {{metrics.complexity}}
- Lines: {{metrics.lines}}
- Duplication: {{metrics.duplication}}%
- Test Coverage: {{metrics.coverage}}%
{% else %}
- Lines: {{code | split: "\n" | size}}
{% endif %}

## Refactoring Goals
{% assign goals = refactor_goals | split: "," %}
{% for goal in goals %}
- {{goal | strip | capitalize}}
{% endfor %}

## Analysis

</code></pre>
<p>{{code}}</p>
<pre><code>
{% capture refactoring_plan %}
{% for goal in goals %}
{% case goal | strip %}
{% when "readability" %}
### Readability Improvements
1. Extract complex conditionals into well-named functions
2. Replace magic numbers with named constants
3. Improve variable and function names
4. Add clarifying comments for complex logic

{% when "maintainability" %}
### Maintainability Enhancements
1. Apply SOLID principles
2. Reduce coupling between components
3. Extract reusable components
4. Improve error handling

{% when "performance" %}
### Performance Optimizations
1. Identify and optimize bottlenecks
2. Reduce unnecessary iterations
3. Implement caching where appropriate
4. Optimize data structures

{% when "testability" %}
### Testability Improvements
1. Extract pure functions
2. Reduce dependencies
3. Implement dependency injection
4. Separate business logic from I/O
{% endcase %}
{% endfor %}
{% endcapture %}

{{refactoring_plan}}

{% if preserve_behavior == "true" %}
## Behavior Preservation Strategy

To ensure the refactoring preserves behavior:

1. **Write characterization tests** before refactoring
2. **Refactor in small steps** with tests passing
3. **Use automated refactoring tools** where possible
4. **Compare outputs** before and after changes

### Suggested Test Cases
Based on the code analysis, ensure tests cover:
- Edge cases and boundary conditions
- Error handling paths
- Main business logic flows
- Integration points
{% endif %}

## Refactoring Priority

{% if metrics %}
{% if metrics.complexity &gt; 10 %}
**High Priority**: Reduce complexity first - current complexity of {{metrics.complexity}} is too high
{% elsif metrics.duplication &gt; 20 %}
**High Priority**: Address code duplication - {{metrics.duplication}}% duplication detected
{% elsif metrics.coverage &lt; 60 %}
**High Priority**: Improve test coverage before refactoring - only {{metrics.coverage}}% covered
{% else %}
**Normal Priority**: Code is in reasonable shape for refactoring
{% endif %}
{% else %}
Based on initial analysis, focus on readability and structure improvements.
{% endif %}

## Next Steps

1. Review the refactoring plan
2. Set up safety nets (tests, version control)
3. Apply refactorings incrementally
4. Validate behavior preservation
5. Update documentation
</code></pre>
<h2 id="best-practices-9"><a class="header" href="#best-practices-9">Best Practices</a></h2>
<h3 id="1-use-meaningful-variable-names"><a class="header" href="#1-use-meaningful-variable-names">1. Use Meaningful Variable Names</a></h3>
<pre><code class="language-liquid">{% comment %} Bad {% endcomment %}
{% assign x = data | split: "," %}

{% comment %} Good {% endcomment %}
{% assign csv_rows = data | split: "," %}
</code></pre>
<h3 id="2-cache-expensive-operations"><a class="header" href="#2-cache-expensive-operations">2. Cache Expensive Operations</a></h3>
<pre><code class="language-liquid">{% comment %} Cache parsed data {% endcomment %}
{% assign parsed_json = data | parse_json %}
{% comment %} Reuse parsed_json multiple times {% endcomment %}
</code></pre>
<h3 id="3-provide-fallbacks"><a class="header" href="#3-provide-fallbacks">3. Provide Fallbacks</a></h3>
<pre><code class="language-liquid">{{variable | default: "No value provided"}}
</code></pre>
<h3 id="4-use-comments-for-complex-logic"><a class="header" href="#4-use-comments-for-complex-logic">4. Use Comments for Complex Logic</a></h3>
<pre><code class="language-liquid">{% comment %} 
  Check if the code is Python by looking for specific syntax
  This is more reliable than file extension alone
{% endcomment %}
{% if code contains "def " and code contains ":" %}
  {% assign language = "python" %}
{% endif %}
</code></pre>
<h3 id="5-modularize-with-captures"><a class="header" href="#5-modularize-with-captures">5. Modularize with Captures</a></h3>
<pre><code class="language-liquid">{% capture header %}
  # {{title}}
  Generated on: {{date}}
{% endcapture %}

{% comment %} Reuse header in multiple places {% endcomment %}
{{header}}
</code></pre>
<h2 id="next-steps-9"><a class="header" href="#next-steps-9">Next Steps</a></h2>
<ul>
<li>Explore <a href="./custom-filters.html">Custom Filters</a> for extending functionality</li>
<li>Learn about <a href="./prompt-organization.html">Prompt Organization</a> for managing complex prompts</li>
<li>See <a href="./examples.html">Examples</a> for more real-world scenarios</li>
<li>Read <a href="./template-variables.html">Template Variables</a> for Liquid syntax reference</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="issue-management-user-guide"><a class="header" href="#issue-management-user-guide">Issue Management User Guide</a></h1>
<p>This guide covers the complete workflow for managing issues in SwissArmyHammer.</p>
<h2 id="overview-3"><a class="header" href="#overview-3">Overview</a></h2>
<p>SwissArmyHammer’s issue management system provides a lightweight, git-friendly way to track work items directly in your repository. Issues are stored as markdown files with sequential numbering and can be managed through both MCP tools and CLI commands.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="issue-management.html#overview">Overview</a></li>
<li><a href="issue-management.html#directory-structure">Directory Structure</a></li>
<li><a href="issue-management.html#workflow-patterns">Workflow Patterns</a>
<ul>
<li><a href="issue-management.html#basic-workflow">Basic Workflow</a></li>
<li><a href="issue-management.html#advanced-workflow">Advanced Workflow</a></li>
</ul>
</li>
<li><a href="issue-management.html#mcp-tools-reference">MCP Tools Reference</a>
<ul>
<li><a href="issue-management.html#issue_create">issue_create</a></li>
<li><a href="issue-management.html#issue_work">issue_work</a></li>
<li><a href="issue-management.html#issue_update">issue_update</a></li>
<li><a href="issue-management.html#issue_mark_complete">issue_mark_complete</a></li>
<li><a href="issue-management.html#issue_current">issue_current</a></li>
<li><a href="issue-management.html#issue_all_complete">issue_all_complete</a></li>
<li><a href="issue-management.html#issue_merge">issue_merge</a></li>
</ul>
</li>
<li><a href="issue-management.html#cli-commands-reference">CLI Commands Reference</a>
<ul>
<li><a href="issue-management.html#create-issues">Create Issues</a></li>
<li><a href="issue-management.html#list-issues">List Issues</a></li>
<li><a href="issue-management.html#show-issue-details">Show Issue Details</a></li>
<li><a href="issue-management.html#update-issues">Update Issues</a></li>
<li><a href="issue-management.html#work-on-issues">Work on Issues</a></li>
<li><a href="issue-management.html#complete-and-merge">Complete and Merge</a></li>
</ul>
</li>
<li><a href="issue-management.html#best-practices">Best Practices</a>
<ul>
<li><a href="issue-management.html#issue-naming">Issue Naming</a></li>
<li><a href="issue-management.html#issue-content">Issue Content</a></li>
<li><a href="issue-management.html#git-workflow">Git Workflow</a></li>
<li><a href="issue-management.html#team-coordination">Team Coordination</a></li>
</ul>
</li>
<li><a href="issue-management.html#troubleshooting">Troubleshooting</a>
<ul>
<li><a href="issue-management.html#git-repository-issues">Git Repository Issues</a></li>
<li><a href="issue-management.html#issue-management-issues">Issue Management Issues</a></li>
<li><a href="issue-management.html#performance-issues">Performance Issues</a></li>
</ul>
</li>
<li><a href="issue-management.html#integration-examples">Integration Examples</a>
<ul>
<li><a href="issue-management.html#with-claude-code">With Claude Code</a></li>
<li><a href="issue-management.html#with-github-actions">With GitHub Actions</a></li>
<li><a href="issue-management.html#with-vs-code">With VS Code</a></li>
</ul>
</li>
<li><a href="issue-management.html#advanced-usage">Advanced Usage</a>
<ul>
<li><a href="issue-management.html#batch-operations">Batch Operations</a></li>
<li><a href="issue-management.html#custom-workflows">Custom Workflows</a></li>
<li><a href="issue-management.html#issue-analytics">Issue Analytics</a></li>
</ul>
</li>
<li><a href="issue-management.html#configuration">Configuration</a>
<ul>
<li><a href="issue-management.html#global-configuration">Global Configuration</a></li>
<li><a href="issue-management.html#project-configuration">Project Configuration</a></li>
</ul>
</li>
<li><a href="issue-management.html#api-reference">API Reference</a>
<ul>
<li><a href="issue-management.html#issue-file-format">Issue File Format</a></li>
<li><a href="issue-management.html#exit-codes">Exit Codes</a></li>
<li><a href="issue-management.html#environment-variables">Environment Variables</a></li>
</ul>
</li>
<li><a href="issue-management.html#performance-optimization">Performance Optimization</a>
<ul>
<li><a href="issue-management.html#large-projects">Large Projects</a></li>
<li><a href="issue-management.html#memory-usage">Memory Usage</a></li>
</ul>
</li>
<li><a href="issue-management.html#migration-guide">Migration Guide</a>
<ul>
<li><a href="issue-management.html#from-github-issues">From GitHub Issues</a></li>
<li><a href="issue-management.html#from-jira">From Jira</a></li>
</ul>
</li>
<li><a href="issue-management.html#contributing">Contributing</a></li>
<li><a href="issue-management.html#license">License</a></li>
</ul>
<h2 id="directory-structure-4"><a class="header" href="#directory-structure-4">Directory Structure</a></h2>
<pre><code>your-project/
├── issues/
│   ├── 000001_implement_auth.md      # Active issue
│   ├── 000002_fix_bug.md            # Active issue
│   └── complete/
│       └── 000003_add_tests.md      # Completed issue
├── .git/
└── your-code/
</code></pre>
<h2 id="workflow-patterns"><a class="header" href="#workflow-patterns">Workflow Patterns</a></h2>
<h3 id="basic-workflow"><a class="header" href="#basic-workflow">Basic Workflow</a></h3>
<ol>
<li><strong>Create Issue</strong>: Define what needs to be done</li>
<li><strong>Work on Issue</strong>: Switch to dedicated branch</li>
<li><strong>Update Progress</strong>: Document work as you go</li>
<li><strong>Mark Complete</strong>: Signal work is finished</li>
<li><strong>Merge</strong>: Integrate work into main branch</li>
</ol>
<h3 id="advanced-workflow"><a class="header" href="#advanced-workflow">Advanced Workflow</a></h3>
<ol>
<li><strong>Project Planning</strong>: Create multiple issues for features</li>
<li><strong>Priority Management</strong>: Work on issues in order</li>
<li><strong>Progress Tracking</strong>: Regular updates and status checks</li>
<li><strong>Team Coordination</strong>: Use issue status for team awareness</li>
<li><strong>Historical Record</strong>: Completed issues provide project history</li>
</ol>
<h2 id="mcp-tools-reference"><a class="header" href="#mcp-tools-reference">MCP Tools Reference</a></h2>
<h3 id="issue_create"><a class="header" href="#issue_create">issue_create</a></h3>
<p>Create a new issue with automatic numbering.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>name</code> (required): Issue name for filename</li>
<li><code>content</code> (required): Markdown content</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_create",
  "arguments": {
    "name": "implement_dashboard",
    "content": "# Dashboard Implementation\n\nCreate a user dashboard with the following features:\n- User profile display\n- Activity feed\n- Quick actions"
  }
}
</code></pre>
<h3 id="issue_work"><a class="header" href="#issue_work">issue_work</a></h3>
<p>Start working on an issue by creating and switching to a work branch.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>number</code> (required): Issue number to work on</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_work",
  "arguments": {
    "number": 1
  }
}
</code></pre>
<h3 id="issue_update"><a class="header" href="#issue_update">issue_update</a></h3>
<p>Update an existing issue’s content.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>number</code> (required): Issue number to update</li>
<li><code>content</code> (required): New or additional content</li>
<li><code>append</code> (optional): If true, append to existing content</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_update",
  "arguments": {
    "number": 1,
    "content": "## Progress Update\n\nCompleted user profile display component.",
    "append": true
  }
}
</code></pre>
<h3 id="issue_mark_complete"><a class="header" href="#issue_mark_complete">issue_mark_complete</a></h3>
<p>Mark an issue as complete, moving it to the completed directory.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>number</code> (required): Issue number to complete</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_mark_complete",
  "arguments": {
    "number": 1
  }
}
</code></pre>
<h3 id="issue_current"><a class="header" href="#issue_current">issue_current</a></h3>
<p>Get the current issue based on the active git branch.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>branch</code> (optional): Specific branch to check</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_current",
  "arguments": {}
}
</code></pre>
<h3 id="issue_all_complete"><a class="header" href="#issue_all_complete">issue_all_complete</a></h3>
<p>Check if all issues in the project are completed.</p>
<p><strong>Parameters:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_all_complete",
  "arguments": {}
}
</code></pre>
<h3 id="issue_merge"><a class="header" href="#issue_merge">issue_merge</a></h3>
<p>Merge completed issue work back to the main branch.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>number</code> (required): Issue number to merge</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-json">{
  "tool": "issue_merge",
  "arguments": {
    "number": 1
  }
}
</code></pre>
<h2 id="cli-commands-reference"><a class="header" href="#cli-commands-reference">CLI Commands Reference</a></h2>
<h3 id="create-issues"><a class="header" href="#create-issues">Create Issues</a></h3>
<pre><code class="language-bash"># Create with inline content
swissarmyhammer issue create "fix_login_bug" --content "Fix the login validation issue"

# Create with content from file
swissarmyhammer issue create "add_feature" --file feature_spec.md

# Create with content from stdin
echo "Issue content" | swissarmyhammer issue create "my_issue" --content -
</code></pre>
<h3 id="list-issues"><a class="header" href="#list-issues">List Issues</a></h3>
<pre><code class="language-bash"># List all issues
swissarmyhammer issue list

# List only active issues
swissarmyhammer issue list --active

# List only completed issues
swissarmyhammer issue list --completed

# Output as JSON
swissarmyhammer issue list --format json

# Output as Markdown
swissarmyhammer issue list --format markdown
</code></pre>
<h3 id="show-issue-details"><a class="header" href="#show-issue-details">Show Issue Details</a></h3>
<pre><code class="language-bash"># Show formatted issue details
swissarmyhammer issue show 1

# Show raw content only
swissarmyhammer issue show 1 --raw
</code></pre>
<h3 id="update-issues"><a class="header" href="#update-issues">Update Issues</a></h3>
<pre><code class="language-bash"># Replace content
swissarmyhammer issue update 1 --content "New content"

# Append to existing content
swissarmyhammer issue update 1 --content "Additional notes" --append

# Update from file
swissarmyhammer issue update 1 --file update.md --append
</code></pre>
<h3 id="work-on-issues"><a class="header" href="#work-on-issues">Work on Issues</a></h3>
<pre><code class="language-bash"># Start working on an issue
swissarmyhammer issue work 1

# Check current issue
swissarmyhammer issue current

# Show project status
swissarmyhammer issue status
</code></pre>
<h3 id="complete-and-merge"><a class="header" href="#complete-and-merge">Complete and Merge</a></h3>
<pre><code class="language-bash"># Mark issue complete
swissarmyhammer issue complete 1

# Merge to main branch
swissarmyhammer issue merge 1

# Merge and keep branch
swissarmyhammer issue merge 1 --keep-branch
</code></pre>
<h2 id="best-practices-10"><a class="header" href="#best-practices-10">Best Practices</a></h2>
<h3 id="issue-naming"><a class="header" href="#issue-naming">Issue Naming</a></h3>
<ul>
<li>Use descriptive, action-oriented names</li>
<li>Use underscores instead of spaces</li>
<li>Keep names under 50 characters</li>
<li>Examples: <code>implement_auth</code>, <code>fix_login_bug</code>, <code>add_user_dashboard</code></li>
</ul>
<h3 id="issue-content"><a class="header" href="#issue-content">Issue Content</a></h3>
<ul>
<li>Use markdown for formatting</li>
<li>Include acceptance criteria</li>
<li>Add relevant links and references</li>
<li>Update with progress notes</li>
<li>Keep content focused and organized</li>
</ul>
<h3 id="git-workflow"><a class="header" href="#git-workflow">Git Workflow</a></h3>
<ul>
<li>Always work on issue branches</li>
<li>Make atomic commits with clear messages</li>
<li>Keep branches up to date with main</li>
<li>Complete issues before merging</li>
<li>Use descriptive commit messages</li>
</ul>
<h3 id="team-coordination"><a class="header" href="#team-coordination">Team Coordination</a></h3>
<ul>
<li>Check issue status before starting work</li>
<li>Update issues with progress regularly</li>
<li>Use issue comments for team communication</li>
<li>Mark issues complete when work is done</li>
<li>Review completed issues in team meetings</li>
</ul>
<h2 id="troubleshooting-9"><a class="header" href="#troubleshooting-9">Troubleshooting</a></h2>
<h3 id="git-repository-issues"><a class="header" href="#git-repository-issues">Git Repository Issues</a></h3>
<p><strong>Problem</strong>: “Not in a git repository”
<strong>Solution</strong>: Initialize git repository in your project directory:</p>
<pre><code class="language-bash">git init
git add .
git commit -m "Initial commit"
</code></pre>
<p><strong>Problem</strong>: “Uncommitted changes prevent operation”
<strong>Solution</strong>: Commit or stash your changes:</p>
<pre><code class="language-bash">git add .
git commit -m "Work in progress"
# or
git stash
</code></pre>
<h3 id="issue-management-issues"><a class="header" href="#issue-management-issues">Issue Management Issues</a></h3>
<p><strong>Problem</strong>: “Issue not found”
<strong>Solution</strong>: Check available issues:</p>
<pre><code class="language-bash">swissarmyhammer issue list
</code></pre>
<p><strong>Problem</strong>: “Branch already exists”
<strong>Solution</strong>: Switch to existing branch or delete it:</p>
<pre><code class="language-bash">git checkout issue/000001_issue_name
# or
git branch -D issue/000001_issue_name
</code></pre>
<h3 id="performance-issues-3"><a class="header" href="#performance-issues-3">Performance Issues</a></h3>
<p><strong>Problem</strong>: Slow issue operations with many issues
<strong>Solution</strong>: Use filtering and pagination:</p>
<pre><code class="language-bash">swissarmyhammer issue list --active
swissarmyhammer issue list --format json | jq '.[] | select(.completed == false)'
</code></pre>
<h2 id="integration-examples"><a class="header" href="#integration-examples">Integration Examples</a></h2>
<h3 id="with-claude-code"><a class="header" href="#with-claude-code">With Claude Code</a></h3>
<pre><code>Human: Create an issue to implement user authentication
Assistant: I'll create an issue to track implementing user authentication.

issue_create name="implement_auth" content="# User Authentication Implementation

## Requirements
- JWT-based authentication
- Login/logout endpoints
- Password hashing with bcrypt
- Session management
- Role-based access control

## Acceptance Criteria
- [ ] User registration endpoint
- [ ] Login endpoint with JWT token generation
- [ ] Password validation and hashing
- [ ] Protected routes middleware
- [ ] Role-based permissions
- [ ] Session expiration handling
- [ ] Unit tests for all auth components
"
</code></pre>
<h3 id="with-github-actions"><a class="header" href="#with-github-actions">With GitHub Actions</a></h3>
<pre><code class="language-yaml">name: Issue Management Workflow

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  check-issues:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup SwissArmyHammer
      run: |
        # Install SwissArmyHammer
        curl -sSL https://install.swissarmyhammer.dev | bash
        
    - name: Check issue status
      run: |
        swissarmyhammer issue status
        
    - name: Validate issue files
      run: |
        swissarmyhammer validate --path issues/
</code></pre>
<h3 id="with-vs-code"><a class="header" href="#with-vs-code">With VS Code</a></h3>
<p>Create a <code>.vscode/tasks.json</code> file:</p>
<pre><code class="language-json">{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Create Issue",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": ["issue", "create", "${input:issueName}", "--content", "${input:issueContent}"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "List Issues",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": ["issue", "list"],
      "group": "build"
    },
    {
      "label": "Current Issue",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": ["issue", "current"],
      "group": "build"
    }
  ],
  "inputs": [
    {
      "id": "issueName",
      "description": "Issue name",
      "default": "new_issue",
      "type": "promptString"
    },
    {
      "id": "issueContent",
      "description": "Issue content",
      "default": "# New Issue\n\nDescribe the issue here.",
      "type": "promptString"
    }
  ]
}
</code></pre>
<h2 id="advanced-usage-1"><a class="header" href="#advanced-usage-1">Advanced Usage</a></h2>
<h3 id="batch-operations"><a class="header" href="#batch-operations">Batch Operations</a></h3>
<pre><code class="language-bash"># Create multiple issues from a CSV file
cat issues.csv | while IFS=',' read -r name content; do
  swissarmyhammer issue create "$name" --content "$content"
done

# Update all active issues with a common note
swissarmyhammer issue list --active --format json | \
  jq -r '.[] | .number' | \
  while read -r number; do
    swissarmyhammer issue update "$number" --content "\n\n**Updated:** $(date)" --append
  done
</code></pre>
<h3 id="custom-workflows-1"><a class="header" href="#custom-workflows-1">Custom Workflows</a></h3>
<pre><code class="language-bash">#!/bin/bash
# smart-issue-create.sh - Smart issue creation with templates

ISSUE_NAME="$1"
ISSUE_TYPE="$2"

case "$ISSUE_TYPE" in
  "feature")
    TEMPLATE="# Feature: $ISSUE_NAME

## Overview
[Brief description of the feature]

## Requirements
- [ ] Requirement 1
- [ ] Requirement 2

## Acceptance Criteria
- [ ] Criteria 1
- [ ] Criteria 2

## Implementation Notes
[Technical notes and considerations]
"
    ;;
  "bug")
    TEMPLATE="# Bug Fix: $ISSUE_NAME

## Problem
[Describe the bug]

## Steps to Reproduce
1. Step 1
2. Step 2
3. Step 3

## Expected Behavior
[What should happen]

## Actual Behavior
[What actually happens]

## Fix Strategy
[How to fix it]
"
    ;;
  *)
    TEMPLATE="# $ISSUE_NAME

[Issue description]
"
    ;;
esac

swissarmyhammer issue create "$ISSUE_NAME" --content "$TEMPLATE"
</code></pre>
<h3 id="issue-analytics"><a class="header" href="#issue-analytics">Issue Analytics</a></h3>
<pre><code class="language-bash">#!/bin/bash
# issue-analytics.sh - Generate issue statistics

echo "=== Issue Analytics ==="
echo ""

# Count active issues
ACTIVE_COUNT=$(swissarmyhammer issue list --active --format json | jq length)
echo "Active Issues: $ACTIVE_COUNT"

# Count completed issues
COMPLETED_COUNT=$(swissarmyhammer issue list --completed --format json | jq length)
echo "Completed Issues: $COMPLETED_COUNT"

# Calculate completion rate
TOTAL_COUNT=$((ACTIVE_COUNT + COMPLETED_COUNT))
if [ $TOTAL_COUNT -gt 0 ]; then
  COMPLETION_RATE=$((COMPLETED_COUNT * 100 / TOTAL_COUNT))
  echo "Completion Rate: $COMPLETION_RATE%"
fi

# Show recent activity
echo ""
echo "=== Recent Activity ==="
swissarmyhammer issue list --completed --format json | \
  jq -r '.[] | select(.completed_at != null) | "\(.number): \(.name) (completed: \(.completed_at))"' | \
  sort -k3 -r | head -5
</code></pre>
<h2 id="configuration-3"><a class="header" href="#configuration-3">Configuration</a></h2>
<h3 id="global-configuration"><a class="header" href="#global-configuration">Global Configuration</a></h3>
<p>Create <code>~/.swissarmyhammer/config.toml</code>:</p>
<pre><code class="language-toml">[issues]
# Default issue directory
directory = "./issues"

# Default branch prefix for issue work
branch_prefix = "issue"

# Auto-delete branches after merge
auto_delete_branches = true

# Default issue template
template = """
# {name}

## Overview
[Brief description]

## Tasks
- [ ] Task 1
- [ ] Task 2

## Notes
[Additional notes]
"""

[git]
# Default commit message template
commit_template = "{action}: {issue_name} - {description}"

# Auto-commit issue updates
auto_commit = false
</code></pre>
<h3 id="project-configuration"><a class="header" href="#project-configuration">Project Configuration</a></h3>
<p>Create <code>.swissarmyhammer/config.toml</code> in your project:</p>
<pre><code class="language-toml">[issues]
# Project-specific issue directory
directory = "./project-issues"

# Custom issue number format
number_format = "PRJ-{:06d}"

# Issue categories
categories = ["bug", "feature", "enhancement", "documentation"]

# Required fields
required_fields = ["assignee", "priority", "category"]

[workflow]
# Required before marking complete
completion_checklist = [
  "Code written and tested",
  "Documentation updated",
  "Tests passing",
  "Code reviewed"
]
</code></pre>
<h2 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h2>
<h3 id="issue-file-format"><a class="header" href="#issue-file-format">Issue File Format</a></h3>
<p>Issues are stored as markdown files with optional YAML frontmatter:</p>
<pre><code class="language-markdown">---
title: "Fix login bug"
assignee: "john@example.com"
priority: "high"
category: "bug"
created_at: "2024-01-15T10:30:00Z"
updated_at: "2024-01-15T14:45:00Z"
---

# Fix Login Bug

## Problem
Users cannot log in with special characters in their passwords.

## Root Cause
Password validation is too strict and rejects valid special characters.

## Solution
Update the password validation regex to allow all printable ASCII characters.

## Implementation
- [ ] Update validation regex in `auth.rs:45`
- [ ] Add unit tests for special character passwords
- [ ] Update documentation

## Testing
- [ ] Test with various special characters
- [ ] Test with existing passwords
- [ ] Test edge cases
</code></pre>
<h3 id="exit-codes-1"><a class="header" href="#exit-codes-1">Exit Codes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>Success</td></tr>
<tr><td>1</td><td>General error</td></tr>
<tr><td>2</td><td>Invalid arguments</td></tr>
<tr><td>3</td><td>File not found</td></tr>
<tr><td>4</td><td>Git error</td></tr>
<tr><td>5</td><td>Permission denied</td></tr>
<tr><td>10</td><td>Issue not found</td></tr>
<tr><td>11</td><td>Issue already exists</td></tr>
<tr><td>12</td><td>Invalid issue state</td></tr>
</tbody></table>
</div>
<h3 id="environment-variables-5"><a class="header" href="#environment-variables-5">Environment Variables</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody>
<tr><td><code>SWISSARMYHAMMER_ISSUES_DIR</code></td><td>Issue directory</td><td><code>./issues</code></td></tr>
<tr><td><code>SWISSARMYHAMMER_BRANCH_PREFIX</code></td><td>Branch prefix</td><td><code>issue</code></td></tr>
<tr><td><code>SWISSARMYHAMMER_AUTO_DELETE_BRANCHES</code></td><td>Auto-delete branches</td><td><code>true</code></td></tr>
<tr><td><code>SWISSARMYHAMMER_EDITOR</code></td><td>Default editor</td><td><code>$EDITOR</code></td></tr>
</tbody></table>
</div>
<h3 id="rust-api-types"><a class="header" href="#rust-api-types">Rust API Types</a></h3>
<p>For programmatic access to issue management functionality, the following types are available:</p>
<h4 id="core-types"><a class="header" href="#core-types">Core Types</a></h4>
<ul>
<li><a href="./api/swissarmyhammer/issues/struct.Issue.html"><code>Issue</code></a> - Represents a single issue with metadata</li>
<li><a href="./api/swissarmyhammer/issues/enum.IssueState.html"><code>IssueState</code></a> - Issue lifecycle state (Active, Complete, etc.)</li>
<li><a href="./api/swissarmyhammer/issues/trait.IssueStorage.html"><code>IssueStorage</code></a> - Storage abstraction for issues</li>
</ul>
<h4 id="storage-implementations"><a class="header" href="#storage-implementations">Storage Implementations</a></h4>
<ul>
<li><a href="./api/swissarmyhammer/issues/struct.FileSystemIssueStorage.html"><code>FileSystemIssueStorage</code></a> - File-based storage backend</li>
<li><a href="./api/swissarmyhammer/issues/struct.InstrumentedIssueStorage.html"><code>InstrumentedIssueStorage</code></a> - Instrumented wrapper with metrics</li>
</ul>
<h4 id="utility-types"><a class="header" href="#utility-types">Utility Types</a></h4>
<ul>
<li><a href="./api/swissarmyhammer/issues/struct.ProjectStatus.html"><code>ProjectStatus</code></a> - Project-wide issue status information</li>
<li><a href="./api/swissarmyhammer/issues/struct.IssueBranchResult.html"><code>IssueBranchResult</code></a> - Result of branch operations</li>
<li><a href="./api/swissarmyhammer/issues/struct.IssueMergeResult.html"><code>IssueMergeResult</code></a> - Result of merge operations</li>
<li><a href="./api/swissarmyhammer/issues/struct.PerformanceMetrics.html"><code>PerformanceMetrics</code></a> - Performance monitoring data</li>
</ul>
<h4 id="utility-functions"><a class="header" href="#utility-functions">Utility Functions</a></h4>
<ul>
<li><a href="./api/swissarmyhammer/issues/fn.get_current_issue_from_branch.html"><code>get_current_issue_from_branch</code></a> - Extract issue from branch name</li>
<li><a href="./api/swissarmyhammer/issues/fn.work_on_issue.html"><code>work_on_issue</code></a> - Switch to issue work branch</li>
<li><a href="./api/swissarmyhammer/issues/fn.merge_issue_branch.html"><code>merge_issue_branch</code></a> - Merge issue work back to main</li>
<li><a href="./api/swissarmyhammer/issues/fn.get_next_issue.html"><code>get_next_issue</code></a> - Find next issue to work on</li>
</ul>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="./api-guide.html">API Guide</a> - Comprehensive API usage guide</li>
<li><a href="./library-examples.html">Library Examples</a> - Practical code examples</li>
<li><a href="./api/swissarmyhammer/index.html">Rustdoc API Documentation</a> - Complete API reference</li>
</ul>
<h2 id="performance-optimization-1"><a class="header" href="#performance-optimization-1">Performance Optimization</a></h2>
<h3 id="large-projects"><a class="header" href="#large-projects">Large Projects</a></h3>
<p>For projects with many issues, consider:</p>
<ol>
<li><strong>Use filtering</strong>: Always use <code>--active</code> or <code>--completed</code> flags</li>
<li><strong>JSON output</strong>: Use <code>--format json</code> for programmatic access</li>
<li><strong>Batch operations</strong>: Group multiple operations together</li>
<li><strong>Index optimization</strong>: Keep issue files small and focused</li>
</ol>
<h3 id="memory-usage"><a class="header" href="#memory-usage">Memory Usage</a></h3>
<pre><code class="language-bash"># Monitor memory usage during large operations
time swissarmyhammer issue list --format json &gt; /dev/null

# Use streaming for large datasets
swissarmyhammer issue list --format json | jq -c '.[]' | while read -r issue; do
  # Process each issue individually
  echo "$issue" | jq -r '.name'
done
</code></pre>
<h2 id="migration-guide"><a class="header" href="#migration-guide">Migration Guide</a></h2>
<h3 id="from-github-issues"><a class="header" href="#from-github-issues">From GitHub Issues</a></h3>
<pre><code class="language-bash">#!/bin/bash
# migrate-from-github.sh - Migrate GitHub issues to SwissArmyHammer

REPO="owner/repo"
TOKEN="your-github-token"

# Export GitHub issues
gh issue list --repo "$REPO" --state all --json number,title,body,state | \
  jq -r '.[] | @base64' | \
  while read -r issue; do
    # Decode issue data
    ISSUE_DATA=$(echo "$issue" | base64 -d)
    NUMBER=$(echo "$ISSUE_DATA" | jq -r '.number')
    TITLE=$(echo "$ISSUE_DATA" | jq -r '.title')
    BODY=$(echo "$ISSUE_DATA" | jq -r '.body')
    STATE=$(echo "$ISSUE_DATA" | jq -r '.state')
    
    # Create SwissArmyHammer issue
    ISSUE_NAME=$(echo "$TITLE" | sed 's/[^a-zA-Z0-9]/_/g' | tr '[:upper:]' '[:lower:]')
    CONTENT="# $TITLE

$BODY

---
*Migrated from GitHub Issue #$NUMBER*
"
    
    swissarmyhammer issue create "$ISSUE_NAME" --content "$CONTENT"
    
    # Mark completed issues as complete
    if [ "$STATE" = "closed" ]; then
      ISSUE_NUM=$(swissarmyhammer issue list --format json | jq -r '.[] | select(.name == "'$ISSUE_NAME'") | .number')
      swissarmyhammer issue complete "$ISSUE_NUM"
    fi
  done
</code></pre>
<h3 id="from-jira"><a class="header" href="#from-jira">From Jira</a></h3>
<pre><code class="language-bash">#!/bin/bash
# migrate-from-jira.sh - Migrate Jira issues to SwissArmyHammer

JIRA_URL="https://your-domain.atlassian.net"
PROJECT="YOUR-PROJECT"
EMAIL="your-email@example.com"
TOKEN="your-jira-token"

# Export Jira issues
curl -u "$EMAIL:$TOKEN" \
  "$JIRA_URL/rest/api/2/search?jql=project=$PROJECT&amp;maxResults=1000" | \
  jq -r '.issues[] | @base64' | \
  while read -r issue; do
    # Decode and process issue data
    ISSUE_DATA=$(echo "$issue" | base64 -d)
    KEY=$(echo "$ISSUE_DATA" | jq -r '.key')
    SUMMARY=$(echo "$ISSUE_DATA" | jq -r '.fields.summary')
    DESCRIPTION=$(echo "$ISSUE_DATA" | jq -r '.fields.description // ""')
    STATUS=$(echo "$ISSUE_DATA" | jq -r '.fields.status.name')
    
    # Create SwissArmyHammer issue
    ISSUE_NAME=$(echo "$SUMMARY" | sed 's/[^a-zA-Z0-9]/_/g' | tr '[:upper:]' '[:lower:]')
    CONTENT="# $SUMMARY

$DESCRIPTION

---
*Migrated from Jira Issue $KEY*
"
    
    swissarmyhammer issue create "$ISSUE_NAME" --content "$CONTENT"
    
    # Mark completed issues as complete
    if [ "$STATUS" = "Done" ] || [ "$STATUS" = "Resolved" ]; then
      ISSUE_NUM=$(swissarmyhammer issue list --format json | jq -r '.[] | select(.name == "'$ISSUE_NAME'") | .number')
      swissarmyhammer issue complete "$ISSUE_NUM"
    fi
  done
</code></pre>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>To contribute to SwissArmyHammer’s issue management system:</p>
<ol>
<li><strong>Report Issues</strong>: Use SwissArmyHammer itself to track bugs and features</li>
<li><strong>Submit PRs</strong>: Follow the standard GitHub workflow</li>
<li><strong>Write Tests</strong>: Ensure all new features have comprehensive tests</li>
<li><strong>Update Documentation</strong>: Keep this guide up to date</li>
</ol>
<h3 id="development-setup"><a class="header" href="#development-setup">Development Setup</a></h3>
<pre><code class="language-bash"># Clone the repository
git clone https://github.com/swissarmyhammer/swissarmyhammer.git
cd swissarmyhammer

# Install dependencies
cargo build

# Run tests
cargo test

# Create a development issue
./target/debug/swissarmyhammer issue create "my_feature" --content "# My Feature

Description of what I want to implement.
"

# Start working on it
./target/debug/swissarmyhammer issue work 1
</code></pre>
<h2 id="license-2"><a class="header" href="#license-2">License</a></h2>
<p>This issue management system is part of SwissArmyHammer and is licensed under the MIT License. See <a href="LICENSE">LICENSE</a> for details.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflows"><a class="header" href="#workflows">Workflows</a></h1>
<p>SwissArmyHammer provides a powerful workflow system that allows you to define and execute complex multi-step processes using Mermaid state diagrams. This guide covers creating, running, and managing workflows.</p>
<h2 id="overview-4"><a class="header" href="#overview-4">Overview</a></h2>
<p>Workflows in SwissArmyHammer are defined using Mermaid state diagrams in markdown files. Each workflow consists of states (actions) and transitions that control the flow of execution. Workflows can:</p>
<ul>
<li>Execute prompts or other workflows</li>
<li>Make decisions based on outputs</li>
<li>Run actions in parallel</li>
<li>Handle errors gracefully</li>
<li>Resume from failures</li>
</ul>
<h2 id="creating-workflows"><a class="header" href="#creating-workflows">Creating Workflows</a></h2>
<p>Workflows are stored in <code>.swissarmyhammer/workflows/</code> directories and use the <code>.md</code> file extension. Each workflow file consists of:</p>
<ol>
<li><strong>YAML Front Matter</strong> - Metadata about the workflow</li>
<li><strong>Mermaid State Diagram</strong> - The workflow structure</li>
<li><strong>Actions Section</strong> - Mappings of states to their actions</li>
</ol>
<p>Here’s a basic workflow structure:</p>
<pre><code class="language-markdown">---
name: my-workflow
title: My Example Workflow
description: A workflow that demonstrates basic functionality
category: user
tags:
  - example
  - automation
---

# My Example Workflow

This workflow processes data through multiple stages.

For a complete example, see: [Simple Workflow](../examples/workflows/simple-workflow.md)

## Actions

- Start: Execute prompt "setup" with input="${data}"
- Process: Execute prompt "main-task"
- Success: Log "Task completed successfully"
- Failure: Log error "Task failed: ${error}"
</code></pre>
<h2 id="workflow-components"><a class="header" href="#workflow-components">Workflow Components</a></h2>
<h3 id="front-matter"><a class="header" href="#front-matter">Front Matter</a></h3>
<p>The YAML front matter contains workflow metadata:</p>
<pre><code class="language-yaml">---
name: workflow-id           # Unique identifier for the workflow
title: Workflow Title       # Human-readable title
description: Description    # What the workflow does
category: builtin          # Category (builtin, user, etc.)
tags:                      # Tags for organization
  - automation
  - data-processing
---
</code></pre>
<h3 id="states"><a class="header" href="#states">States</a></h3>
<p>States represent steps in your workflow. They are defined in the Mermaid diagram and their actions are specified in the Actions section:</p>
<ul>
<li><strong>Execute a prompt</strong>: <code>Execute prompt "prompt-name" with var="value"</code></li>
<li><strong>Run another workflow</strong>: <code>Run workflow "workflow-name" with data="${input}"</code></li>
<li><strong>Set variables</strong>: <code>Set result="${output}"</code></li>
<li><strong>Log messages</strong>: <code>Log "Processing complete"</code></li>
<li><strong>Wait</strong>: <code>Wait 5 seconds</code></li>
</ul>
<h3 id="actions-section"><a class="header" href="#actions-section">Actions Section</a></h3>
<p>The Actions section maps state names to their actions using the format:</p>
<pre><code class="language-markdown">## Actions

- StateName: Action description
- AnotherState: Execute prompt "example" with param="value"
</code></pre>
<h3 id="transitions"><a class="header" href="#transitions">Transitions</a></h3>
<p>Transitions control flow between states:</p>
<ul>
<li><strong>Always</strong>: Unconditional transition</li>
<li><strong>OnSuccess</strong>: Transition when action succeeds</li>
<li><strong>OnFailure</strong>: Transition when action fails</li>
<li><strong>Conditional</strong>: Based on regex matching or CEL expressions
<ul>
<li>Regex patterns: <code>"pattern"</code> or <code>/regex/</code></li>
<li>CEL expressions: Complex conditions like <code>var.startsWith('Hello')</code> or <code>is_error == true</code></li>
</ul>
</li>
</ul>
<h3 id="special-states"><a class="header" href="#special-states">Special States</a></h3>
<ul>
<li><code>[*]</code>: Start and end states</li>
<li>Fork (<code>&lt;&lt;fork&gt;&gt;</code>) and Join (<code>&lt;&lt;join&gt;&gt;</code>): For parallel execution</li>
</ul>
<h2 id="mermaid-syntax-guide"><a class="header" href="#mermaid-syntax-guide">Mermaid Syntax Guide</a></h2>
<p>SwissArmyHammer uses standard Mermaid state diagram syntax. The diagram defines the workflow structure, while actions are defined separately in the Actions section:</p>
<h3 id="basic-flow"><a class="header" href="#basic-flow">Basic Flow</a></h3>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; StateA
    StateA --&gt; StateB
    StateB --&gt; [*]
</code></pre>
<p>With corresponding actions:</p>
<pre><code class="language-markdown">## Actions

- StateA: Log "Starting process"
- StateB: Execute prompt "process-data"
</code></pre>
<h3 id="conditional-branching"><a class="header" href="#conditional-branching">Conditional Branching</a></h3>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; Check
    Check --&gt; OptionA: "pattern_a"
    Check --&gt; OptionB: "pattern_b"
    Check --&gt; Default: Always
</code></pre>
<h4 id="choice-state-detection"><a class="header" href="#choice-state-detection">Choice State Detection</a></h4>
<p>SwissArmyHammer automatically detects choice states based on their transition patterns. A state is identified as a choice state when it has:</p>
<ul>
<li>Multiple outgoing transitions</li>
<li>At least one transition with a condition (regex pattern or CEL expression)</li>
<li>Different transition types (e.g., conditional and “always” transitions)</li>
</ul>
<p>This automatic detection ensures that branching logic works correctly without requiring explicit choice state declarations in the Mermaid diagram.</p>
<h3 id="parallel-execution"><a class="header" href="#parallel-execution">Parallel Execution</a></h3>
<p>See: <a href="../examples/workflows/parallel-workflow.html">Parallel Workflow</a></p>
<h2 id="action-reference"><a class="header" href="#action-reference">Action Reference</a></h2>
<h3 id="execute-prompt"><a class="header" href="#execute-prompt">Execute Prompt</a></h3>
<p>Execute a SwissArmyHammer prompt:</p>
<pre><code>Execute prompt "prompt-name" with var1="value1" var2="${variable}"
</code></pre>
<h3 id="run-workflow"><a class="header" href="#run-workflow">Run Workflow</a></h3>
<p>Delegate to another workflow:</p>
<pre><code>Run workflow "workflow-name" with input="${data}"
</code></pre>
<h3 id="set-variable"><a class="header" href="#set-variable">Set Variable</a></h3>
<p>Store values for later use:</p>
<pre><code>Set variable_name="value"
Set result="${output}"
</code></pre>
<h3 id="log-messages"><a class="header" href="#log-messages">Log Messages</a></h3>
<p>Output information:</p>
<pre><code>Log "Information message"
Log error "Error message"
Log warning "Warning message"
</code></pre>
<h3 id="wait"><a class="header" href="#wait">Wait</a></h3>
<p>Pause execution:</p>
<pre><code>Wait 5 seconds
Wait 1 minute
</code></pre>
<h3 id="system-commands"><a class="header" href="#system-commands">System Commands</a></h3>
<p>Execute shell commands:</p>
<pre><code>Execute command "ls -la"
Execute command "npm test"
</code></pre>
<h2 id="variables-and-context"><a class="header" href="#variables-and-context">Variables and Context</a></h2>
<p>Workflows have access to:</p>
<ul>
<li>Input variables passed via <code>--var</code></li>
<li>Template variables passed via <code>--set</code> (for liquid template rendering)</li>
<li>Variables set in previous states</li>
<li>Output from executed prompts (<code>${output}</code>)</li>
<li>Error messages (<code>${error}</code>)</li>
<li>Workflow metadata (<code>${workflow_name}</code>, <code>${run_id}</code>)</li>
</ul>
<h3 id="variable-interpolation"><a class="header" href="#variable-interpolation">Variable Interpolation</a></h3>
<p>Use <code>${variable_name}</code> syntax to reference workflow variables:</p>
<pre><code>Execute prompt "analyze" with file="${input_file}"
Set result="Analysis of ${input_file}: ${output}"
</code></pre>
<h3 id="liquid-template-support"><a class="header" href="#liquid-template-support">Liquid Template Support</a></h3>
<p>Workflows support Liquid template rendering in action strings when using the <code>--set</code> parameter. This allows dynamic parameterization of workflows at runtime:</p>
<pre><code class="language-markdown">## Actions

- start: Log "Starting workflow for {{ user_name | default: 'Guest' }}"
- greet: Execute prompt "say-hello" with name="{{ name }}" language="{{ language | default: 'English' }}"
- process: Set message="{{ greeting_type }} for {{ user_name }}!"
- farewell: Log "Goodbye, {{ name }}!"
</code></pre>
<p>Run the workflow with template variables:</p>
<pre><code class="language-bash"># Pass template variables with --set
swissarmyhammer flow run greeting --set name=Alice --set language=French

# Template variables with default values
swissarmyhammer flow run greeting --set name=Bob
# The language will default to 'English'

# Complex template variables
swissarmyhammer flow run data-processor --set user.name=Alice --set user.role=admin
</code></pre>
<h4 id="template-features-in-workflows"><a class="header" href="#template-features-in-workflows">Template Features in Workflows</a></h4>
<p>You can use all Liquid template features in workflow action strings:</p>
<p><strong>Filters:</strong></p>
<pre><code class="language-markdown">- log_user: Log "Processing user: {{ username | upcase }}"
- set_path: Set output_file="/tmp/{{ filename | slugify }}.json"
</code></pre>
<p><strong>Conditionals:</strong></p>
<pre><code class="language-markdown">- notify: Log "{% if priority == 'high' %}🚨 URGENT: {% endif %}{{ message }}"
</code></pre>
<p><strong>Default Values:</strong></p>
<pre><code class="language-markdown">- configure: Set timeout="{{ timeout | default: '30' }}"
- log_mode: Log "Running in {{ mode | default: 'development' }} mode"
</code></pre>
<p><strong>Complex Objects:</strong></p>
<pre><code class="language-markdown">- process_user: Execute prompt "user-handler" with name="{{ user.name }}" role="{{ user.role }}"
</code></pre>
<h4 id="combining-var-and-set"><a class="header" href="#combining-var-and-set">Combining –var and –set</a></h4>
<p>You can use both <code>--var</code> (for workflow variables) and <code>--set</code> (for template variables) together:</p>
<pre><code class="language-bash">swissarmyhammer flow run my-workflow \
  --var input_file=data.json \
  --var output_dir=/tmp \
  --set user_name=Alice \
  --set environment=production
</code></pre>
<ul>
<li><code>--var</code> variables are available as <code>${variable}</code> in the workflow</li>
<li><code>--set</code> variables are available as <code>{{ variable }}</code> in liquid templates</li>
</ul>
<h4 id="template-rendering-behavior"><a class="header" href="#template-rendering-behavior">Template Rendering Behavior</a></h4>
<ul>
<li>Templates are rendered before action parsing</li>
<li>If a template variable is not provided, the original template syntax is preserved</li>
<li>Template rendering errors are logged as warnings but don’t stop workflow execution</li>
<li>Use the <code>default</code> filter to provide fallback values for optional variables</li>
</ul>
<h2 id="error-handling-5"><a class="header" href="#error-handling-5">Error Handling</a></h2>
<p>Workflows provide robust error handling:</p>
<h3 id="retry-logic"><a class="header" href="#retry-logic">Retry Logic</a></h3>
<p><strong>Note</strong>: Retry logic is handled automatically by Claude’s infrastructure. SwissArmyHammer workflows do not need to implement application-level retry mechanisms as Claude will automatically retry failed requests according to its built-in retry policies. This eliminates the need for manual retry implementation in your workflow logic.</p>
<h3 id="try-catch-pattern"><a class="header" href="#try-catch-pattern">Try-Catch Pattern</a></h3>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; Try
    Try --&gt; Success: OnSuccess
    Try --&gt; Catch: OnFailure
    Catch --&gt; Recovery
    Success --&gt; [*]
    Recovery --&gt; [*]
</code></pre>
<pre><code class="language-markdown">## Actions

- Try: Execute prompt "risky-operation"
- Catch: Log error "Operation failed: ${error}"
- Recovery: Execute prompt "cleanup"
- Success: Log "Operation completed successfully"
</code></pre>
<h3 id="abort-error-handling"><a class="header" href="#abort-error-handling">Abort Error Handling</a></h3>
<p>Workflows support immediate termination through abort errors. When a prompt action’s result begins with <code>ABORT ERROR:</code>, the workflow immediately exits all the way back to the root workflow with an error.</p>
<h4 id="how-abort-errors-work"><a class="header" href="#how-abort-errors-work">How Abort Errors Work</a></h4>
<ol>
<li><strong>Detection</strong>: When a prompt returns a response starting with <code>ABORT ERROR:</code>, it triggers immediate termination</li>
<li><strong>Propagation</strong>: The error bypasses all normal error handling (retries, compensation, transitions)</li>
<li><strong>Root Exit</strong>: In nested workflows, the abort error propagates through all parent workflows to the root</li>
</ol>
<h4 id="example-usage"><a class="header" href="#example-usage">Example Usage</a></h4>
<p>See: <a href="../examples/workflows/user-confirmation-workflow.html">User Confirmation Workflow</a></p>
<pre><code class="language-markdown">## Actions

- UserConfirmation: Execute prompt "confirm-destructive-action"
- ProcessData: Execute prompt "process-user-data"
- Complete: Log "Processing completed"
</code></pre>
<p>If the <code>confirm-destructive-action</code> prompt returns <code>ABORT ERROR: User cancelled the operation</code>, the workflow immediately terminates without executing ProcessData or Complete states.</p>
<h4 id="use-cases-1"><a class="header" href="#use-cases-1">Use Cases</a></h4>
<ul>
<li><strong>User Cancellation</strong>: Allow users to cancel long-running operations</li>
<li><strong>Critical Failures</strong>: Immediately stop on unrecoverable errors</li>
<li><strong>Safety Checks</strong>: Abort when safety conditions are not met</li>
</ul>
<h4 id="important-notes-1"><a class="header" href="#important-notes-1">Important Notes</a></h4>
<ul>
<li>Abort errors only trigger when the response <strong>starts with</strong> <code>ABORT ERROR:</code> (case-sensitive)</li>
<li>The error message after <code>ABORT ERROR:</code> is propagated in the error</li>
<li>Abort errors cannot be caught or handled within the workflow</li>
<li>In sub-workflows, abort errors bubble up to terminate the parent workflow</li>
</ul>
<h2 id="best-practices-11"><a class="header" href="#best-practices-11">Best Practices</a></h2>
<h3 id="1-keep-states-focused"><a class="header" href="#1-keep-states-focused">1. Keep States Focused</a></h3>
<p>Each state should perform one clear action:</p>
<pre><code>Good:
ValidateInput: Execute prompt "validate-json" with file="${input}"

Bad:
DoEverything: Execute prompt "validate-and-transform-and-save"
</code></pre>
<h3 id="2-use-meaningful-state-names"><a class="header" href="#2-use-meaningful-state-names">2. Use Meaningful State Names</a></h3>
<p>State names should describe what happens:</p>
<pre><code>Good: ValidateConfiguration, ProcessUserData, GenerateReport
Bad: Step1, Step2, DoStuff
</code></pre>
<h3 id="3-handle-all-paths"><a class="header" href="#3-handle-all-paths">3. Handle All Paths</a></h3>
<p>Ensure all states have clear exit paths:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; Process
    Process --&gt; Success: OnSuccess
    Process --&gt; Failure: OnFailure
    Success --&gt; [*]
    Failure --&gt; Cleanup: Always
    Cleanup --&gt; [*]
</code></pre>
<h3 id="4-use-variables-effectively"><a class="header" href="#4-use-variables-effectively">4. Use Variables Effectively</a></h3>
<p>Pass data between states using variables:</p>
<pre><code>ExtractData: Execute prompt "parse-file" with file="${input_file}"
ProcessData: Execute prompt "transform" with data="${output}"
SaveResults: Execute prompt "save" with content="${output}" path="${output_file}"
</code></pre>
<h3 id="5-document-complex-logic"><a class="header" href="#5-document-complex-logic">5. Document Complex Logic</a></h3>
<p>Add comments to explain complex workflows:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    %% This workflow processes user uploads
    %% It validates, transforms, and stores the data
    
    [*] --&gt; Validate
    %% Validation ensures file format is correct
    Validate --&gt; Transform: OnSuccess
</code></pre>
<h2 id="complete-example-1"><a class="header" href="#complete-example-1">Complete Example</a></h2>
<p>Here’s a complete workflow file showing all components including liquid template support:</p>
<pre><code class="language-markdown">---
name: data-processor
title: Data Processing Workflow
description: Validates and processes incoming data files
category: user
tags:
  - data-processing
  - validation
  - automation
---

# Data Processing Workflow

This workflow validates incoming data files, transforms them to the required format,
and stores the results. It includes error handling and retry logic.

```mermaid
stateDiagram-v2
    [*] --&gt; Initialize
    Initialize --&gt; ValidateFormat
    ValidateFormat --&gt; Transform: OnSuccess
    ValidateFormat --&gt; LogError: OnFailure
    Transform --&gt; StoreData: OnSuccess
    Transform --&gt; RetryTransform: OnFailure
    RetryTransform --&gt; Transform
    StoreData --&gt; NotifyComplete
    LogError --&gt; NotifyError
    NotifyComplete --&gt; [*]
    NotifyError --&gt; [*]
</code></pre>
<h2 id="actions"><a class="header" href="#actions">Actions</a></h2>
<ul>
<li>Initialize: Log “Starting {{ environment | default: ‘development’ }} data processing for file: ${input_file}”</li>
<li>ValidateFormat: Execute prompt “validate-json-schema” with file=“${input_file}” schema=“{{ schema | default: ‘default-schema.json’ }}”</li>
<li>Transform: Execute prompt “transform-data” with input=“${output}” format=“{{ format | default: ‘json’ }}”</li>
<li>StoreData: Execute prompt “store-to-database” with data=“${output}” table=“{{ db_table | default: ‘processed_data’ }}”</li>
<li>RetryTransform: Wait {{ retry_delay | default: ‘5’ }} seconds</li>
<li>NotifyComplete: Log “Successfully processed ${input_file} in {{ environment }} environment”</li>
<li>LogError: Log error “Validation failed for ${input_file}: ${error}”</li>
<li>NotifyError: Execute prompt “send-notification” with message=“Processing failed: ${error}” channel=“{{ alert_channel | default: ‘errors’ }}”</li>
</ul>
<pre><code>
### Running the Example

```bash
# Basic run with defaults
swissarmyhammer flow run data-processor --var input_file=data.json

# Production run with custom settings
swissarmyhammer flow run data-processor \
  --var input_file=data.json \
  --set environment=production \
  --set schema=production-schema.json \
  --set db_table=prod_data \
  --set alert_channel=prod-alerts

# Development run with custom retry
swissarmyhammer flow run data-processor \
  --var input_file=test.json \
  --set environment=development \
  --set retry_delay=10
</code></pre>
<h2 id="running-workflows"><a class="header" href="#running-workflows">Running Workflows</a></h2>
<p>Execute workflows using the <code>flow</code> command:</p>
<pre><code class="language-bash"># Run a workflow
swissarmyhammer flow run workflow-name

# Pass variables
swissarmyhammer flow run workflow-name --var input_file=data.json --var mode=production

# Resume from failure
swissarmyhammer flow run workflow-name --resume &lt;run_id&gt;
</code></pre>
<h2 id="monitoring-and-debugging"><a class="header" href="#monitoring-and-debugging">Monitoring and Debugging</a></h2>
<h3 id="view-workflow-runs"><a class="header" href="#view-workflow-runs">View Workflow Runs</a></h3>
<pre><code class="language-bash"># List recent runs
swissarmyhammer flow list

# Show run details
swissarmyhammer flow show &lt;run_id&gt;
</code></pre>
<h3 id="debug-output-2"><a class="header" href="#debug-output-2">Debug Output</a></h3>
<p>Workflows create detailed logs in <code>.swissarmyhammer/workflows/runs/&lt;run_id&gt;.jsonl</code>:</p>
<ul>
<li>State entries and exits</li>
<li>Variable values</li>
<li>Prompt outputs</li>
<li>Error messages</li>
<li>Timing information</li>
</ul>
<h3 id="visualization"><a class="header" href="#visualization">Visualization</a></h3>
<p>Generate workflow diagrams:</p>
<pre><code class="language-bash"># Visualize workflow structure
swissarmyhammer flow visualize workflow-name

# Show run path
swissarmyhammer flow visualize workflow-name --run &lt;run_id&gt;
</code></pre>
<h2 id="advanced-features-2"><a class="header" href="#advanced-features-2">Advanced Features</a></h2>
<h3 id="nested-workflows"><a class="header" href="#nested-workflows">Nested Workflows</a></h3>
<p>Workflows can call other workflows, enabling modular design:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; Initialize
    Initialize --&gt; RunSubWorkflow
    RunSubWorkflow --&gt; ProcessResults: OnSuccess
    ProcessResults --&gt; [*]
</code></pre>
<pre><code class="language-markdown">## Actions

- Initialize: Log "Starting main workflow"
- RunSubWorkflow: Run workflow "data-processor" with input="${raw_data}"
- ProcessResults: Log "Processed ${output}"
</code></pre>
<h3 id="dynamic-workflow-selection"><a class="header" href="#dynamic-workflow-selection">Dynamic Workflow Selection</a></h3>
<p>Choose workflows at runtime:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; DetermineType
    DetermineType --&gt; RunTypeA: "type:A"
    DetermineType --&gt; RunTypeB: "type:B"
    RunTypeA --&gt; [*]
    RunTypeB --&gt; [*]
</code></pre>
<pre><code class="language-markdown">## Actions

- DetermineType: Execute prompt "detect-type" with data="${input}"
- RunTypeA: Run workflow "process-type-a" with data="${input}"
- RunTypeB: Run workflow "process-type-b" with data="${input}"
</code></pre>
<h3 id="cel-expression-branching"><a class="header" href="#cel-expression-branching">CEL Expression Branching</a></h3>
<p>Use CEL expressions for complex conditional logic:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; BranchDecision
    BranchDecision --&gt; ProcessNormal: example_var.startsWith('Hello')
    BranchDecision --&gt; ProcessError: is_error == true
    BranchDecision --&gt; ProcessSpecial: count &gt; 10 &amp;&amp; status == 'active'
    BranchDecision --&gt; ProcessDefault: always
    ProcessNormal --&gt; [*]
    ProcessError --&gt; [*]
    ProcessSpecial --&gt; [*]
    ProcessDefault --&gt; [*]
</code></pre>
<pre><code class="language-markdown">## Actions

- BranchDecision: Execute prompt "analyze-data" with input="${data}"
- ProcessNormal: Log "Processing normal flow for ${example_var}"
- ProcessError: Execute prompt "handle-error" with error="${error}"
- ProcessSpecial: Execute prompt "special-handler" with count="${count}"
- ProcessDefault: Log "No special conditions met"
</code></pre>
<p>The choice state (BranchDecision) is automatically detected and will evaluate each condition in order, taking the first matching transition.</p>
<h3 id="parallel-processing"><a class="header" href="#parallel-processing">Parallel Processing</a></h3>
<p>Process multiple items concurrently:</p>
<pre><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; Split
    Split --&gt; fork1: Always
    
    state fork1 &lt;&lt;fork&gt;&gt;
    fork1 --&gt; ProcessItem1
    fork1 --&gt; ProcessItem2
    fork1 --&gt; ProcessItem3
    
    ProcessItem1 --&gt; join1: Always
    ProcessItem2 --&gt; join1: Always
    ProcessItem3 --&gt; join1: Always
    
    state join1 &lt;&lt;join&gt;&gt;
    join1 --&gt; Aggregate
    Aggregate --&gt; [*]
</code></pre>
<h2 id="troubleshooting-10"><a class="header" href="#troubleshooting-10">Troubleshooting</a></h2>
<h3 id="common-issues-3"><a class="header" href="#common-issues-3">Common Issues</a></h3>
<ol>
<li><strong>Workflow not found</strong>: Ensure workflow is in <code>.swissarmyhammer/workflows/</code></li>
<li><strong>Variable undefined</strong>: Check variable names and initialization</li>
<li><strong>Infinite loops</strong>: Add proper exit conditions</li>
<li><strong>Prompt not found</strong>: Verify prompt paths and names</li>
</ol>
<h3 id="validation"><a class="header" href="#validation">Validation</a></h3>
<p>Always validate workflows before running:</p>
<pre><code class="language-bash">swissarmyhammer validate
</code></pre>
<p>This checks:</p>
<ul>
<li>Mermaid syntax</li>
<li>State connectivity</li>
<li>Action syntax</li>
<li>Variable usage</li>
<li>Circular dependencies</li>
</ul>
<h2 id="next-steps-10"><a class="header" href="#next-steps-10">Next Steps</a></h2>
<ul>
<li>Explore <a href="./workflow-examples.html">Example Workflows</a> for practical patterns</li>
<li>Read about <a href="./workflow-patterns.html">Workflow Patterns</a> for common solutions</li>
<li>Check the <a href="./cli-reference.html#flow">CLI Reference</a> for all flow commands</li>
<li>Learn about <a href="./testing-guide.html#workflows">Testing Workflows</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflow-examples"><a class="header" href="#workflow-examples">Workflow Examples</a></h1>
<p>This guide showcases practical workflow examples demonstrating various features and patterns available in SwissArmyHammer’s workflow system.</p>
<h2 id="example-workflows"><a class="header" href="#example-workflows">Example Workflows</a></h2>
<p>Example workflows are located in:</p>
<ul>
<li><code>builtin/workflows/</code> - Example workflows demonstrating various features and patterns</li>
</ul>
<p>All workflows can be run directly or used as templates for your own workflows.</p>
<h3 id="basic-examples"><a class="header" href="#basic-examples">Basic Examples</a></h3>
<h4 id="hello-world-workflow"><a class="header" href="#hello-world-workflow">Hello World Workflow</a></h4>
<p><strong>File</strong>: <code>builtin/workflows/hello-world.md</code><br />
<strong>Type</strong>: Simple linear workflow</p>
<p>The simplest possible workflow demonstrating basic functionality:</p>
<pre><code class="language-bash">swissarmyhammer flow run hello-world
</code></pre>
<p><strong>Features demonstrated</strong>:</p>
<ul>
<li>Basic state transitions</li>
<li>Prompt execution with result capture</li>
<li>Using variables in log messages</li>
</ul>
<h4 id="example-actions-workflow"><a class="header" href="#example-actions-workflow">Example Actions Workflow</a></h4>
<p><strong>File</strong>: <code>builtin/workflows/example-actions.md</code><br />
<strong>Type</strong>: Action reference workflow</p>
<p>Demonstrates all available workflow actions:</p>
<pre><code class="language-bash">swissarmyhammer flow run example-actions
</code></pre>
<p><strong>Features demonstrated</strong>:</p>
<ul>
<li>All action types (Log, Execute prompt, Set variable, Wait)</li>
<li>Different log levels (info, warning, error)</li>
<li>Variable substitution</li>
<li>Sub-workflow execution</li>
</ul>
<h3 id="greeting-workflow"><a class="header" href="#greeting-workflow">Greeting Workflow</a></h3>
<p><strong>File</strong>: <code>builtin/workflows/greeting.md</code><br />
<strong>Type</strong>: Template variable demonstration</p>
<p>A simple workflow that demonstrates using template variables in workflows:</p>
<pre><code class="language-bash">swissarmyhammer flow run greeting --set name=John --set language=English
</code></pre>
<p><strong>Features demonstrated</strong>:</p>
<ul>
<li>Template variables with <code>--set</code> parameters</li>
<li>Variable defaults with liquid templates</li>
<li>Linear state progression</li>
<li>Prompt execution with variable substitution</li>
</ul>
<p><strong>Use cases</strong>:</p>
<ul>
<li>Learning template variable usage</li>
<li>Building parameterized workflows</li>
<li>Dynamic workflow customization</li>
</ul>
<h2 id="running-example-workflows"><a class="header" href="#running-example-workflows">Running Example Workflows</a></h2>
<h3 id="basic-execution"><a class="header" href="#basic-execution">Basic Execution</a></h3>
<p>Run any example workflow:</p>
<pre><code class="language-bash">swissarmyhammer flow run &lt;workflow-name&gt;
</code></pre>
<h3 id="with-custom-variables"><a class="header" href="#with-custom-variables">With Custom Variables</a></h3>
<p>Customize workflows with variables:</p>
<pre><code class="language-bash">swissarmyhammer flow run greeting \
  --set name="Your Name" \
  --set language="French"
</code></pre>
<h3 id="resume-from-failure"><a class="header" href="#resume-from-failure">Resume from Failure</a></h3>
<p>If a workflow fails, you can resume from where it left off:</p>
<pre><code class="language-bash">swissarmyhammer flow run example-actions --resume &lt;run_id&gt;
</code></pre>
<h3 id="list-available-workflows"><a class="header" href="#list-available-workflows">List Available Workflows</a></h3>
<p>See all available workflows:</p>
<pre><code class="language-bash">swissarmyhammer flow list
</code></pre>
<h2 id="learning-from-examples"><a class="header" href="#learning-from-examples">Learning from Examples</a></h2>
<h3 id="how-to-study-the-examples"><a class="header" href="#how-to-study-the-examples">How to Study the Examples</a></h3>
<ol>
<li><strong>Read the workflow definition</strong>: Understand the state flow and transitions</li>
<li><strong>Examine the actions</strong>: See how different action types are used</li>
<li><strong>Look at error handling</strong>: Note how errors are caught and handled</li>
<li><strong>Study variable usage</strong>: See how data flows through the workflow</li>
<li><strong>Run with debugging</strong>: Use <code>--debug</code> to see detailed execution logs</li>
</ol>
<h3 id="adapting-examples"><a class="header" href="#adapting-examples">Adapting Examples</a></h3>
<p>To create your own workflow based on an example:</p>
<ol>
<li>Copy the example workflow to your prompts directory</li>
<li>Modify the metadata (name, description, tags)</li>
<li>Adjust the state diagram to match your needs</li>
<li>Update actions and variables</li>
<li>Test incrementally with <code>--dry-run</code></li>
</ol>
<h3 id="common-modifications"><a class="header" href="#common-modifications">Common Modifications</a></h3>
<p><strong>Adding error handling</strong> to workflows:</p>
<pre><code class="language-markdown">## Actions

- ProcessData: Execute prompt "process-data" with path="${data_path}"
- HandleError: Log error "Data processing failed: ${error}"
- Retry: Log "Retrying with different parameters"
</code></pre>
<p>And add retry logic in the Mermaid diagram:</p>
<pre><code class="language-mermaid">ProcessData --&gt; HandleError: OnFailure
HandleError --&gt; Retry
Retry --&gt; ProcessData
</code></pre>
<p><strong>Adding template variables</strong> to customize workflows:</p>
<p>Pass variables when running any workflow:</p>
<pre><code class="language-bash">swissarmyhammer flow run greeting \
  --set name="Your Name" \
  --set language="French"
</code></pre>
<p><strong>Adding notifications</strong> to workflows:</p>
<pre><code class="language-markdown">## Actions

- CompleteTask: Log "Task completed successfully"
- NotifyUser: Execute prompt "send-notification" with message="Workflow completed: ${result}"
</code></pre>
<h2 id="best-practices-from-examples"><a class="header" href="#best-practices-from-examples">Best Practices from Examples</a></h2>
<h3 id="1-state-naming"><a class="header" href="#1-state-naming">1. State Naming</a></h3>
<ul>
<li>Use descriptive, action-oriented names</li>
<li>Keep names concise but clear</li>
<li>Use consistent naming patterns</li>
</ul>
<h3 id="2-error-handling"><a class="header" href="#2-error-handling">2. Error Handling</a></h3>
<ul>
<li>Always include error states for critical operations</li>
<li>Provide meaningful error messages</li>
<li>Design rollback paths for reversible operations</li>
</ul>
<h3 id="3-variable-management"><a class="header" href="#3-variable-management">3. Variable Management</a></h3>
<ul>
<li>Define sensible defaults</li>
<li>Document variable purposes</li>
<li>Validate inputs early in the workflow</li>
</ul>
<h3 id="4-user-interaction"><a class="header" href="#4-user-interaction">4. User Interaction</a></h3>
<ul>
<li>Provide clear choice descriptions</li>
<li>Include help text for complex decisions</li>
<li>Allow bypassing interaction for automation</li>
</ul>
<h3 id="5-performance"><a class="header" href="#5-performance">5. Performance</a></h3>
<ul>
<li>Use parallel execution where possible</li>
<li>Set appropriate timeouts</li>
<li>Design for idempotency</li>
</ul>
<h2 id="complete-workflow-example"><a class="header" href="#complete-workflow-example">Complete Workflow Example</a></h2>
<p>Here’s a complete workflow file showing all the components:</p>
<pre><code class="language-markdown">---
name: automated-testing
title: Automated Testing Workflow
description: Runs tests, analyzes results, and generates reports
category: user
tags:
  - testing
  - ci
  - automation
---

# Automated Testing Workflow

This workflow runs the test suite, analyzes failures, and generates comprehensive reports.

```mermaid
stateDiagram-v2
    [*] --&gt; Initialize
    Initialize --&gt; RunTests
    RunTests --&gt; AnalyzeResults: OnSuccess
    RunTests --&gt; HandleFailure: OnFailure
    AnalyzeResults --&gt; GenerateReport
    HandleFailure --&gt; RetryTests: "flaky"
    HandleFailure --&gt; GenerateFailureReport: "real_failure"
    RetryTests --&gt; RunTests
    GenerateReport --&gt; NotifySuccess
    GenerateFailureReport --&gt; NotifyFailure
    NotifySuccess --&gt; [*]
    NotifyFailure --&gt; [*]
</code></pre>
<h2 id="actions-1"><a class="header" href="#actions-1">Actions</a></h2>
<ul>
<li>Initialize: Log “Starting test run for ${branch_name}”</li>
<li>RunTests: Execute prompt “run-test-suite” with suite=“${test_suite}” parallel=“${parallel_tests}”</li>
<li>AnalyzeResults: Execute prompt “analyze-test-results” with results=“${output}”</li>
<li>HandleFailure: Execute prompt “categorize-failures” with failures=“${error}”</li>
<li>RetryTests: Wait 30 seconds</li>
<li>GenerateReport: Execute prompt “generate-test-report” with data=“${output}” format=“html”</li>
<li>GenerateFailureReport: Execute prompt “generate-failure-report” with failures=“${output}”</li>
<li>NotifySuccess: Execute prompt “send-notification” with status=“success” message=“All tests passed!”</li>
<li>NotifyFailure: Execute prompt “send-notification” with status=“failure” message=“Tests failed: ${error}”</li>
</ul>
<pre><code>
## Troubleshooting Examples

### Common Issues

1. **Workflow not found**:
   ```bash
   swissarmyhammer flow list  # Check available workflows
</code></pre>
<ol start="2">
<li>
<p><strong>Variable errors</strong>:</p>
<pre><code class="language-bash">swissarmyhammer flow show greeting  # View workflow details
</code></pre>
</li>
<li>
<p><strong>State transition failures</strong>:</p>
<ul>
<li>Check condition syntax</li>
<li>Verify variable values</li>
<li>Use <code>--debug</code> for detailed logs</li>
</ul>
</li>
<li>
<p><strong>Action failures</strong>:</p>
<ul>
<li>Ensure referenced prompts exist</li>
<li>Check variable interpolation</li>
<li>Verify action syntax</li>
</ul>
</li>
</ol>
<h3 id="debugging-tips"><a class="header" href="#debugging-tips">Debugging Tips</a></h3>
<ol>
<li>
<p>Use verbose output:</p>
<pre><code class="language-bash">swissarmyhammer workflow run example-actions -v
</code></pre>
</li>
<li>
<p>Enable debug mode:</p>
<pre><code class="language-bash">swissarmyhammer workflow run greeting --debug
</code></pre>
</li>
<li>
<p>Test with custom variables:</p>
<pre><code class="language-bash">swissarmyhammer workflow run greeting \
  --set name="Test User" \
  --set language="Spanish"
</code></pre>
</li>
</ol>
<h2 id="next-steps-11"><a class="header" href="#next-steps-11">Next Steps</a></h2>
<ul>
<li>Explore <a href="./workflow-patterns.html">Workflow Patterns</a> for advanced techniques</li>
<li>Read the main <a href="./workflows.html">Workflows Documentation</a> for detailed reference</li>
<li>Create your own workflows based on these examples</li>
<li>Share your workflows with the community</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflow-patterns-1"><a class="header" href="#workflow-patterns-1">Workflow Patterns</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search-and-discovery-guide"><a class="header" href="#search-and-discovery-guide">Search and Discovery Guide</a></h1>
<p>SwissArmyHammer provides powerful search capabilities to help you discover and find prompts in your collection. This guide covers search strategies, advanced filtering, and integration workflows.</p>
<h2 id="search-strategies-overview"><a class="header" href="#search-strategies-overview">Search Strategies Overview</a></h2>
<p>SwissArmyHammer provides three complementary search strategies:</p>
<ol>
<li><strong>Fuzzy Search</strong>: Fast approximate matching for typos and partial matches</li>
<li><strong>Full-Text Search</strong>: Precise term-based search with boolean operators</li>
<li><strong>Semantic Search</strong>: AI-powered semantic similarity using vector embeddings</li>
</ol>
<p>Each strategy has different strengths and use cases. You can use them individually or in combination for optimal results.</p>
<h2 id="basic-search-2"><a class="header" href="#basic-search-2">Basic Search</a></h2>
<h3 id="simple-text-search"><a class="header" href="#simple-text-search">Simple Text Search</a></h3>
<p>The most basic way to search is with a simple text query:</p>
<pre><code class="language-bash"># Search for prompts containing "code"
swissarmyhammer search code

# Search for multiple terms
swissarmyhammer search "code review"

# Search with partial matches
swissarmyhammer search debug
</code></pre>
<h3 id="search-results-format"><a class="header" href="#search-results-format">Search Results Format</a></h3>
<pre><code>Found 3 prompts matching "code":

📝 code-review (builtin)
   Review code for best practices and potential issues
   Arguments: code, language (optional)

🔧 debug-helper (user)
   Help debug programming issues and errors
   Arguments: error, context (optional)

📊 analyze-performance (local)
   Analyze code performance and suggest optimizations
   Arguments: code, language, metrics (optional)
</code></pre>
<p>Each result shows:</p>
<ul>
<li><strong>Icon</strong>: Indicates prompt type (📝 builtin, 🔧 user, 📊 local)</li>
<li><strong>Name</strong>: Prompt identifier</li>
<li><strong>Source</strong>: Where the prompt is stored</li>
<li><strong>Description</strong>: Brief description of the prompt’s purpose</li>
<li><strong>Arguments</strong>: Required and optional parameters</li>
</ul>
<h2 id="field-specific-search-1"><a class="header" href="#field-specific-search-1">Field-Specific Search</a></h2>
<h3 id="search-in-titles-only"><a class="header" href="#search-in-titles-only">Search in Titles Only</a></h3>
<pre><code class="language-bash"># Find prompts with "review" in the title
swissarmyhammer search --in title review

# Case-sensitive title search
swissarmyhammer search --in title --case-sensitive "Code Review"
</code></pre>
<h3 id="search-in-descriptions"><a class="header" href="#search-in-descriptions">Search in Descriptions</a></h3>
<pre><code class="language-bash"># Find prompts about debugging in descriptions
swissarmyhammer search --in description debug

# Find prompts mentioning specific technologies
swissarmyhammer search --in description "python javascript"
</code></pre>
<h3 id="search-in-content"><a class="header" href="#search-in-content">Search in Content</a></h3>
<pre><code class="language-bash"># Find prompts that use specific template variables
swissarmyhammer search --in content "{{code}}"

# Find prompts with specific instructions
swissarmyhammer search --in content "best practices"
</code></pre>
<h3 id="search-all-fields"><a class="header" href="#search-all-fields">Search All Fields</a></h3>
<pre><code class="language-bash"># Search across titles, descriptions, and content (default)
swissarmyhammer search --in all "security"

# Explicit all-field search
swissarmyhammer search "API documentation"
</code></pre>
<h2 id="advanced-search-techniques"><a class="header" href="#advanced-search-techniques">Advanced Search Techniques</a></h2>
<h3 id="regular-expression-search-1"><a class="header" href="#regular-expression-search-1">Regular Expression Search</a></h3>
<p>Use regex patterns for powerful pattern matching:</p>
<pre><code class="language-bash"># Find prompts with "test" followed by any word
swissarmyhammer search --regex "test\s+\w+"

# Find prompts starting with specific words
swissarmyhammer search --regex "^(debug|fix|analyze)"

# Find prompts with email patterns
swissarmyhammer search --regex "\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b"

# Case-sensitive regex
swissarmyhammer search --regex --case-sensitive "^Code"
</code></pre>
<h3 id="search-by-source"><a class="header" href="#search-by-source">Search by Source</a></h3>
<p>Filter prompts by their source location:</p>
<pre><code class="language-bash"># Find only built-in prompts
swissarmyhammer search --source builtin

# Find only user-created prompts
swissarmyhammer search --source user

# Find only local project prompts
swissarmyhammer search --source local

# Combine with text search
swissarmyhammer search review --source user
</code></pre>
<h3 id="search-by-arguments"><a class="header" href="#search-by-arguments">Search by Arguments</a></h3>
<p>Find prompts based on their argument requirements:</p>
<pre><code class="language-bash"># Find prompts that accept a "code" argument
swissarmyhammer search --has-arg code

# Find prompts with no arguments (simple prompts)
swissarmyhammer search --no-args

# Find prompts with specific argument combinations
swissarmyhammer search --has-arg code --has-arg language

# Combine with text search
swissarmyhammer search debug --has-arg error
</code></pre>
<h2 id="search-strategies"><a class="header" href="#search-strategies">Search Strategies</a></h2>
<h3 id="discovery-workflows"><a class="header" href="#discovery-workflows">Discovery Workflows</a></h3>
<h4 id="finding-prompts-for-a-task"><a class="header" href="#finding-prompts-for-a-task">Finding Prompts for a Task</a></h4>
<pre><code class="language-bash"># 1. Start broad
swissarmyhammer search "code review"

# 2. Narrow down by context
swissarmyhammer search "code review" --source user

# 3. Check argument requirements
swissarmyhammer search "code review" --has-arg language

# 4. Examine specific matches
swissarmyhammer search --in title "Advanced Code Review"
</code></pre>
<h4 id="exploring-available-prompts"><a class="header" href="#exploring-available-prompts">Exploring Available Prompts</a></h4>
<pre><code class="language-bash"># See all available prompts
swissarmyhammer search --limit 50 ""

# Browse by category/topic
swissarmyhammer search documentation
swissarmyhammer search testing
swissarmyhammer search refactoring

# Find simple prompts (no arguments)
swissarmyhammer search --no-args
</code></pre>
<h4 id="finding-template-examples"><a class="header" href="#finding-template-examples">Finding Template Examples</a></h4>
<pre><code class="language-bash"># Find prompts using loops
swissarmyhammer search --in content "{% for"

# Find prompts with conditionals
swissarmyhammer search --in content "{% if"

# Find prompts using specific filters
swissarmyhammer search --in content "| capitalize"
</code></pre>
<h3 id="search-optimization"><a class="header" href="#search-optimization">Search Optimization</a></h3>
<h4 id="performance-tips"><a class="header" href="#performance-tips">Performance Tips</a></h4>
<pre><code class="language-bash"># Limit results for faster response
swissarmyhammer search --limit 10 query

# Use specific fields to reduce search scope
swissarmyhammer search --in title query  # faster than all fields

# Use source filtering to narrow search space
swissarmyhammer search --source user query
</code></pre>
<h4 id="precision-vs-recall"><a class="header" href="#precision-vs-recall">Precision vs. Recall</a></h4>
<pre><code class="language-bash"># High precision (exact matches)
swissarmyhammer search --case-sensitive --regex "^exact pattern$"

# High recall (find everything related)
swissarmyhammer search --in all "broad topic"

# Balanced approach
swissarmyhammer search "specific terms" --limit 20
</code></pre>
<h2 id="integration-with-other-commands-1"><a class="header" href="#integration-with-other-commands-1">Integration with Other Commands</a></h2>
<h3 id="search-and-test-workflow"><a class="header" href="#search-and-test-workflow">Search and Test Workflow</a></h3>
<pre><code class="language-bash"># Find debugging prompts
swissarmyhammer search debug

# Test a specific one
swissarmyhammer test debug-helper

# Test with specific arguments
swissarmyhammer test debug-helper --arg error="TypeError: undefined"
</code></pre>
<h3 id="search-and-export-workflow"><a class="header" href="#search-and-export-workflow">Search and Export Workflow</a></h3>
<pre><code class="language-bash"># Find all review-related prompts
swissarmyhammer search review --limit 20

# Export specific ones found
swissarmyhammer export code-review security-review design-review output.tar.gz

# Or export all matching a pattern
# (manual selection based on search results)
</code></pre>
<h3 id="scripted-search"><a class="header" href="#scripted-search">Scripted Search</a></h3>
<pre><code class="language-bash">#!/bin/bash
# find-and-test.sh

QUERY="$1"
if [ -z "$QUERY" ]; then
    echo "Usage: $0 &lt;search-query&gt;"
    exit 1
fi

echo "Searching for: $QUERY"
PROMPTS=$(swissarmyhammer search --json "$QUERY" | jq -r '.results[].id')

if [ -z "$PROMPTS" ]; then
    echo "No prompts found"
    exit 1
fi

echo "Found prompts:"
echo "$PROMPTS"

echo "Select a prompt to test:"
select PROMPT in $PROMPTS; do
    if [ -n "$PROMPT" ]; then
        swissarmyhammer test "$PROMPT"
        break
    fi
done
</code></pre>
<h2 id="json-output-for-scripting"><a class="header" href="#json-output-for-scripting">JSON Output for Scripting</a></h2>
<h3 id="basic-json-search"><a class="header" href="#basic-json-search">Basic JSON Search</a></h3>
<pre><code class="language-bash">swissarmyhammer search --json "code review"
</code></pre>
<pre><code class="language-json">{
  "query": "code review",
  "total_found": 3,
  "results": [
    {
      "id": "code-review",
      "title": "Code Review Helper",
      "description": "Review code for best practices and potential issues",
      "source": "builtin",
      "path": "/builtin/review/code.md",
      "arguments": [
        {"name": "code", "required": true},
        {"name": "language", "required": false, "default": "auto-detect"}
      ],
      "score": 0.95
    }
  ]
}
</code></pre>
<h3 id="processing-json-results"><a class="header" href="#processing-json-results">Processing JSON Results</a></h3>
<pre><code class="language-bash"># Extract prompt IDs
swissarmyhammer search --json query | jq -r '.results[].id'

# Get highest scoring result
swissarmyhammer search --json query | jq -r '.results[0].id'

# Filter by score threshold
swissarmyhammer search --json query | jq '.results[] | select(.score &gt; 0.8)'

# Count results by source
swissarmyhammer search --json "" --limit 100 | jq '.results | group_by(.source) | map({source: .[0].source, count: length})'
</code></pre>
<h2 id="search-index-management"><a class="header" href="#search-index-management">Search Index Management</a></h2>
<h3 id="understanding-the-search-index"><a class="header" href="#understanding-the-search-index">Understanding the Search Index</a></h3>
<p>SwissArmyHammer automatically maintains a search index that includes:</p>
<ul>
<li><strong>Prompt titles</strong> - Weighted heavily in scoring</li>
<li><strong>Descriptions</strong> - Medium weight</li>
<li><strong>Content text</strong> - Lower weight</li>
<li><strong>Argument names</strong> - Considered for relevance</li>
<li><strong>File paths</strong> - Used for source filtering</li>
</ul>
<h3 id="index-updates"><a class="header" href="#index-updates">Index Updates</a></h3>
<p>The search index is automatically updated when:</p>
<ul>
<li>Prompts are added to the library</li>
<li>Existing prompts are modified</li>
<li>The <code>serve</code> command starts (full rebuild)</li>
<li>File watching detects changes</li>
</ul>
<h3 id="performance-characteristics"><a class="header" href="#performance-characteristics">Performance Characteristics</a></h3>
<ul>
<li><strong>Index size</strong>: Proportional to prompt collection size</li>
<li><strong>Search speed</strong>: Sub-second for collections up to 10,000 prompts</li>
<li><strong>Memory usage</strong>: Moderate (index kept in memory)</li>
<li><strong>Update speed</strong>: Fast incremental updates</li>
</ul>
<h2 id="troubleshooting-search-issues"><a class="header" href="#troubleshooting-search-issues">Troubleshooting Search Issues</a></h2>
<h3 id="no-results-found"><a class="header" href="#no-results-found">No Results Found</a></h3>
<pre><code class="language-bash"># Check if prompts exist
swissarmyhammer search --limit 100 ""

# Verify prompt sources
swissarmyhammer search --source builtin
swissarmyhammer search --source user
swissarmyhammer search --source local

# Try broader search
swissarmyhammer search --in all "partial terms"
</code></pre>
<h3 id="too-many-results"><a class="header" href="#too-many-results">Too Many Results</a></h3>
<pre><code class="language-bash"># Use more specific terms
swissarmyhammer search "specific exact phrase"

# Limit by source
swissarmyhammer search broad-term --source user

# Use field-specific search
swissarmyhammer search --in title specific-title

# Limit result count
swissarmyhammer search broad-term --limit 5
</code></pre>
<h3 id="unexpected-results"><a class="header" href="#unexpected-results">Unexpected Results</a></h3>
<pre><code class="language-bash"># Check what's being matched
swissarmyhammer search --full query

# Use exact matching
swissarmyhammer search --regex "^exact term$"

# Search in specific field
swissarmyhammer search --in description query
</code></pre>
<h2 id="best-practices-12"><a class="header" href="#best-practices-12">Best Practices</a></h2>
<h3 id="effective-search-terms"><a class="header" href="#effective-search-terms">Effective Search Terms</a></h3>
<ol>
<li><strong>Use specific terms</strong>: “REST API documentation” vs. “API”</li>
<li><strong>Include context</strong>: “Python debugging” vs. “debugging”</li>
<li><strong>Try synonyms</strong>: “review”, “analyze”, “examine”</li>
<li><strong>Use argument names</strong>: Search for “code”, “error”, “data” to find relevant prompts</li>
</ol>
<h3 id="search-workflow-patterns"><a class="header" href="#search-workflow-patterns">Search Workflow Patterns</a></h3>
<ol>
<li><strong>Start broad, narrow down</strong>: Begin with general terms, add filters</li>
<li><strong>Use multiple strategies</strong>: Try both fuzzy and regex search</li>
<li><strong>Check all sources</strong>: Don’t assume prompts are only in one location</li>
<li><strong>Combine with testing</strong>: Always test prompts before using</li>
</ol>
<h3 id="organization-for-searchability"><a class="header" href="#organization-for-searchability">Organization for Searchability</a></h3>
<ol>
<li><strong>Clear titles</strong>: Use descriptive, searchable titles</li>
<li><strong>Good descriptions</strong>: Include keywords and use cases</li>
<li><strong>Consistent naming</strong>: Use standard terms across prompts</li>
<li><strong>Tag with arguments</strong>: Use predictable argument names</li>
</ol>
<h2 id="advanced-examples"><a class="header" href="#advanced-examples">Advanced Examples</a></h2>
<h3 id="finding-template-patterns"><a class="header" href="#finding-template-patterns">Finding Template Patterns</a></h3>
<pre><code class="language-bash"># Find prompts using custom filters
swissarmyhammer search --in content "format_lang"

# Find prompts with error handling
swissarmyhammer search --in content "default:"

# Find prompts with loops
swissarmyhammer search --in content "{% for"
</code></pre>
<h3 id="building-prompt-collections"><a class="header" href="#building-prompt-collections">Building Prompt Collections</a></h3>
<pre><code class="language-bash"># Find all code-related prompts
swissarmyhammer search --regex "(code|programming|software)" --limit 50

# Find all documentation prompts
swissarmyhammer search --regex "(doc|documentation|readme|guide)" --limit 30

# Find all analysis prompts
swissarmyhammer search --regex "(analy|review|audit|inspect)" --limit 20
</code></pre>
<h3 id="quality-assurance"><a class="header" href="#quality-assurance">Quality Assurance</a></h3>
<pre><code class="language-bash"># Find prompts without descriptions
swissarmyhammer search --in description "^$" --regex

# Find prompts with no arguments (might need descriptions)
swissarmyhammer search --no-args --limit 50

# Find prompts with many arguments (might be complex)
swissarmyhammer search --json "" --limit 100 | \
  jq '.results[] | select(.arguments | length &gt; 5)'
</code></pre>
<h2 id="semantic-search"><a class="header" href="#semantic-search">Semantic Search</a></h2>
<h3 id="overview-5"><a class="header" href="#overview-5">Overview</a></h3>
<p>Semantic search uses AI embeddings to find code and prompts based on meaning rather than exact text matches. This is particularly powerful for finding conceptually similar code even when the exact keywords differ.</p>
<h3 id="basic-semantic-search"><a class="header" href="#basic-semantic-search">Basic Semantic Search</a></h3>
<pre><code class="language-bash"># Find code semantically similar to a concept
swissarmyhammer search --semantic "error handling patterns"

# Search for code functionality
swissarmyhammer search --semantic "database connection pooling"

# Find similar algorithms or approaches
swissarmyhammer search --semantic "sorting algorithms implementation"
</code></pre>
<h3 id="language-specific-semantic-search"><a class="header" href="#language-specific-semantic-search">Language-Specific Semantic Search</a></h3>
<pre><code class="language-bash"># Find Rust-specific patterns
swissarmyhammer search --semantic "async error handling" --language rust

# Python-specific search
swissarmyhammer search --semantic "decorator patterns" --language python

# JavaScript/TypeScript patterns
swissarmyhammer search --semantic "promise chain handling" --language typescript
</code></pre>
<h3 id="semantic-search-with-thresholds"><a class="header" href="#semantic-search-with-thresholds">Semantic Search with Thresholds</a></h3>
<pre><code class="language-bash"># High-precision semantic search (only very similar results)
swissarmyhammer search --semantic "REST API client" --threshold 0.8

# Broader semantic search (more results, less similar)
swissarmyhammer search --semantic "authentication" --threshold 0.6

# Maximum recall (find anything remotely related)
swissarmyhammer search --semantic "testing" --threshold 0.4
</code></pre>
<h3 id="code-similarity-detection"><a class="header" href="#code-similarity-detection">Code Similarity Detection</a></h3>
<pre><code class="language-bash"># Find code similar to a specific file
swissarmyhammer search --semantic-file path/to/example.rs

# Find duplicated or similar functions
swissarmyhammer search --semantic "function findUser(id)" --limit 10

# Detect architectural patterns
swissarmyhammer search --semantic "observer pattern implementation"
</code></pre>
<h3 id="multi-modal-semantic-search"><a class="header" href="#multi-modal-semantic-search">Multi-Modal Semantic Search</a></h3>
<pre><code class="language-bash"># Combine text and code structure
swissarmyhammer search --semantic "error handling" --include-structure

# Search including comments and documentation
swissarmyhammer search --semantic "caching strategy" --include-docs

# Focus on specific code constructs
swissarmyhammer search --semantic "async functions" --code-only
</code></pre>
<h3 id="semantic-search-performance"><a class="header" href="#semantic-search-performance">Semantic Search Performance</a></h3>
<p>Semantic search characteristics:</p>
<ul>
<li><strong>Latency</strong>: 50-200ms for typical queries</li>
<li><strong>Memory</strong>: Scales with result set size and embedding dimensions</li>
<li><strong>Accuracy</strong>: High for conceptual matches, lower for exact syntax</li>
<li><strong>Best for</strong>: Finding similar algorithms, patterns, and architectural concepts</li>
</ul>
<h3 id="when-to-use-semantic-search"><a class="header" href="#when-to-use-semantic-search">When to Use Semantic Search</a></h3>
<p><strong>Use semantic search when:</strong></p>
<ul>
<li>Looking for conceptually similar code patterns</li>
<li>Searching across different programming languages</li>
<li>Finding architectural patterns and design solutions</li>
<li>Exploring similar algorithms or approaches</li>
<li>Discovering duplicated or near-duplicate code</li>
</ul>
<p><strong>Use traditional search when:</strong></p>
<ul>
<li>Looking for exact variable names or function signatures</li>
<li>Searching for specific syntax or language constructs</li>
<li>Finding exact string matches</li>
<li>Performance is critical (semantic search is slower)</li>
</ul>
<h2 id="see-also-4"><a class="header" href="#see-also-4">See Also</a></h2>
<ul>
<li><a href="./cli-search.html"><code>search</code> command</a> - Command reference</li>
<li><a href="./cli-test.html"><code>test</code> command</a> - Testing found prompts</li>
<li><a href="./prompt-organization.html">Prompt Organization</a> - Organizing for discoverability</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search-architecture"><a class="header" href="#search-architecture">Search Architecture</a></h1>
<p>SwissArmyHammer implements a multi-tiered search architecture that combines traditional text search with modern semantic search capabilities. This document provides a deep dive into the search system’s architecture, indexing strategies, and performance characteristics.</p>
<h2 id="architecture-overview"><a class="header" href="#architecture-overview">Architecture Overview</a></h2>
<pre><code>┌─────────────────────────────────────────────────────────────┐
│                     Search Frontend                        │
├─────────────────────────────────────────────────────────────┤
│  CLI Interface    │  MCP Server    │  Library API          │
└─────────────────────┬───────────────┬─────────────────────────┘
                      │               │
┌─────────────────────┴───────────────┴─────────────────────────┐
│                   Search Engine                             │
├─────────────────────────────────────────────────────────────┤
│  Hybrid Search Controller                                   │
│  ├─ Query Routing Logic                                     │
│  ├─ Result Aggregation                                      │
│  └─ Score Normalization                                     │
└─────────────────────┬───────────────┬─────────────────────────┘
                      │               │
┌─────────────────────┴───────────────┴─────────────────────────┐
│               Search Backends                               │
├─────────────────────────────────────────────────────────────┤
│  Fuzzy Search     │  Full-Text      │  Semantic Search       │
│  (SkimMatcher)    │  (Tantivy)      │  (Embeddings+DuckDB)   │
└─────────────────────┬───────────────┬─────────────────────────┘
                      │               │
┌─────────────────────┴───────────────┴─────────────────────────┐
│                 Storage Layer                               │
├─────────────────────────────────────────────────────────────┤
│  In-Memory        │  File System    │  Vector Database       │
│  (RAM Index)      │  (Persistent)   │  (DuckDB + VSS)        │
└─────────────────────────────────────────────────────────────┘
</code></pre>
<h2 id="search-engines"><a class="header" href="#search-engines">Search Engines</a></h2>
<h3 id="1-fuzzy-search-engine"><a class="header" href="#1-fuzzy-search-engine">1. Fuzzy Search Engine</a></h3>
<p><strong>Implementation</strong>: <code>search.rs::SearchEngine::fuzzy_search</code></p>
<p><strong>Technology Stack</strong>:</p>
<ul>
<li><strong>Matcher</strong>: <code>skim_matcher_v2</code> (fuzzy string matching)</li>
<li><strong>Storage</strong>: In-memory prompt collection</li>
<li><strong>Indexing</strong>: None (searches on-demand)</li>
</ul>
<p><strong>Architecture</strong>:</p>
<pre><code class="language-rust">pub struct SearchEngine {
    fuzzy_matcher: SkimMatcherV2,
    // Other fields...
}</code></pre>
<p><strong>Performance Characteristics</strong>:</p>
<ul>
<li><strong>Time Complexity</strong>: O(n*m) where n=prompts, m=avg prompt length</li>
<li><strong>Space Complexity</strong>: O(1) additional memory</li>
<li><strong>Latency</strong>: 1-5ms for typical collections</li>
<li><strong>Strengths</strong>: Fast, handles typos, no indexing overhead</li>
<li><strong>Weaknesses</strong>: No semantic understanding, limited scalability</li>
</ul>
<h3 id="2-full-text-search-engine"><a class="header" href="#2-full-text-search-engine">2. Full-Text Search Engine</a></h3>
<p><strong>Implementation</strong>: <code>search.rs::SearchEngine::search</code></p>
<p><strong>Technology Stack</strong>:</p>
<ul>
<li><strong>Search Engine</strong>: Apache Tantivy</li>
<li><strong>Storage</strong>: RAM index with optional persistence</li>
<li><strong>Query Language</strong>: Lucene-compatible syntax</li>
</ul>
<p><strong>Architecture</strong>:</p>
<pre><code class="language-rust">pub struct SearchEngine {
    index: Index,
    writer: IndexWriter,
    name_field: Field,
    description_field: Field,
    category_field: Field,
    tags_field: Field,
    template_field: Field,
}</code></pre>
<p><strong>Index Schema</strong>:</p>
<ul>
<li><code>name</code>: Prompt name (TEXT | STORED)</li>
<li><code>description</code>: Prompt description (TEXT | STORED)</li>
<li><code>category</code>: Prompt category (TEXT | STORED)</li>
<li><code>tags</code>: Space-separated tags (TEXT | STORED)</li>
<li><code>template</code>: Prompt content (TEXT only)</li>
</ul>
<p><strong>Performance Characteristics</strong>:</p>
<ul>
<li><strong>Indexing</strong>: O(n log n) build time, O(log n) updates</li>
<li><strong>Query</strong>: O(log n) typical case</li>
<li><strong>Memory</strong>: ~50MB writer buffer + index size</li>
<li><strong>Strengths</strong>: Boolean queries, exact matching, fast retrieval</li>
<li><strong>Weaknesses</strong>: No semantic understanding, requires exact terms</li>
</ul>
<h3 id="3-semantic-search-engine"><a class="header" href="#3-semantic-search-engine">3. Semantic Search Engine</a></h3>
<p><strong>Implementation</strong>: <code>semantic/</code> modules</p>
<p><strong>Technology Stack</strong>:</p>
<ul>
<li><strong>Embeddings</strong>: ONNX Runtime with transformer models</li>
<li><strong>Vector Storage</strong>: DuckDB with vector similarity search extension</li>
<li><strong>Code Parsing</strong>: TreeSitter multi-language parser</li>
<li><strong>File Processing</strong>: Async I/O with tokio</li>
</ul>
<p><strong>Architecture</strong>:</p>
<pre><code class="language-rust">pub struct SemanticSearcher {
    storage: VectorStorage,
    embedding_engine: EmbeddingEngine,
    config: SemanticConfig,
}

pub struct VectorStorage {
    db: Connection,
    embeddings_table: String,
    chunks_table: String,
}

pub struct EmbeddingEngine {
    session: Session,
    tokenizer: Tokenizer,
    model_config: ModelConfig,
}</code></pre>
<p><strong>Database Schema</strong>:</p>
<pre><code class="language-sql">-- Code chunks table
CREATE TABLE chunks (
    id TEXT PRIMARY KEY,
    file_path TEXT NOT NULL,
    content TEXT NOT NULL,
    language TEXT,
    start_line INTEGER,
    end_line INTEGER,
    chunk_type TEXT,
    created_at TIMESTAMP DEFAULT now()
);

-- Vector embeddings table
CREATE TABLE embeddings (
    chunk_id TEXT PRIMARY KEY,
    embedding FLOAT[],
    embedding_model TEXT,
    created_at TIMESTAMP DEFAULT now(),
    FOREIGN KEY (chunk_id) REFERENCES chunks(id)
);
</code></pre>
<p><strong>Performance Characteristics</strong>:</p>
<ul>
<li><strong>Indexing</strong>: O(n*k) where k=embedding dimension (384-1536)</li>
<li><strong>Query</strong>: O(n) similarity calculation with HNSW optimization</li>
<li><strong>Memory</strong>: Model size (100MB-2GB) + embeddings cache</li>
<li><strong>Strengths</strong>: Semantic understanding, cross-language search</li>
<li><strong>Weaknesses</strong>: High memory usage, slower than text search</li>
</ul>
<h2 id="indexing-strategies"><a class="header" href="#indexing-strategies">Indexing Strategies</a></h2>
<h3 id="text-index-management"><a class="header" href="#text-index-management">Text Index Management</a></h3>
<p><strong>Index Creation</strong>:</p>
<pre><code class="language-rust">// In-memory index (default)
let engine = SearchEngine::new()?;

// Persistent index
let engine = SearchEngine::with_directory("/path/to/index")?;</code></pre>
<p><strong>Index Updates</strong>:</p>
<ul>
<li><strong>Incremental</strong>: Add/remove individual prompts</li>
<li><strong>Batch</strong>: Bulk updates with commit optimization</li>
<li><strong>Rebuild</strong>: Full index reconstruction</li>
</ul>
<p><strong>Index Persistence</strong>:</p>
<ul>
<li>Memory-mapped files for fast loading</li>
<li>Atomic commits to prevent corruption</li>
<li>Configurable buffer sizes for performance tuning</li>
</ul>
<h3 id="vector-index-management"><a class="header" href="#vector-index-management">Vector Index Management</a></h3>
<p><strong>Embedding Generation</strong>:</p>
<pre><code class="language-rust">// Code chunk processing pipeline
CodeFile -&gt; TreeSitter Parse -&gt; Chunks -&gt; Embeddings -&gt; Storage</code></pre>
<p><strong>Vector Storage</strong>:</p>
<ul>
<li><strong>Chunking Strategy</strong>: Function/class-level granularity</li>
<li><strong>Embedding Models</strong>: Configurable ONNX models</li>
<li><strong>Similarity Metrics</strong>: Cosine similarity (default)</li>
<li><strong>Index Types</strong>: HNSW for approximate nearest neighbor</li>
</ul>
<p><strong>Update Strategies</strong>:</p>
<ul>
<li><strong>Lazy Updates</strong>: Generate embeddings on first search</li>
<li><strong>Eager Updates</strong>: Pre-compute all embeddings</li>
<li><strong>Incremental</strong>: Update only changed files</li>
</ul>
<h2 id="query-processing-pipeline"><a class="header" href="#query-processing-pipeline">Query Processing Pipeline</a></h2>
<h3 id="1-query-analysis"><a class="header" href="#1-query-analysis">1. Query Analysis</a></h3>
<pre><code class="language-rust">enum QueryType {
    Simple(String),
    Regex(String),
    Boolean(BooleanQuery),
    Semantic(SemanticQuery),
}</code></pre>
<h3 id="2-strategy-selection"><a class="header" href="#2-strategy-selection">2. Strategy Selection</a></h3>
<pre><code class="language-rust">impl SearchEngine {
    fn select_strategy(&amp;self, query: &amp;Query) -&gt; SearchStrategy {
        match query {
            Query { regex: true, .. } =&gt; SearchStrategy::Regex,
            Query { semantic: true, .. } =&gt; SearchStrategy::Semantic,
            Query { fuzzy: true, .. } =&gt; SearchStrategy::Fuzzy,
            _ =&gt; SearchStrategy::Hybrid,
        }
    }
}</code></pre>
<h3 id="3-result-aggregation"><a class="header" href="#3-result-aggregation">3. Result Aggregation</a></h3>
<pre><code class="language-rust">pub fn hybrid_search(&amp;self, query: &amp;str, prompts: &amp;[Prompt]) -&gt; Result&lt;Vec&lt;SearchResult&gt;&gt; {
    let mut results = HashMap::new();
    
    // Combine multiple search strategies
    let text_results = self.search(query, prompts)?;
    let fuzzy_results = self.fuzzy_search(query, prompts);
    
    // Merge and deduplicate results
    // Score normalization and ranking
    
    Ok(final_results)
}</code></pre>
<h2 id="performance-optimization-2"><a class="header" href="#performance-optimization-2">Performance Optimization</a></h2>
<h3 id="caching-strategies"><a class="header" href="#caching-strategies">Caching Strategies</a></h3>
<p><strong>Query Result Caching</strong>:</p>
<ul>
<li>LRU cache for frequent queries</li>
<li>TTL-based invalidation</li>
<li>Configurable cache size limits</li>
</ul>
<p><strong>Index Caching</strong>:</p>
<ul>
<li>Memory-mapped index files</li>
<li>Lazy loading of index segments</li>
<li>Background index warming</li>
</ul>
<p><strong>Embedding Caching</strong>:</p>
<ul>
<li>Persistent embedding storage</li>
<li>Model result caching</li>
<li>Batch processing optimization</li>
</ul>
<h3 id="memory-management"><a class="header" href="#memory-management">Memory Management</a></h3>
<p><strong>Memory Usage Patterns</strong>:</p>
<pre><code>Component               | Memory Usage
------------------------|----------------------------------
Fuzzy Search           | O(1) - no additional memory
Full-Text Index        | O(index_size) ~ 10-20% of data
Semantic Embeddings    | O(chunks * dimensions) ~ 1-5GB
Model Loading          | 100MB - 2GB depending on model
Result Sets            | O(result_count * prompt_size)
</code></pre>
<p><strong>Optimization Strategies</strong>:</p>
<ul>
<li>Stream processing for large result sets</li>
<li>Configurable result limits</li>
<li>Memory-mapped storage for large indices</li>
<li>Model quantization for embedding models</li>
</ul>
<h3 id="performance-tuning"><a class="header" href="#performance-tuning">Performance Tuning</a></h3>
<p><strong>Configuration Parameters</strong>:</p>
<pre><code class="language-rust">pub struct SearchConfig {
    // Full-text search
    pub tantivy_writer_buffer_size: usize,
    pub tantivy_merge_policy: MergePolicy,
    
    // Semantic search
    pub embedding_batch_size: usize,
    pub similarity_threshold: f32,
    pub max_results_per_query: usize,
    
    // Hybrid search
    pub score_combination_strategy: ScoreStrategy,
    pub result_deduplication: bool,
}</code></pre>
<p><strong>Benchmarking Results</strong>:</p>
<pre><code>Search Type     | Latency (p50) | Latency (p99) | Throughput
----------------|---------------|---------------|------------
Fuzzy Search    | 2ms          | 8ms           | 500 qps
Full-Text       | 5ms          | 15ms          | 200 qps
Semantic        | 50ms         | 150ms         | 20 qps
Hybrid          | 25ms         | 80ms          | 40 qps
</code></pre>
<h2 id="scalability-considerations"><a class="header" href="#scalability-considerations">Scalability Considerations</a></h2>
<h3 id="data-size-limits"><a class="header" href="#data-size-limits">Data Size Limits</a></h3>
<p><strong>Recommended Limits</strong>:</p>
<ul>
<li><strong>Prompts</strong>: Up to 100,000 prompts</li>
<li><strong>Code Files</strong>: Up to 1 million files</li>
<li><strong>Index Size</strong>: Up to 10GB total</li>
<li><strong>Concurrent Users</strong>: Up to 100 simultaneous searches</li>
</ul>
<h3 id="scaling-strategies"><a class="header" href="#scaling-strategies">Scaling Strategies</a></h3>
<p><strong>Horizontal Scaling</strong>:</p>
<ul>
<li>Distributed search with result merging</li>
<li>Sharded indices by category/source</li>
<li>Load balancing across search nodes</li>
</ul>
<p><strong>Vertical Scaling</strong>:</p>
<ul>
<li>Memory optimization for large datasets</li>
<li>SSD storage for persistent indices</li>
<li>GPU acceleration for semantic search</li>
</ul>
<h2 id="integration-points"><a class="header" href="#integration-points">Integration Points</a></h2>
<h3 id="mcp-server-integration"><a class="header" href="#mcp-server-integration">MCP Server Integration</a></h3>
<pre><code class="language-rust">pub struct McpSearchHandler {
    search_engine: Arc&lt;SearchEngine&gt;,
    semantic_searcher: Arc&lt;SemanticSearcher&gt;,
}</code></pre>
<h3 id="cli-integration"><a class="header" href="#cli-integration">CLI Integration</a></h3>
<pre><code class="language-rust">pub async fn handle_search_command(
    args: SearchArgs,
    prompt_library: &amp;PromptLibrary,
) -&gt; Result&lt;()&gt; {
    // Route to appropriate search engine
    // Format results for terminal display
}</code></pre>
<h3 id="library-api"><a class="header" href="#library-api">Library API</a></h3>
<pre><code class="language-rust">pub trait SearchProvider {
    fn search(&amp;self, query: &amp;SearchQuery) -&gt; Result&lt;Vec&lt;SearchResult&gt;&gt;;
    fn suggest(&amp;self, partial: &amp;str) -&gt; Result&lt;Vec&lt;String&gt;&gt;;
    fn similar(&amp;self, item_id: &amp;str) -&gt; Result&lt;Vec&lt;SearchResult&gt;&gt;;
}</code></pre>
<h2 id="future-enhancements"><a class="header" href="#future-enhancements">Future Enhancements</a></h2>
<h3 id="planned-features"><a class="header" href="#planned-features">Planned Features</a></h3>
<ul>
<li><strong>Vector Database</strong>: Migration to specialized vector DB (Qdrant/Weaviate)</li>
<li><strong>Hybrid Retrieval</strong>: BM25 + vector search combination</li>
<li><strong>Query Expansion</strong>: Automatic query term expansion</li>
<li><strong>Personalization</strong>: User-specific result ranking</li>
<li><strong>Real-time Updates</strong>: Streaming index updates</li>
</ul>
<h3 id="research-directions"><a class="header" href="#research-directions">Research Directions</a></h3>
<ul>
<li><strong>Multi-modal Embeddings</strong>: Code + documentation + comments</li>
<li><strong>Graph-based Search</strong>: Code dependency graph traversal</li>
<li><strong>Federated Search</strong>: Cross-repository search capabilities</li>
<li><strong>Explainable Rankings</strong>: Search result explanations</li>
</ul>
<h2 id="troubleshooting-11"><a class="header" href="#troubleshooting-11">Troubleshooting</a></h2>
<h3 id="common-issues-4"><a class="header" href="#common-issues-4">Common Issues</a></h3>
<p><strong>Index Corruption</strong>:</p>
<pre><code class="language-bash"># Rebuild text index
rm -rf ~/.swissarmyhammer/index
swissarmyhammer search --rebuild-index

# Rebuild semantic index
swissarmyhammer search --rebuild-embeddings
</code></pre>
<p><strong>Memory Issues</strong>:</p>
<pre><code class="language-bash"># Reduce memory usage
export SWISSARMYHAMMER_MAX_RESULTS=100
export SWISSARMYHAMMER_EMBEDDING_BATCH_SIZE=10
</code></pre>
<p><strong>Performance Problems</strong>:</p>
<pre><code class="language-bash"># Enable search timing
swissarmyhammer search --timing "query"

# Profile search performance
swissarmyhammer search --profile "detailed query"
</code></pre>
<h3 id="monitoring"><a class="header" href="#monitoring">Monitoring</a></h3>
<p><strong>Metrics to Track</strong>:</p>
<ul>
<li>Query latency percentiles</li>
<li>Index size growth</li>
<li>Memory usage patterns</li>
<li>Cache hit rates</li>
<li>Error rates by search type</li>
</ul>
<p><strong>Logging Configuration</strong>:</p>
<pre><code class="language-rust">// Enable debug logging for search
RUST_LOG=swissarmyhammer::search=debug cargo run</code></pre>
<h2 id="see-also-5"><a class="header" href="#see-also-5">See Also</a></h2>
<ul>
<li><a href="./search-guide.html">Search Guide</a> - User guide for search features</li>
<li><a href="./cli-search.html">CLI Search Reference</a> - Command-line interface</li>
<li><a href="./performance.html">Performance Tuning</a> - Optimization guidelines</li>
<li><a href="./index-management.html">Index Management</a> - Index maintenance guide</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="index-management-guide"><a class="header" href="#index-management-guide">Index Management Guide</a></h1>
<p>This guide covers the management, maintenance, and optimization of SwissArmyHammer’s search indices. The system maintains multiple types of indices to support different search strategies, each requiring specific management approaches.</p>
<h2 id="index-types-overview"><a class="header" href="#index-types-overview">Index Types Overview</a></h2>
<p>SwissArmyHammer maintains three distinct index types:</p>
<ol>
<li><strong>Text Index</strong>: Tantivy-based full-text search index</li>
<li><strong>Vector Index</strong>: DuckDB-based semantic embeddings storage</li>
<li><strong>In-Memory Cache</strong>: Runtime fuzzy search acceleration</li>
</ol>
<h2 id="text-index-management-1"><a class="header" href="#text-index-management-1">Text Index Management</a></h2>
<h3 id="index-location-and-structure"><a class="header" href="#index-location-and-structure">Index Location and Structure</a></h3>
<p><strong>Default Locations</strong>:</p>
<pre><code class="language-bash"># User data directory
~/.swissarmyhammer/index/          # Text indices
~/.swissarmyhammer/cache/          # Temporary cache files

# Project-specific indices
.swissarmyhammer/index/            # Local project indices
.swissarmyhammer/semantic.db       # Semantic database
</code></pre>
<p><strong>Index Structure</strong>:</p>
<pre><code>index/
├── meta.json                      # Index metadata
├── segments/                      # Tantivy segments
│   ├── segment_0/
│   ├── segment_1/
│   └── ...
└── .managed                       # Management marker
</code></pre>
<h3 id="index-creation-and-rebuilding"><a class="header" href="#index-creation-and-rebuilding">Index Creation and Rebuilding</a></h3>
<p><strong>Automatic Index Creation</strong>:</p>
<pre><code class="language-bash"># Index is created automatically on first search
swissarmyhammer search "query"

# Force index rebuild
swissarmyhammer search --rebuild-index
</code></pre>
<p><strong>Manual Index Management</strong>:</p>
<pre><code class="language-bash"># Check index status
swissarmyhammer doctor --check-indices

# Rebuild all indices
swissarmyhammer index rebuild --all

# Rebuild specific index type
swissarmyhammer index rebuild --text
swissarmyhammer index rebuild --semantic
</code></pre>
<p><strong>Programmatic Index Creation</strong>:</p>
<pre><code class="language-rust">use swissarmyhammer::search::SearchEngine;

// Create in-memory index
let mut engine = SearchEngine::new()?;

// Create persistent index
let mut engine = SearchEngine::with_directory("/path/to/index")?;

// Index prompts
engine.index_prompts(&amp;prompts)?;
engine.commit()?;</code></pre>
<h3 id="index-updates-and-maintenance"><a class="header" href="#index-updates-and-maintenance">Index Updates and Maintenance</a></h3>
<p><strong>Incremental Updates</strong>:</p>
<pre><code class="language-rust">// Add new prompt to index
engine.index_prompt(&amp;new_prompt)?;
engine.commit()?;

// Batch updates for better performance
for prompt in new_prompts {
    engine.index_prompt(&amp;prompt)?;
}
engine.commit()?; // Single commit at the end</code></pre>
<p><strong>Index Optimization</strong>:</p>
<pre><code class="language-bash"># Optimize index segments
swissarmyhammer index optimize

# Force merge segments
swissarmyhammer index merge --force

# Compact index storage
swissarmyhammer index compact
</code></pre>
<p><strong>Configuration Options</strong>:</p>
<pre><code class="language-rust">// Tantivy writer configuration
let writer = index.writer_with_num_threads(2, 50_000_000)?;

// Custom merge policy
use tantivy::merge_policy::LogMergePolicy;
let merge_policy = LogMergePolicy::default()
    .set_min_merge_size(8)
    .set_min_layer_size(10_000);</code></pre>
<h3 id="text-index-monitoring"><a class="header" href="#text-index-monitoring">Text Index Monitoring</a></h3>
<p><strong>Index Statistics</strong>:</p>
<pre><code class="language-bash"># Get index information
swissarmyhammer index stats

# Detailed segment information
swissarmyhammer index stats --detailed
</code></pre>
<p><strong>Performance Metrics</strong>:</p>
<pre><code class="language-rust">pub struct IndexStats {
    pub total_documents: usize,
    pub total_segments: usize,
    pub index_size_bytes: u64,
    pub last_commit_timestamp: DateTime&lt;Utc&gt;,
    pub avg_query_time_ms: f64,
}</code></pre>
<h2 id="vector-index-management-1"><a class="header" href="#vector-index-management-1">Vector Index Management</a></h2>
<h3 id="semantic-database-structure"><a class="header" href="#semantic-database-structure">Semantic Database Structure</a></h3>
<p><strong>Database Schema</strong>:</p>
<pre><code class="language-sql">-- Code chunks metadata
CREATE TABLE chunks (
    id TEXT PRIMARY KEY,
    file_path TEXT NOT NULL,
    content TEXT NOT NULL,
    language TEXT,
    start_line INTEGER NOT NULL,
    end_line INTEGER NOT NULL,
    chunk_type TEXT NOT NULL,
    content_hash TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT now(),
    updated_at TIMESTAMP DEFAULT now()
);

-- Vector embeddings
CREATE TABLE embeddings (
    chunk_id TEXT PRIMARY KEY,
    embedding FLOAT[] NOT NULL,
    embedding_model TEXT NOT NULL,
    model_version TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT now(),
    FOREIGN KEY (chunk_id) REFERENCES chunks(id) ON DELETE CASCADE
);

-- Index metadata
CREATE TABLE index_metadata (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL,
    updated_at TIMESTAMP DEFAULT now()
);
</code></pre>
<h3 id="semantic-index-operations"><a class="header" href="#semantic-index-operations">Semantic Index Operations</a></h3>
<p><strong>Database Initialization</strong>:</p>
<pre><code class="language-bash"># Initialize semantic database
swissarmyhammer semantic init

# Check database schema
swissarmyhammer semantic schema --verify

# Migrate database schema
swissarmyhammer semantic migrate
</code></pre>
<p><strong>Embedding Generation</strong>:</p>
<pre><code class="language-bash"># Generate embeddings for codebase
swissarmyhammer semantic index /path/to/code

# Incremental embedding updates
swissarmyhammer semantic update --since last-commit

# Regenerate embeddings for specific files
swissarmyhammer semantic index --files "*.rs,*.py"
</code></pre>
<p><strong>Vector Index Configuration</strong>:</p>
<pre><code class="language-rust">pub struct SemanticConfig {
    pub database_path: PathBuf,
    pub embedding_model: String,
    pub batch_size: usize,
    pub max_chunk_size: usize,
    pub similarity_threshold: f32,
    pub index_update_strategy: UpdateStrategy,
}</code></pre>
<h3 id="embedding-model-management"><a class="header" href="#embedding-model-management">Embedding Model Management</a></h3>
<p><strong>Model Configuration</strong>:</p>
<pre><code class="language-bash"># List available embedding models
swissarmyhammer semantic models list

# Download and cache model
swissarmyhammer semantic models download sentence-transformers/all-MiniLM-L6-v2

# Set default model
swissarmyhammer semantic models set-default all-MiniLM-L6-v2

# Model information
swissarmyhammer semantic models info all-MiniLM-L6-v2
</code></pre>
<p><strong>Model Switching</strong>:</p>
<pre><code class="language-bash"># Switch to different model (requires re-indexing)
swissarmyhammer semantic models switch all-mpnet-base-v2 --reindex

# Compare models performance
swissarmyhammer semantic benchmark --models all-MiniLM-L6-v2,all-mpnet-base-v2
</code></pre>
<h3 id="vector-index-maintenance"><a class="header" href="#vector-index-maintenance">Vector Index Maintenance</a></h3>
<p><strong>Database Maintenance</strong>:</p>
<pre><code class="language-bash"># Vacuum database
swissarmyhammer semantic vacuum

# Analyze query performance
swissarmyhammer semantic analyze

# Repair corrupted database
swissarmyhammer semantic repair --backup
</code></pre>
<p><strong>Embedding Validation</strong>:</p>
<pre><code class="language-bash"># Validate embedding integrity
swissarmyhammer semantic validate

# Check for orphaned embeddings
swissarmyhammer semantic cleanup --dry-run
swissarmyhammer semantic cleanup --execute

# Verify embedding models consistency
swissarmyhammer semantic verify-models
</code></pre>
<h2 id="performance-optimization-3"><a class="header" href="#performance-optimization-3">Performance Optimization</a></h2>
<h3 id="index-performance-tuning"><a class="header" href="#index-performance-tuning">Index Performance Tuning</a></h3>
<p><strong>Text Index Optimization</strong>:</p>
<pre><code class="language-rust">// Writer configuration for performance
pub struct IndexConfig {
    pub writer_buffer_size: usize,      // Default: 50MB
    pub merge_policy: MergePolicy,      // LogMergePolicy recommended
    pub num_threads: usize,             // CPU cores
    pub commit_interval: Duration,      // Auto-commit frequency
}

// Performance settings
let config = IndexConfig {
    writer_buffer_size: 100_000_000,   // 100MB for large datasets
    num_threads: num_cpus::get(),      // Use all CPU cores
    commit_interval: Duration::from_secs(30), // Commit every 30s
    ..Default::default()
};</code></pre>
<p><strong>Vector Index Optimization</strong>:</p>
<pre><code class="language-rust">pub struct VectorIndexConfig {
    pub batch_size: usize,              // Embedding batch size
    pub connection_pool_size: usize,    // DB connection pool
    pub cache_size: usize,              // Result cache size
    pub similarity_cache_ttl: Duration, // Cache expiration
}</code></pre>
<h3 id="memory-management-1"><a class="header" href="#memory-management-1">Memory Management</a></h3>
<p><strong>Memory Usage Patterns</strong>:</p>
<pre><code class="language-bash"># Monitor memory usage
swissarmyhammer index stats --memory

# Set memory limits
export SWISSARMYHAMMER_MAX_MEMORY=4GB
export SWISSARMYHAMMER_INDEX_CACHE_SIZE=1GB
</code></pre>
<p><strong>Memory Optimization Strategies</strong>:</p>
<pre><code class="language-rust">// Streaming index updates for large datasets
pub fn stream_index_updates&lt;I&gt;(
    engine: &amp;mut SearchEngine,
    prompts: I,
    batch_size: usize,
) -&gt; Result&lt;()&gt;
where
    I: Iterator&lt;Item = Prompt&gt;,
{
    for batch in prompts.chunks(batch_size) {
        for prompt in batch {
            engine.index_prompt(&amp;prompt)?;
        }
        engine.commit()?; // Commit each batch
    }
    Ok(())
}</code></pre>
<h3 id="storage-optimization"><a class="header" href="#storage-optimization">Storage Optimization</a></h3>
<p><strong>Disk Usage Management</strong>:</p>
<pre><code class="language-bash"># Check storage usage
swissarmyhammer index disk-usage

# Clean temporary files
swissarmyhammer index clean --temp

# Archive old indices
swissarmyhammer index archive --older-than 30d
</code></pre>
<p><strong>Compression Settings</strong>:</p>
<pre><code class="language-rust">// Enable index compression
let index = Index::builder()
    .compression(Compression::Lz4)
    .block_size(16384)
    .build()?;</code></pre>
<h2 id="index-backup-and-recovery"><a class="header" href="#index-backup-and-recovery">Index Backup and Recovery</a></h2>
<h3 id="backup-strategies"><a class="header" href="#backup-strategies">Backup Strategies</a></h3>
<p><strong>Automated Backups</strong>:</p>
<pre><code class="language-bash"># Create full backup
swissarmyhammer backup create --type full --output backup.tar.gz

# Create incremental backup
swissarmyhammer backup create --type incremental --since last-backup

# Schedule regular backups
swissarmyhammer backup schedule --daily --retention 7d
</code></pre>
<p><strong>Manual Backup</strong>:</p>
<pre><code class="language-bash"># Backup text indices
tar -czf text-index-backup.tar.gz ~/.swissarmyhammer/index/

# Backup semantic database
cp ~/.swissarmyhammer/semantic.db semantic-backup.db

# Backup configuration
cp -r ~/.swissarmyhammer/config/ config-backup/
</code></pre>
<h3 id="recovery-procedures"><a class="header" href="#recovery-procedures">Recovery Procedures</a></h3>
<p><strong>Index Recovery</strong>:</p>
<pre><code class="language-bash"># Restore from backup
swissarmyhammer backup restore backup.tar.gz

# Rebuild from source
swissarmyhammer index rebuild --from-source

# Partial recovery
swissarmyhammer index recover --text-only
swissarmyhammer index recover --semantic-only
</code></pre>
<p><strong>Corruption Recovery</strong>:</p>
<pre><code class="language-bash"># Detect corruption
swissarmyhammer index verify

# Repair text index
swissarmyhammer index repair --text

# Repair semantic database
swissarmyhammer semantic repair --auto-fix

# Recovery from corruption
swissarmyhammer index recover --rebuild-corrupted
</code></pre>
<h2 id="troubleshooting-12"><a class="header" href="#troubleshooting-12">Troubleshooting</a></h2>
<h3 id="common-issues-5"><a class="header" href="#common-issues-5">Common Issues</a></h3>
<p><strong>Index Corruption</strong>:</p>
<pre><code class="language-bash"># Symptoms
# - Search results incomplete
# - Index verification failures
# - Crash during search operations

# Diagnosis
swissarmyhammer index verify --verbose
swissarmyhammer doctor --check-indices

# Resolution
swissarmyhammer index rebuild --force
</code></pre>
<p><strong>Performance Issues</strong>:</p>
<pre><code class="language-bash"># Symptoms
# - Slow search responses
# - High memory usage
# - Long indexing times

# Diagnosis
swissarmyhammer index stats --performance
swissarmyhammer index analyze --slow-queries

# Resolution
swissarmyhammer index optimize --aggressive
swissarmyhammer index config --tune-performance
</code></pre>
<p><strong>Storage Issues</strong>:</p>
<pre><code class="language-bash"># Symptoms
# - Disk space errors
# - Cannot create index
# - Write permission errors

# Diagnosis
swissarmyhammer index disk-usage --detailed
swissarmyhammer doctor --check-permissions

# Resolution
swissarmyhammer index clean --aggressive
sudo chown -R $USER ~/.swissarmyhammer/
</code></pre>
<h3 id="diagnostic-commands"><a class="header" href="#diagnostic-commands">Diagnostic Commands</a></h3>
<p><strong>Index Health Check</strong>:</p>
<pre><code class="language-bash"># Comprehensive health check
swissarmyhammer doctor --indices

# Specific checks
swissarmyhammer index health --text
swissarmyhammer index health --semantic
swissarmyhammer index health --all
</code></pre>
<p><strong>Performance Analysis</strong>:</p>
<pre><code class="language-bash"># Query performance profiling
swissarmyhammer search --profile "test query"

# Index performance metrics
swissarmyhammer index benchmark

# Memory usage analysis
swissarmyhammer index memory-profile
</code></pre>
<p><strong>Debug Information</strong>:</p>
<pre><code class="language-bash"># Enable debug logging
RUST_LOG=swissarmyhammer::search=debug swissarmyhammer search query

# Export debug information
swissarmyhammer debug export --indices

# Generate diagnostic report
swissarmyhammer doctor --report diagnostic-report.txt
</code></pre>
<h2 id="best-practices-13"><a class="header" href="#best-practices-13">Best Practices</a></h2>
<h3 id="index-management-best-practices"><a class="header" href="#index-management-best-practices">Index Management Best Practices</a></h3>
<ol>
<li>
<p><strong>Regular Maintenance</strong>:</p>
<ul>
<li>Schedule weekly index optimization</li>
<li>Monitor index size growth</li>
<li>Clean temporary files regularly</li>
</ul>
</li>
<li>
<p><strong>Performance Monitoring</strong>:</p>
<ul>
<li>Track query response times</li>
<li>Monitor memory usage patterns</li>
<li>Set up alerts for index corruption</li>
</ul>
</li>
<li>
<p><strong>Backup Strategy</strong>:</p>
<ul>
<li>Daily incremental backups</li>
<li>Weekly full backups</li>
<li>Test recovery procedures regularly</li>
</ul>
</li>
<li>
<p><strong>Configuration Management</strong>:</p>
<ul>
<li>Version control index configuration</li>
<li>Document performance tuning changes</li>
<li>Test configuration changes in development</li>
</ul>
</li>
</ol>
<h3 id="development-workflow-integration"><a class="header" href="#development-workflow-integration">Development Workflow Integration</a></h3>
<p><strong>CI/CD Integration</strong>:</p>
<pre><code class="language-yaml"># Example GitHub Actions workflow
- name: Update Search Index
  run: |
    swissarmyhammer index update --check-changes
    swissarmyhammer index optimize
    swissarmyhammer index verify
</code></pre>
<p><strong>Pre-commit Hooks</strong>:</p>
<pre><code class="language-bash">#!/bin/bash
# .git/hooks/pre-commit
swissarmyhammer index update --incremental
swissarmyhammer index verify --quick
</code></pre>
<h2 id="configuration-reference"><a class="header" href="#configuration-reference">Configuration Reference</a></h2>
<h3 id="environment-variables-6"><a class="header" href="#environment-variables-6">Environment Variables</a></h3>
<pre><code class="language-bash"># Index locations
export SWISSARMYHAMMER_INDEX_DIR="/custom/index/path"
export SWISSARMYHAMMER_SEMANTIC_DB="/custom/semantic.db"

# Performance tuning
export SWISSARMYHAMMER_INDEX_BUFFER_SIZE="100MB"
export SWISSARMYHAMMER_MAX_THREADS="8"
export SWISSARMYHAMMER_CACHE_SIZE="1GB"

# Maintenance settings
export SWISSARMYHAMMER_AUTO_OPTIMIZE="true"
export SWISSARMYHAMMER_BACKUP_RETENTION="30d"
</code></pre>
<h3 id="configuration-file-2"><a class="header" href="#configuration-file-2">Configuration File</a></h3>
<pre><code class="language-toml"># ~/.swissarmyhammer/config.toml
[index]
buffer_size = "50MB"
auto_optimize = true
backup_enabled = true

[index.text]
merge_policy = "log"
commit_interval = "30s"

[index.semantic]
model = "all-MiniLM-L6-v2"
batch_size = 32
similarity_threshold = 0.7

[performance]
max_results = 1000
cache_ttl = "1h"
memory_limit = "4GB"
</code></pre>
<h2 id="see-also-6"><a class="header" href="#see-also-6">See Also</a></h2>
<ul>
<li><a href="./search-architecture.html">Search Architecture</a> - System architecture overview</li>
<li><a href="./search-guide.html">Search Guide</a> - User guide for search features</li>
<li><a href="./performance.html">Performance Tuning</a> - Advanced optimization</li>
<li><a href="./troubleshooting.html">Troubleshooting</a> - General troubleshooting guide</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-and-debugging-guide"><a class="header" href="#testing-and-debugging-guide">Testing and Debugging Guide</a></h1>
<p>This guide covers testing strategies, debugging techniques, and best practices for working with SwissArmyHammer prompts.</p>
<h2 id="interactive-testing-1"><a class="header" href="#interactive-testing-1">Interactive Testing</a></h2>
<h3 id="basic-testing-workflow"><a class="header" href="#basic-testing-workflow">Basic Testing Workflow</a></h3>
<p>The <code>test</code> command provides an interactive environment for testing prompts:</p>
<pre><code class="language-bash"># Start interactive testing
swissarmyhammer test code-review
</code></pre>
<p>This will:</p>
<ol>
<li>Load the specified prompt</li>
<li>Prompt for required arguments</li>
<li>Show optional arguments with defaults</li>
<li>Render the template</li>
<li>Display the result</li>
<li>Offer additional actions (copy, save, retry)</li>
</ol>
<h3 id="testing-with-predefined-arguments"><a class="header" href="#testing-with-predefined-arguments">Testing with Predefined Arguments</a></h3>
<pre><code class="language-bash"># Test with known arguments
swissarmyhammer test code-review \
  --arg code="fn main() { println!(\"Hello\"); }" \
  --arg language="rust"

# Copy result directly to clipboard
swissarmyhammer test email-template \
  --arg recipient="John" \
  --arg subject="Meeting" \
  --copy
</code></pre>
<h2 id="debugging-template-issues"><a class="header" href="#debugging-template-issues">Debugging Template Issues</a></h2>
<h3 id="common-template-problems"><a class="header" href="#common-template-problems">Common Template Problems</a></h3>
<h4 id="missing-variables"><a class="header" href="#missing-variables">Missing Variables</a></h4>
<pre><code class="language-liquid">&lt;!-- Problem: undefined variable --&gt;
Hello {{name}}

&lt;!-- Solution: provide default --&gt;
Hello {{ name | default: "Guest" }}
</code></pre>
<h4 id="type-mismatches"><a class="header" href="#type-mismatches">Type Mismatches</a></h4>
<pre><code class="language-liquid">&lt;!-- Problem: trying to use string methods on numbers --&gt;
{{ count | upcase }}

&lt;!-- Solution: convert types --&gt;
{{ count | append: " items" }}
</code></pre>
<h4 id="loop-issues"><a class="header" href="#loop-issues">Loop Issues</a></h4>
<pre><code class="language-liquid">&lt;!-- Problem: not checking for empty arrays --&gt;
{% for item in items %}
  - {{ item }}
{% endfor %}

&lt;!-- Solution: check array exists and has items --&gt;
{% if items and items.size &gt; 0 %}
  {% for item in items %}
    - {{ item }}
  {% endfor %}
{% else %}
  No items found.
{% endif %}
</code></pre>
<h3 id="debug-mode-3"><a class="header" href="#debug-mode-3">Debug Mode</a></h3>
<p>Use debug mode to see detailed template processing:</p>
<pre><code class="language-bash">swissarmyhammer test prompt-name --debug
</code></pre>
<p>Debug output includes:</p>
<ul>
<li>Variable resolution steps</li>
<li>Filter application results</li>
<li>Conditional evaluation</li>
<li>Loop iteration details</li>
<li>Performance timing</li>
</ul>
<h2 id="validation-strategies"><a class="header" href="#validation-strategies">Validation Strategies</a></h2>
<h3 id="argument-validation-1"><a class="header" href="#argument-validation-1">Argument Validation</a></h3>
<p>Test with different argument combinations:</p>
<pre><code class="language-bash"># Test required arguments only
swissarmyhammer test prompt-name --arg required_arg="value"

# Test with all arguments
swissarmyhammer test prompt-name \
  --arg required_arg="value" \
  --arg optional_arg="optional_value"

# Test with edge cases
swissarmyhammer test prompt-name \
  --arg text="" \
  --arg number="0" \
  --arg array="[]"
</code></pre>
<h3 id="template-edge-cases"><a class="header" href="#template-edge-cases">Template Edge Cases</a></h3>
<p>Create test cases for common scenarios:</p>
<ol>
<li><strong>Empty inputs</strong></li>
<li><strong>Very long inputs</strong></li>
<li><strong>Special characters</strong></li>
<li><strong>Unicode content</strong></li>
<li><strong>Null/undefined values</strong></li>
</ol>
<h3 id="automated-testing"><a class="header" href="#automated-testing">Automated Testing</a></h3>
<p>For prompt libraries, create test scripts:</p>
<pre><code class="language-bash">#!/bin/bash
# test-all-prompts.sh

PROMPTS=$(swissarmyhammer search --json "" --limit 100 | jq -r '.results[].id')

for prompt in $PROMPTS; do
    echo "Testing $prompt..."
    if swissarmyhammer test "$prompt" --arg placeholder="test" 2&gt;/dev/null; then
        echo "✓ $prompt"
    else
        echo "✗ $prompt"
    fi
done
</code></pre>
<h2 id="performance-testing"><a class="header" href="#performance-testing">Performance Testing</a></h2>
<h3 id="measuring-render-time"><a class="header" href="#measuring-render-time">Measuring Render Time</a></h3>
<pre><code class="language-bash"># Time a complex template
time swissarmyhammer test complex-template \
  --arg large_data="$(cat large-file.json)"

# Use debug mode for detailed timing
swissarmyhammer test template-name --debug | grep "Performance:"
</code></pre>
<h3 id="memory-usage-testing"><a class="header" href="#memory-usage-testing">Memory Usage Testing</a></h3>
<p>For large templates or data:</p>
<pre><code class="language-bash"># Monitor memory usage during rendering
/usr/bin/time -v swissarmyhammer test large-template \
  --arg big_data="$(cat massive-dataset.json)"
</code></pre>
<h2 id="best-practices-14"><a class="header" href="#best-practices-14">Best Practices</a></h2>
<h3 id="writing-testable-prompts"><a class="header" href="#writing-testable-prompts">Writing Testable Prompts</a></h3>
<ol>
<li><strong>Provide sensible defaults</strong> for optional arguments</li>
<li><strong>Handle empty/null inputs</strong> gracefully</li>
<li><strong>Use meaningful argument names</strong></li>
<li><strong>Include example values</strong> in descriptions</li>
<li><strong>Test with realistic data sizes</strong></li>
</ol>
<h3 id="testing-workflow"><a class="header" href="#testing-workflow">Testing Workflow</a></h3>
<ol>
<li><strong>Start simple</strong>: Test with minimal arguments</li>
<li><strong>Add complexity</strong>: Test with full argument sets</li>
<li><strong>Test edge cases</strong>: Empty, null, large inputs</li>
<li><strong>Validate output</strong>: Ensure rendered content makes sense</li>
<li><strong>Performance check</strong>: Verify reasonable render times</li>
</ol>
<h3 id="debugging-tips-1"><a class="header" href="#debugging-tips-1">Debugging Tips</a></h3>
<ol>
<li><strong>Use debug mode</strong> for complex templates</li>
<li><strong>Test filters individually</strong> in simple templates</li>
<li><strong>Validate JSON/YAML</strong> with external tools</li>
<li><strong>Check argument types</strong> match expectations</li>
<li><strong>Use raw mode</strong> to see unprocessed templates</li>
</ol>
<h2 id="integration-with-development"><a class="header" href="#integration-with-development">Integration with Development</a></h2>
<h3 id="ide-integration-1"><a class="header" href="#ide-integration-1">IDE Integration</a></h3>
<p>Many editors support SwissArmyHammer testing:</p>
<pre><code class="language-bash"># VS Code task example
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Test Current Prompt",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": ["test", "${fileBasenameNoExtension}"],
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    }
  ]
}
</code></pre>
<h3 id="continuous-integration"><a class="header" href="#continuous-integration">Continuous Integration</a></h3>
<p>Add prompt testing to CI pipelines:</p>
<pre><code class="language-yaml"># .github/workflows/test-prompts.yml
name: Test Prompts
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install SwissArmyHammer
        run: cargo install --git https://github.com/swissarmyhammer/swissarmyhammer.git swissarmyhammer-cli
      - name: Test all prompts
        run: |
          for prompt in prompts/*.md; do
            name=$(basename "$prompt" .md)
            echo "Testing $name..."
            swissarmyhammer test "$name" --arg test="ci_validation"
          done
</code></pre>
<h2 id="see-also-7"><a class="header" href="#see-also-7">See Also</a></h2>
<ul>
<li><a href="./cli-test.html"><code>test</code> command</a> - Command reference</li>
<li><a href="./template-variables.html">Template Variables</a> - Template syntax</li>
<li><a href="./custom-filters.html">Custom Filters</a> - Filter reference</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-4"><a class="header" href="#configuration-4">Configuration</a></h1>
<p>SwissArmyHammer offers flexible configuration options through configuration files, environment variables, and command-line arguments. This guide covers all configuration methods and settings.</p>
<h2 id="configuration-file-3"><a class="header" href="#configuration-file-3">Configuration File</a></h2>
<h3 id="location"><a class="header" href="#location">Location</a></h3>
<p>SwissArmyHammer looks for configuration files in this order:</p>
<ol>
<li><code>./swissarmyhammer.toml</code> (current directory)</li>
<li><code>~/.swissarmyhammer/config.toml</code> (user directory)</li>
<li><code>/etc/swissarmyhammer/config.toml</code> (system-wide)</li>
</ol>
<h3 id="format"><a class="header" href="#format">Format</a></h3>
<p>Configuration uses TOML format:</p>
<pre><code class="language-toml"># ~/.swissarmyhammer/config.toml

# Server configuration
[server]
host = "localhost"
port = 8080
debug = false
timeout = 30000  # milliseconds

# Prompt directories
[prompts]
directories = [
    "~/.swissarmyhammer/prompts",
    "./.swissarmyhammer/prompts",
    "/opt/company/prompts"
]
builtin = true
watch = true

# File watching configuration
[watch]
enabled = true
poll_interval = 1000  # milliseconds
max_depth = 5
ignore_patterns = [
    "*.tmp",
    "*.swp",
    ".git/*",
    "__pycache__/*"
]

# Logging configuration
[log]
level = "info"  # debug, info, warn, error
file = "~/.swissarmyhammer/logs/server.log"
rotate = true
max_size = "10MB"
max_age = 30  # days

# Cache configuration
[cache]
enabled = true
directory = "~/.swissarmyhammer/cache"
ttl = 3600  # seconds
max_size = "100MB"

# Template engine configuration
[template]
strict_variables = false
strict_filters = false
custom_filters_path = "~/.swissarmyhammer/filters"

# Security settings
[security]
allow_file_access = false
allow_network_access = false
sandbox_mode = true
allowed_domains = ["api.company.com", "github.com"]

# MCP specific settings
[mcp]
protocol_version = "1.0"
capabilities = ["prompts", "notifications"]
max_prompt_size = 1048576  # 1MB
compression = true
</code></pre>
<h2 id="environment-variables-7"><a class="header" href="#environment-variables-7">Environment Variables</a></h2>
<p>All configuration options can be set via environment variables:</p>
<h3 id="naming-convention"><a class="header" href="#naming-convention">Naming Convention</a></h3>
<ul>
<li>Prefix: <code>SWISSARMYHAMMER_</code></li>
<li>Nested values use underscores: <code>SECTION_KEY</code></li>
<li>Arrays use comma separation</li>
</ul>
<h3 id="examples-17"><a class="header" href="#examples-17">Examples</a></h3>
<pre><code class="language-bash"># Server settings
export SWISSARMYHAMMER_SERVER_HOST=0.0.0.0
export SWISSARMYHAMMER_SERVER_PORT=9000
export SWISSARMYHAMMER_SERVER_DEBUG=true

# Prompt directories (comma-separated)
export SWISSARMYHAMMER_PROMPTS_DIRECTORIES="/opt/prompts,~/my-prompts"
export SWISSARMYHAMMER_PROMPTS_BUILTIN=false

# Logging
export SWISSARMYHAMMER_LOG_LEVEL=debug
export SWISSARMYHAMMER_LOG_FILE=/var/log/swissarmyhammer.log

# File watching
export SWISSARMYHAMMER_WATCH_ENABLED=true
export SWISSARMYHAMMER_WATCH_POLL_INTERVAL=2000

# Security
export SWISSARMYHAMMER_SECURITY_SANDBOX_MODE=true
export SWISSARMYHAMMER_SECURITY_ALLOWED_DOMAINS="api.example.com,cdn.example.com"
</code></pre>
<h3 id="precedence"><a class="header" href="#precedence">Precedence</a></h3>
<p>Configuration precedence (highest to lowest):</p>
<ol>
<li>Command-line arguments</li>
<li>Environment variables</li>
<li>Configuration files</li>
<li>Default values</li>
</ol>
<h2 id="command-line-options"><a class="header" href="#command-line-options">Command-Line Options</a></h2>
<h3 id="global-options-1"><a class="header" href="#global-options-1">Global Options</a></h3>
<pre><code class="language-bash">swissarmyhammer [GLOBAL_OPTIONS] &lt;COMMAND&gt; [COMMAND_OPTIONS]

Global Options:
  --config &lt;FILE&gt;     Use specific configuration file
  --verbose          Enable verbose output
  --quiet            Suppress non-error output
  --no-color         Disable colored output
  --json             Output in JSON format
  --help             Show help information
  --version          Show version information
</code></pre>
<h3 id="per-command-configuration"><a class="header" href="#per-command-configuration">Per-Command Configuration</a></h3>
<p>Override configuration for specific commands:</p>
<pre><code class="language-bash"># Override server settings
swissarmyhammer serve --host 0.0.0.0 --port 9000 --debug

# Override prompt directories
swissarmyhammer serve --prompts /custom/prompts --no-builtin

# Override logging
swissarmyhammer serve --log-level debug --log-file server.log
</code></pre>
<h2 id="configuration-sections"><a class="header" href="#configuration-sections">Configuration Sections</a></h2>
<h3 id="server-configuration-1"><a class="header" href="#server-configuration-1">Server Configuration</a></h3>
<p>Controls the MCP server behavior:</p>
<pre><code class="language-toml">[server]
# Network binding
host = "localhost"      # IP address or hostname
port = 8080            # Port number (0 for auto-assign)

# Performance
workers = 4            # Number of worker threads
max_connections = 100  # Maximum concurrent connections
timeout = 30000        # Request timeout in milliseconds

# Debugging
debug = false          # Enable debug mode
trace = false          # Enable trace logging
metrics = true         # Enable metrics collection
</code></pre>
<h3 id="prompt-configuration"><a class="header" href="#prompt-configuration">Prompt Configuration</a></h3>
<p>Manages prompt loading and directories:</p>
<pre><code class="language-toml">[prompts]
# Directories to load prompts from
directories = [
    "~/.swissarmyhammer/prompts",    # User prompts
    "./.swissarmyhammer/prompts",                      # Project prompts
    "/opt/shared/prompts"             # Shared prompts
]

# Loading behavior
builtin = true          # Include built-in prompts
watch = true            # Enable file watching
recursive = true        # Scan directories recursively
follow_symlinks = false # Follow symbolic links

# Filtering
include_patterns = ["*.md", "*.markdown"]
exclude_patterns = ["*.draft.md", "test-*"]

# Validation
strict_validation = true     # Fail on invalid prompts
required_fields = ["name", "description"]
max_file_size = "1MB"       # Maximum prompt file size
</code></pre>
<h3 id="file-watching-1"><a class="header" href="#file-watching-1">File Watching</a></h3>
<p>Configure file system monitoring:</p>
<pre><code class="language-toml">[watch]
enabled = true              # Enable/disable watching
strategy = "efficient"      # efficient, aggressive, polling

# Polling strategy settings
poll_interval = 1000        # Milliseconds between polls
poll_timeout = 100          # Polling timeout

# Watch behavior
debounce = 500             # Milliseconds to wait for changes to settle
max_depth = 10             # Maximum directory depth
batch_events = true        # Batch multiple changes

# Ignore patterns
ignore_patterns = [
    "*.tmp",
    "*.swp",
    "*.bak",
    ".git/**",
    ".svn/**",
    "__pycache__/**",
    "node_modules/**"
]

# Performance
max_watches = 10000        # Maximum number of watches
event_buffer_size = 1000   # Event queue size
</code></pre>
<h3 id="logging"><a class="header" href="#logging">Logging</a></h3>
<p>Configure logging behavior:</p>
<pre><code class="language-toml">[log]
# Log level: trace, debug, info, warn, error
level = "info"

# Console output
console = true
console_format = "pretty"  # pretty, json, compact
console_colors = true

# File logging
file = "~/.swissarmyhammer/logs/server.log"
file_format = "json"
rotate = true
max_size = "10MB"
max_files = 5
max_age = 30  # days

# Log filtering
include_modules = ["server", "prompts"]
exclude_modules = ["watcher"]

# Performance
buffer_size = 8192
async = true
</code></pre>
<h3 id="cache-configuration"><a class="header" href="#cache-configuration">Cache Configuration</a></h3>
<p>Control caching behavior:</p>
<pre><code class="language-toml">[cache]
enabled = true
directory = "~/.swissarmyhammer/cache"

# Cache strategy
strategy = "lru"           # lru, lfu, ttl
max_entries = 1000
max_size = "100MB"

# Time-based settings
ttl = 3600                # Default TTL in seconds
refresh_ahead = 300       # Refresh cache 5 minutes before expiry

# Cache categories
[cache.prompts]
enabled = true
ttl = 7200

[cache.templates]
enabled = true
ttl = 3600

[cache.search]
enabled = false           # Disable search result caching
</code></pre>
<h3 id="template-engine"><a class="header" href="#template-engine">Template Engine</a></h3>
<p>Configure Liquid template processing:</p>
<pre><code class="language-toml">[template]
# Parsing
strict_variables = false   # Error on undefined variables
strict_filters = false     # Error on undefined filters
error_mode = "warn"        # warn, error, ignore

# Custom extensions
custom_filters_path = "~/.swissarmyhammer/filters"
custom_tags_path = "~/.swissarmyhammer/tags"

# Security
allow_includes = true
include_paths = ["~/.swissarmyhammer/includes"]
max_render_depth = 10
max_iterations = 1000

# Performance
cache_templates = true
compile_cache = "~/.swissarmyhammer/template_cache"
</code></pre>
<h3 id="security-settings"><a class="header" href="#security-settings">Security Settings</a></h3>
<p>Control security features:</p>
<pre><code class="language-toml">[security]
# Sandboxing
sandbox_mode = true        # Enable security sandbox
allow_file_access = false  # Allow template file access
allow_network_access = false # Allow network requests
allow_system_access = false # Allow system commands

# Network security
allowed_domains = [
    "api.company.com",
    "cdn.company.com",
    "github.com"
]
blocked_domains = [
    "malicious.site"
]

# File security
allowed_paths = [
    "~/Documents/projects",
    "/opt/shared/data"
]
blocked_paths = [
    "/etc",
    "/sys",
    "~/.ssh"
]

# Content security
max_input_size = "10MB"
max_output_size = "50MB"
sanitize_html = true
</code></pre>
<h2 id="configuration-profiles"><a class="header" href="#configuration-profiles">Configuration Profiles</a></h2>
<h3 id="using-profiles"><a class="header" href="#using-profiles">Using Profiles</a></h3>
<p>Define multiple configuration profiles:</p>
<pre><code class="language-toml"># Default configuration
[default]
server.host = "localhost"
server.port = 8080
log.level = "info"

# Development profile
[profiles.development]
server.debug = true
log.level = "debug"
cache.enabled = false
template.strict_variables = true

# Production profile
[profiles.production]
server.host = "0.0.0.0"
server.workers = 8
log.level = "warn"
security.sandbox_mode = true

# Testing profile
[profiles.test]
server.port = 0  # Auto-assign
log.file = "/tmp/test.log"
prompts.directories = ["./test/fixtures"]
</code></pre>
<h3 id="activating-profiles"><a class="header" href="#activating-profiles">Activating Profiles</a></h3>
<pre><code class="language-bash"># Via environment variable
export SWISSARMYHAMMER_PROFILE=production
swissarmyhammer serve

# Via command line
swissarmyhammer --profile development serve

# Multiple profiles (later overrides earlier)
swissarmyhammer --profile production --profile custom serve
</code></pre>
<h2 id="advanced-configuration"><a class="header" href="#advanced-configuration">Advanced Configuration</a></h2>
<h3 id="dynamic-configuration"><a class="header" href="#dynamic-configuration">Dynamic Configuration</a></h3>
<p>Load configuration from external sources:</p>
<pre><code class="language-toml">[config]
# Load additional config from URL
remote_config = "https://config.company.com/swissarmyhammer"
remote_check_interval = 300  # seconds

# Load from environment-specific file
env_config = "/etc/swissarmyhammer/config.${ENV}.toml"

# Merge strategy
merge_strategy = "deep"  # deep, shallow, replace
</code></pre>
<h3 id="hooks-configuration"><a class="header" href="#hooks-configuration">Hooks Configuration</a></h3>
<p>Configure lifecycle hooks:</p>
<pre><code class="language-toml">[hooks]
# Startup hooks
pre_start = [
    "~/scripts/pre-start.sh",
    "/opt/swissarmyhammer/hooks/validate.py"
]
post_start = [
    "~/scripts/notify-start.sh"
]

# Shutdown hooks
pre_stop = [
    "~/scripts/save-state.sh"
]
post_stop = [
    "~/scripts/cleanup.sh"
]

# Prompt hooks
pre_load = "~/scripts/validate-prompt.sh"
post_load = "~/scripts/index-prompt.sh"

# Error hooks
on_error = "~/scripts/error-handler.sh"

# Hook configuration
[hooks.config]
timeout = 30           # seconds
fail_on_error = false  # Continue if hook fails
environment = {
    CUSTOM_VAR = "value"
}
</code></pre>
<h3 id="performance-tuning-1"><a class="header" href="#performance-tuning-1">Performance Tuning</a></h3>
<p>Optimize for different scenarios:</p>
<pre><code class="language-toml">[performance]
# Threading
thread_pool_size = 8
async_workers = 4
io_threads = 2

# Memory
max_memory = "2GB"
gc_interval = 300      # seconds
cache_pressure = 0.8   # Evict cache at 80% memory

# Network
connection_pool_size = 50
keep_alive = true
tcp_nodelay = true
socket_timeout = 30

# File I/O
read_buffer_size = 8192
write_buffer_size = 8192
use_mmap = true        # Memory-mapped files

# Optimizations
lazy_loading = true
parallel_parsing = true
compress_cache = true
</code></pre>
<h3 id="monitoring-configuration"><a class="header" href="#monitoring-configuration">Monitoring Configuration</a></h3>
<p>Enable monitoring and metrics:</p>
<pre><code class="language-toml">[monitoring]
enabled = true

# Metrics collection
[monitoring.metrics]
enabled = true
interval = 60          # seconds
retention = 7          # days

# Metrics to collect
collect = [
    "cpu_usage",
    "memory_usage",
    "prompt_count",
    "request_rate",
    "error_rate",
    "cache_hit_rate"
]

# Export metrics
[monitoring.export]
format = "prometheus"  # prometheus, json, statsd
endpoint = "http://metrics.company.com:9090"
labels = {
    service = "swissarmyhammer",
    environment = "production"
}

# Health checks
[monitoring.health]
enabled = true
endpoint = "/health"
checks = [
    "server_status",
    "prompt_loading",
    "file_watcher",
    "cache_status"
]
</code></pre>
<h2 id="configuration-examples"><a class="header" href="#configuration-examples">Configuration Examples</a></h2>
<h3 id="minimal-configuration"><a class="header" href="#minimal-configuration">Minimal Configuration</a></h3>
<pre><code class="language-toml"># Minimal working configuration
[server]
host = "localhost"
port = 8080

[prompts]
directories = ["~/.swissarmyhammer/prompts"]
</code></pre>
<h3 id="development-configuration"><a class="header" href="#development-configuration">Development Configuration</a></h3>
<pre><code class="language-toml"># Development-optimized configuration
[server]
host = "localhost"
port = 8080
debug = true

[prompts]
directories = [
    "./.swissarmyhammer/prompts",
    "~/.swissarmyhammer/prompts"
]
watch = true

[log]
level = "debug"
console = true

[cache]
enabled = false  # Disable caching for development

[template]
strict_variables = true  # Catch template errors early
</code></pre>
<h3 id="production-configuration"><a class="header" href="#production-configuration">Production Configuration</a></h3>
<pre><code class="language-toml"># Production-optimized configuration
[server]
host = "0.0.0.0"
port = 80
workers = 8
timeout = 60000

[prompts]
directories = [
    "/opt/swissarmyhammer/prompts",
    "/var/lib/swissarmyhammer/prompts"
]
builtin = true
watch = false  # Disable for performance

[log]
level = "warn"
file = "/var/log/swissarmyhammer/server.log"
rotate = true
max_size = "100MB"
max_files = 10

[cache]
enabled = true
strategy = "lru"
max_size = "1GB"

[security]
sandbox_mode = true
allow_file_access = false
allow_network_access = false

[monitoring]
enabled = true
metrics.enabled = true
health.enabled = true
</code></pre>
<h3 id="high-performance-configuration"><a class="header" href="#high-performance-configuration">High-Performance Configuration</a></h3>
<pre><code class="language-toml"># Optimized for high load
[server]
workers = 16
max_connections = 1000
timeout = 120000

[performance]
thread_pool_size = 32
async_workers = 16
connection_pool_size = 200
lazy_loading = true
parallel_parsing = true

[cache]
enabled = true
strategy = "lfu"
max_size = "4GB"
refresh_ahead = 600

[watch]
enabled = false  # Disable for performance

[log]
level = "error"  # Minimize logging overhead
async = true
buffer_size = 65536
</code></pre>
<h2 id="configuration-validation"><a class="header" href="#configuration-validation">Configuration Validation</a></h2>
<h3 id="validate-configuration"><a class="header" href="#validate-configuration">Validate Configuration</a></h3>
<pre><code class="language-bash"># Validate configuration file
swissarmyhammer config validate

# Validate specific file
swissarmyhammer config validate --file custom-config.toml

# Show effective configuration
swissarmyhammer config show

# Show configuration with sources
swissarmyhammer config show --sources
</code></pre>
<h3 id="configuration-schema"><a class="header" href="#configuration-schema">Configuration Schema</a></h3>
<pre><code class="language-bash"># Generate configuration schema
swissarmyhammer config schema &gt; config-schema.json

# Validate against schema
swissarmyhammer config validate --schema config-schema.json
</code></pre>
<h2 id="best-practices-15"><a class="header" href="#best-practices-15">Best Practices</a></h2>
<h3 id="1-use-profiles"><a class="header" href="#1-use-profiles">1. Use Profiles</a></h3>
<p>Separate configurations for different environments:</p>
<pre><code class="language-toml">[profiles.local]
server.debug = true

[profiles.staging]
server.host = "staging.company.com"

[profiles.production]
server.host = "0.0.0.0"
security.sandbox_mode = true
</code></pre>
<h3 id="2-secure-sensitive-data"><a class="header" href="#2-secure-sensitive-data">2. Secure Sensitive Data</a></h3>
<p>Never store secrets in configuration files:</p>
<pre><code class="language-toml"># Bad
api_key = "sk-1234567890abcdef"

# Good - use environment variables
api_key = "${API_KEY}"
</code></pre>
<h3 id="3-document-configuration"><a class="header" href="#3-document-configuration">3. Document Configuration</a></h3>
<p>Add comments explaining non-obvious settings:</p>
<pre><code class="language-toml"># Increase timeout for slow network environments
timeout = 60000  # 1 minute

# Disable caching during development to see changes immediately
[cache]
enabled = false  # Set to true in production for better performance
</code></pre>
<h3 id="4-version-control"><a class="header" href="#4-version-control">4. Version Control</a></h3>
<p>Track configuration changes:</p>
<pre><code class="language-bash"># .gitignore
config.local.toml
config.production.toml

# Track example configuration
config.example.toml
</code></pre>
<h3 id="5-validate-changes"><a class="header" href="#5-validate-changes">5. Validate Changes</a></h3>
<p>Always validate configuration changes:</p>
<pre><code class="language-bash"># Before deploying
swissarmyhammer config validate --file new-config.toml

# Test with dry run
swissarmyhammer serve --config new-config.toml --dry-run
</code></pre>
<h2 id="troubleshooting-13"><a class="header" href="#troubleshooting-13">Troubleshooting</a></h2>
<h3 id="configuration-not-loading"><a class="header" href="#configuration-not-loading">Configuration Not Loading</a></h3>
<ol>
<li>Check file exists and is readable</li>
<li>Validate TOML syntax</li>
<li>Check environment variable names</li>
<li>Review precedence order</li>
</ol>
<h3 id="performance-issues-4"><a class="header" href="#performance-issues-4">Performance Issues</a></h3>
<ol>
<li>Disable file watching in production</li>
<li>Tune cache settings</li>
<li>Adjust worker counts</li>
<li>Enable performance monitoring</li>
</ol>
<h3 id="security-warnings"><a class="header" href="#security-warnings">Security Warnings</a></h3>
<ol>
<li>Review security settings</li>
<li>Enable sandbox mode</li>
<li>Restrict file and network access</li>
<li>Update allowed domains</li>
</ol>
<h2 id="next-steps-12"><a class="header" href="#next-steps-12">Next Steps</a></h2>
<ul>
<li>See <a href="./cli-reference.html">CLI Reference</a> for command-line options</li>
<li>Learn about <a href="./file-watching.html">File Watching</a> configuration</li>
<li>Explore <a href="./troubleshooting.html">Troubleshooting</a> for common issues</li>
<li>Read <a href="./security.html">Security</a> for security best practices</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prompt-overrides"><a class="header" href="#prompt-overrides">Prompt Overrides</a></h1>
<p>SwissArmyHammer supports a hierarchical override system that allows you to customize prompts at different levels without modifying the original files.</p>
<h2 id="override-hierarchy"><a class="header" href="#override-hierarchy">Override Hierarchy</a></h2>
<p>Prompts are loaded and merged in this order (later overrides earlier):</p>
<pre><code>1. Built-in prompts (system)
   ↓
2. User prompts (~/.swissarmyhammer/prompts)
   ↓
3. Project prompts (./.swissarmyhammer/prompts)
   ↓
4. Runtime overrides (CLI/API)
</code></pre>
<h2 id="how-overrides-work"><a class="header" href="#how-overrides-work">How Overrides Work</a></h2>
<h3 id="complete-override"><a class="header" href="#complete-override">Complete Override</a></h3>
<p>Replace an entire prompt by using the same name:</p>
<pre><code class="language-markdown">&lt;!-- Built-in: /usr/share/swissarmyhammer/prompts/code-review.md --&gt;
---
name: code-review
title: Code Review
description: Reviews code for issues
arguments:
  - name: code
    required: true
---
Please review this code.

&lt;!-- User override: ~/.swissarmyhammer/prompts/code-review.md --&gt;
---
name: code-review
title: Enhanced Code Review
description: Comprehensive code analysis with security focus
arguments:
  - name: code
    required: true
  - name: security_check
    required: false
    default: true
---
Perform a detailed security-focused code review.
</code></pre>
<h3 id="partial-override"><a class="header" href="#partial-override">Partial Override</a></h3>
<p>Override specific fields while inheriting others:</p>
<pre><code class="language-yaml"># ~/.swissarmyhammer/overrides/code-review.yaml
name: code-review
extends: true  # Inherit from lower level
title: "Code Review (Company Standards)"
# Only override specific arguments
arguments:
  merge: true  # Merge with parent arguments
  items:
    - name: style_guide
      default: "company-style-guide.md"
</code></pre>
<h2 id="override-methods"><a class="header" href="#override-methods">Override Methods</a></h2>
<h3 id="1-file-based-overrides"><a class="header" href="#1-file-based-overrides">1. File-Based Overrides</a></h3>
<p>Create a prompt file with the same name at a higher level:</p>
<pre><code># Original
/usr/share/swissarmyhammer/prompts/development/python-analyzer.md

# User override
~/.swissarmyhammer/prompts/development/python-analyzer.md

# Project override
./.swissarmyhammer/prompts/development/python-analyzer.md
</code></pre>
<h3 id="2-override-configuration"><a class="header" href="#2-override-configuration">2. Override Configuration</a></h3>
<p>Use override files to modify prompts without duplicating:</p>
<pre><code class="language-yaml"># ~/.swissarmyhammer/overrides.yaml
overrides:
  - name: code-review
    # Override just the description
    description: "Code review with company standards"
    
  - name: api-generator
    # Add new arguments
    arguments:
      append:
        - name: auth_type
          default: "oauth2"
    
  - name: test-writer
    # Modify template content
    template:
      prepend: |
        # Company Test Standards
        Follow these guidelines:
        - Use pytest exclusively
        - Include docstrings
        
      append: |
        
        ## Additional Requirements
        - Minimum 80% coverage
        - Include integration tests
</code></pre>
<h3 id="3-runtime-overrides"><a class="header" href="#3-runtime-overrides">3. Runtime Overrides</a></h3>
<p>Override prompts at runtime via CLI or API:</p>
<pre><code class="language-bash"># Override prompt arguments
swissarmyhammer test code-review \
  --override title="Security Review" \
  --override description="Focus on security vulnerabilities"

# Override template content
swissarmyhammer test api-docs \
  --template-override prepend="# CONFIDENTIAL\n\n" \
  --template-override append="\n\n© 2024 Acme Corp"
</code></pre>
<h2 id="advanced-override-patterns"><a class="header" href="#advanced-override-patterns">Advanced Override Patterns</a></h2>
<h3 id="inheritance-chain"><a class="header" href="#inheritance-chain">Inheritance Chain</a></h3>
<p>Create a chain of inherited prompts:</p>
<pre><code class="language-yaml"># base-analyzer.yaml
name: base-analyzer
abstract: true  # Can't be used directly
title: Base Code Analyzer
arguments:
  - name: code
    required: true
  - name: language
    required: false

# python-analyzer.yaml
name: python-analyzer
extends: base-analyzer
title: Python Code Analyzer
arguments:
  merge: true
  items:
    - name: check_types
      default: true

# security-python-analyzer.yaml
name: security-python-analyzer
extends: python-analyzer
title: Security-Focused Python Analyzer
template:
  inherit: true
  prepend: |
    ## Security Analysis
    Focus on OWASP Top 10 vulnerabilities.
</code></pre>
<h3 id="conditional-overrides"><a class="header" href="#conditional-overrides">Conditional Overrides</a></h3>
<p>Apply overrides based on conditions:</p>
<pre><code class="language-yaml"># overrides.yaml
conditional_overrides:
  - condition:
      environment: production
    overrides:
      - name: all
        arguments:
          - name: verbose
            default: false
            
  - condition:
      user: qa-team
    overrides:
      - name: test-generator
        template:
          append: |
            Include edge case testing.
            
  - condition:
      project_type: web
    overrides:
      - name: security-scan
        arguments:
          - name: check_xss
            default: true
</code></pre>
<h3 id="template-merging"><a class="header" href="#template-merging">Template Merging</a></h3>
<p>Control how templates are merged:</p>
<pre><code class="language-yaml"># Override with template merging
name: api-docs
extends: true
template_merge:
  strategy: smart  # smart, prepend, append, replace
  sections:
    - match: "## Authentication"
      action: replace
      content: |
        ## Authentication
        Use OAuth 2.0 with PKCE flow.
    
    - match: "## Error Handling"
      action: append
      content: |
        
        ### Company Error Codes
        - 4001: Invalid API key
        - 4002: Rate limit exceeded
</code></pre>
<h2 id="project-specific-overrides"><a class="header" href="#project-specific-overrides">Project-Specific Overrides</a></h2>
<h3 id="directory-structure-5"><a class="header" href="#directory-structure-5">Directory Structure</a></h3>
<p>Organize project overrides:</p>
<pre><code>.swissarmyhammer/
├── prompts/           # Complete prompt overrides
│   └── code-review.md
├── overrides.yaml     # Partial overrides
├── templates/         # Template snippets
│   ├── header.md
│   └── footer.md
└── config.yaml       # Override configuration
</code></pre>
<h3 id="override-configuration"><a class="header" href="#override-configuration">Override Configuration</a></h3>
<p>Configure override behavior:</p>
<pre><code class="language-yaml"># .swissarmyhammer/config.yaml
overrides:
  # Enable/disable overrides
  enabled: true
  
  # Override precedence
  precedence:
    - runtime      # Highest priority
    - project
    - user
    - system      # Lowest priority
  
  # Merge strategies
  merge:
    arguments: deep     # deep, shallow, replace
    template: smart     # smart, simple, replace
    metadata: shallow   # deep, shallow, replace
  
  # Validation
  validation:
    strict: true
    require_base: false
    allow_new_fields: true
</code></pre>
<h2 id="use-cases-2"><a class="header" href="#use-cases-2">Use Cases</a></h2>
<h3 id="1-company-standards"><a class="header" href="#1-company-standards">1. Company Standards</a></h3>
<p>Enforce company-wide standards:</p>
<pre><code class="language-yaml"># ~/.swissarmyhammer/company-overrides.yaml
global_overrides:
  all_prompts:
    template:
      prepend: |
        # {{company}} Standards
        This output follows {{company}} guidelines.
        
    globals:
      company: "Acme Corp"
      support_email: "ai-support@acme.com"
</code></pre>
<h3 id="2-environment-specific"><a class="header" href="#2-environment-specific">2. Environment-Specific</a></h3>
<p>Different behavior per environment:</p>
<pre><code class="language-yaml"># Development overrides
development:
  overrides:
    - name: code-review
      arguments:
        - name: verbose
          default: true
        - name: include_suggestions
          default: true

# Production overrides
production:
  overrides:
    - name: code-review
      arguments:
        - name: verbose
          default: false
        - name: security_scan
          default: true
</code></pre>
<h3 id="3-team-customization"><a class="header" href="#3-team-customization">3. Team Customization</a></h3>
<p>Team-specific modifications:</p>
<pre><code class="language-yaml"># Frontend team overrides
team: frontend
overrides:
  - pattern: "*-component"
    template:
      prepend: |
        Use React 18+ features.
        Follow Material-UI guidelines.
        
  - name: test-writer
    arguments:
      - name: framework
        default: "jest"
      - name: include_snapshots
        default: true
</code></pre>
<h2 id="override-resolution"><a class="header" href="#override-resolution">Override Resolution</a></h2>
<h3 id="name-matching"><a class="header" href="#name-matching">Name Matching</a></h3>
<p>How prompts are matched for override:</p>
<ol>
<li><strong>Exact match</strong>: <code>code-review</code> matches <code>code-review</code></li>
<li><strong>Pattern match</strong>: <code>*-review</code> matches <code>code-review</code>, <code>security-review</code></li>
<li><strong>Category match</strong>: <code>category:development</code> matches all development prompts</li>
</ol>
<h3 id="conflict-resolution"><a class="header" href="#conflict-resolution">Conflict Resolution</a></h3>
<p>When multiple overrides apply:</p>
<pre><code class="language-yaml"># Resolution rules
conflict_resolution:
  # Strategy: first, last, merge, error
  strategy: merge
  
  # Priority (higher wins)
  priorities:
    exact_match: 100
    pattern_match: 50
    category_match: 10
    global: 1
</code></pre>
<h3 id="debugging-overrides"><a class="header" href="#debugging-overrides">Debugging Overrides</a></h3>
<p>See what overrides are applied:</p>
<pre><code class="language-bash"># Show override chain for a prompt
swissarmyhammer debug code-review --show-overrides

# Output:
Override chain for 'code-review':
1. System: /usr/share/swissarmyhammer/prompts/code-review.md
2. User: ~/.swissarmyhammer/prompts/code-review.md (extends)
3. Project: ./.swissarmyhammer/overrides.yaml (partial)
4. Runtime: --override title="Custom Review"

# Test with override preview
swissarmyhammer test code-review --preview-overrides
</code></pre>
<h2 id="best-practices-16"><a class="header" href="#best-practices-16">Best Practices</a></h2>
<h3 id="1-minimal-overrides"><a class="header" href="#1-minimal-overrides">1. Minimal Overrides</a></h3>
<p>Override only what needs to change:</p>
<pre><code class="language-yaml"># Good: Override specific fields
name: code-review
extends: true
description: "Code review with security focus"

# Avoid: Duplicating entire prompt
name: code-review
title: Code Review  # Unchanged
description: "Code review with security focus"  # Only this changed
arguments: [...]  # Duplicated
template: |       # Duplicated
  ...
</code></pre>
<h3 id="2-document-overrides"><a class="header" href="#2-document-overrides">2. Document Overrides</a></h3>
<p>Always document why overrides exist:</p>
<pre><code class="language-yaml"># overrides.yaml
overrides:
  - name: api-generator
    # OVERRIDE REASON: Company requires OAuth2 for all APIs
    # JIRA: SECURITY-123
    # Date: 2024-01-15
    arguments:
      - name: auth_type
        default: "oauth2"
        locked: true  # Prevent further overrides
</code></pre>
<h3 id="3-version-control"><a class="header" href="#3-version-control">3. Version Control</a></h3>
<p>Track override changes:</p>
<pre><code class="language-bash"># .swissarmyhammer/.gitignore
# Don't ignore override files
!overrides.yaml
!prompts/

# Track override history
git add .swissarmyhammer/overrides.yaml
git commit -m "Add security requirements to code-review prompt"
</code></pre>
<h3 id="4-testing-overrides"><a class="header" href="#4-testing-overrides">4. Testing Overrides</a></h3>
<p>Test overrides thoroughly:</p>
<pre><code class="language-bash"># Test override application
swissarmyhammer test code-review --test-overrides

# Compare with and without overrides
swissarmyhammer test code-review --no-overrides &gt; without.txt
swissarmyhammer test code-review &gt; with.txt
diff without.txt with.txt
</code></pre>
<h2 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h2>
<h3 id="lock-overrides"><a class="header" href="#lock-overrides">Lock Overrides</a></h3>
<p>Prevent certain overrides:</p>
<pre><code class="language-yaml"># System prompt with locked fields
---
name: security-scan
locked_fields:
  - title
  - core_checks
no_override: false  # Can't be overridden at all
</code></pre>
<h3 id="validate-overrides"><a class="header" href="#validate-overrides">Validate Overrides</a></h3>
<p>Ensure overrides meet requirements:</p>
<pre><code class="language-yaml"># Override validation rules
validation:
  rules:
    - field: arguments
      required_items:
        - name: code
        - name: language
    
    - field: template
      must_contain:
        - "SECURITY WARNING"
        - "Confidential"
      
    - field: description
      min_length: 50
      pattern: ".*security.*"
</code></pre>
<h2 id="troubleshooting-14"><a class="header" href="#troubleshooting-14">Troubleshooting</a></h2>
<h3 id="common-issues-6"><a class="header" href="#common-issues-6">Common Issues</a></h3>
<ol>
<li>
<p><strong>Override not applying</strong>:</p>
<pre><code class="language-bash"># Check override precedence
swissarmyhammer config get overrides.precedence

# Verify file locations
swissarmyhammer debug --show-paths
</code></pre>
</li>
<li>
<p><strong>Merge conflicts</strong>:</p>
<pre><code class="language-bash"># Show merge details
swissarmyhammer debug code-review --trace-merge
</code></pre>
</li>
<li>
<p><strong>Validation errors</strong>:</p>
<pre><code class="language-bash"># Validate overrides
swissarmyhammer validate --overrides
</code></pre>
</li>
</ol>
<h2 id="next-steps-13"><a class="header" href="#next-steps-13">Next Steps</a></h2>
<ul>
<li>Learn about <a href="./prompt-organization.html">Prompt Organization</a></li>
<li>Understand <a href="./configuration.html">Configuration</a> options</li>
<li>Read about <a href="./testing-guide.html">Testing</a> override scenarios</li>
<li>See <a href="./examples.html">Examples</a> of override patterns</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="built-in-prompts"><a class="header" href="#built-in-prompts">Built-in Prompts</a></h1>
<p>SwissArmyHammer includes a comprehensive set of built-in prompts designed to assist with various development tasks. These prompts use Liquid templating for dynamic, customizable assistance and are organized by category for easy discovery.</p>
<h2 id="overview-6"><a class="header" href="#overview-6">Overview</a></h2>
<p>All built-in prompts:</p>
<ul>
<li>Support customizable arguments with sensible defaults</li>
<li>Use Liquid syntax for variable substitution and control flow</li>
<li>Are organized into logical categories for easy discovery</li>
<li>Follow a standardized YAML front matter format</li>
</ul>
<h2 id="categories"><a class="header" href="#categories">Categories</a></h2>
<h3 id="system-management"><a class="header" href="#system-management">System Management</a></h3>
<h4 id="are_issues_complete"><a class="header" href="#are_issues_complete">are_issues_complete</a></h4>
<p>Check if the plan is complete.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test are_issues_complete
</code></pre>
<h4 id="are_reviews_done"><a class="header" href="#are_reviews_done">are_reviews_done</a></h4>
<p>Check if all the code review items are complete.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test are_reviews_done
</code></pre>
<h4 id="are_tests_passing"><a class="header" href="#are_tests_passing">are_tests_passing</a></h4>
<p>Check if all tests are passing.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test are_tests_passing
</code></pre>
<h3 id="issue-management"><a class="header" href="#issue-management">Issue Management</a></h3>
<h4 id="branch-issue_branch"><a class="header" href="#branch-issue_branch">branch (issue_branch)</a></h4>
<p>Create an issue work branch for the next issue to work</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test branch
</code></pre>
<h4 id="issue_complete"><a class="header" href="#issue_complete">issue_complete</a></h4>
<p>Mark an issue as complete</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test issue_complete
</code></pre>
<h3 id="code-development"><a class="header" href="#code-development">Code Development</a></h3>
<h4 id="codeissue-do_issue"><a class="header" href="#codeissue-do_issue">code/issue (do_issue)</a></h4>
<p>Code up an issue</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test code/issue
</code></pre>
<h4 id="codereview"><a class="header" href="#codereview">code/review</a></h4>
<p>Do Code Review</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test code/review
</code></pre>
<h3 id="version-control"><a class="header" href="#version-control">Version Control</a></h3>
<h4 id="commit"><a class="header" href="#commit">commit</a></h4>
<p>Commit your work to git.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test commit
</code></pre>
<h4 id="merge"><a class="header" href="#merge">merge</a></h4>
<p>Merge your work into the main branch.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test merge
</code></pre>
<h3 id="testing--quality"><a class="header" href="#testing--quality">Testing &amp; Quality</a></h3>
<h4 id="coverage"><a class="header" href="#coverage">coverage</a></h4>
<p>Improve coverage.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test coverage
</code></pre>
<h4 id="test"><a class="header" href="#test">test</a></h4>
<p>Iterate to correct test failures in the codebase.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test test
</code></pre>
<h3 id="debugging"><a class="header" href="#debugging">Debugging</a></h3>
<h4 id="debugerror"><a class="header" href="#debugerror">debug/error</a></h4>
<p>Analyze error messages and provide debugging guidance with potential solutions.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>error_message</code> (required) - The error message or stack trace to analyze</li>
<li><code>language</code> (default: “auto-detect”) - The programming language</li>
<li><code>context</code> (optional) - Additional context about when the error occurs</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test debug/error --arg error_message="TypeError: cannot read property 'name' of undefined" --arg language="javascript"
</code></pre>
<h4 id="debuglogs"><a class="header" href="#debuglogs">debug/logs</a></h4>
<p>Analyze log files to identify issues and patterns.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>log_content</code> (required) - The log content to analyze</li>
<li><code>issue_description</code> (default: “general analysis”) - Description of the issue you’re investigating</li>
<li><code>time_range</code> (default: “all”) - Specific time range to focus on</li>
<li><code>log_format</code> (default: “auto-detect”) - Log format (json, plaintext, syslog, etc.)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test debug/logs --arg log_content="$(cat application.log)" --arg issue_description="API timeout errors"
</code></pre>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<h4 id="document"><a class="header" href="#document">document</a></h4>
<p>Create documentation for the project</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test document
</code></pre>
<h4 id="docscomments"><a class="header" href="#docscomments">docs/comments</a></h4>
<p>Add comprehensive comments and documentation to code.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>code</code> (required) - The code to document</li>
<li><code>comment_style</code> (default: “auto-detect”) - Comment style (inline, block, jsdoc, docstring, rustdoc)</li>
<li><code>detail_level</code> (default: “standard”) - Level of detail (minimal, standard, comprehensive)</li>
<li><code>audience</code> (default: “developers”) - Target audience for the comments</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test docs/comments --arg code="$(cat utils.js)" --arg comment_style="jsdoc" --arg detail_level="comprehensive"
</code></pre>
<h4 id="docsreadme"><a class="header" href="#docsreadme">docs/readme</a></h4>
<p>Create comprehensive README documentation for a project.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>project_name</code> (required) - Name of the project</li>
<li><code>project_description</code> (required) - Brief description of what the project does</li>
<li><code>language</code> (default: “auto-detect”) - Primary programming language</li>
<li><code>features</code> (default: “”) - Key features of the project (comma-separated)</li>
<li><code>target_audience</code> (default: “developers”) - Who this project is for</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test docs/readme --arg project_name="MyLib" --arg project_description="A library for awesome things" --arg features="fast,reliable,easy"
</code></pre>
<h3 id="planning"><a class="header" href="#planning">Planning</a></h3>
<h4 id="plan"><a class="header" href="#plan">plan</a></h4>
<p>Generate a step by step development plan from a specification.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test plan
</code></pre>
<h3 id="code-review"><a class="header" href="#code-review">Code Review</a></h3>
<h4 id="reviewaccessibility"><a class="header" href="#reviewaccessibility">review/accessibility</a></h4>
<p>Review code for accessibility compliance and best practices.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>code</code> (required) - The UI/frontend code to review</li>
<li><code>wcag_level</code> (default: “AA”) - WCAG compliance level target (A, AA, AAA)</li>
<li><code>component_type</code> (default: “general”) - Type of component (form, navigation, content, interactive)</li>
<li><code>target_users</code> (default: “all users”) - Specific user needs to consider</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/accessibility --arg code="$(cat form.html)" --arg component_type="form" --arg wcag_level="AA"
</code></pre>
<h4 id="reviewbranch"><a class="header" href="#reviewbranch">review/branch</a></h4>
<p>Review code</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/branch
</code></pre>
<h4 id="reviewcode"><a class="header" href="#reviewcode">review/code</a></h4>
<p>Review code for quality, bugs, and improvements.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/code
</code></pre>
<h4 id="reviewdocumentation"><a class="header" href="#reviewdocumentation">review/documentation</a></h4>
<p>Review documentation</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/documentation
</code></pre>
<h4 id="reviewpatterns"><a class="header" href="#reviewpatterns">review/patterns</a></h4>
<p>Perform a comprehensive review of the code to improve pattern use.</p>
<p><strong>Arguments:</strong> None</p>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/patterns
</code></pre>
<h4 id="reviewsecurity"><a class="header" href="#reviewsecurity">review/security</a></h4>
<p>Perform a comprehensive security review of code to identify vulnerabilities.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>code</code> (required) - The code to review for security issues</li>
<li><code>context</code> (default: “general purpose code”) - Context about the code</li>
<li><code>language</code> (default: “auto-detect”) - Programming language</li>
<li><code>severity_threshold</code> (default: “low”) - Minimum severity to report (critical, high, medium, low)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test review/security --arg code="$(cat login.php)" --arg context="handles user authentication"
</code></pre>
<h3 id="prompt-management"><a class="header" href="#prompt-management">Prompt Management</a></h3>
<h4 id="promptscreate"><a class="header" href="#promptscreate">prompts/create</a></h4>
<p>Help create effective prompts for swissarmyhammer.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>purpose</code> (required) - What the prompt should accomplish</li>
<li><code>category</code> (default: “general”) - Category for the prompt</li>
<li><code>inputs_needed</code> (default: “”) - What information the prompt needs from users</li>
<li><code>complexity</code> (default: “moderate”) - Complexity level (simple, moderate, advanced)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test prompts/create --arg purpose="Generate database migrations" --arg category="database"
</code></pre>
<h4 id="promptsimprove"><a class="header" href="#promptsimprove">prompts/improve</a></h4>
<p>Analyze and enhance existing prompts for better effectiveness.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>prompt_content</code> (required) - The current prompt content (including YAML front matter)</li>
<li><code>improvement_goals</code> (default: “overall enhancement”) - What aspects to improve</li>
<li><code>user_feedback</code> (default: “”) - Any feedback or issues users have reported</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test prompts/improve --arg prompt_content="$(cat my-prompt.md)" --arg improvement_goals="clarity,flexibility"
</code></pre>
<h3 id="general-purpose"><a class="header" href="#general-purpose">General Purpose</a></h3>
<h4 id="help"><a class="header" href="#help">help</a></h4>
<p>A prompt for providing helpful assistance and guidance to users.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>topic</code> (default: “general assistance”) - The topic to get help about</li>
<li><code>detail_level</code> (default: “normal”) - How detailed the help should be (basic, normal, detailed)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test help --arg topic="git workflows" --arg detail_level="detailed"
</code></pre>
<h4 id="example-1"><a class="header" href="#example-1">example</a></h4>
<p>An example prompt for testing.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>topic</code> (default: “general topic”) - The topic to ask about</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test example --arg topic="testing prompts"
</code></pre>
<h4 id="say-hello"><a class="header" href="#say-hello">say-hello</a></h4>
<p>A simple greeting prompt that can be customized with name and language.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>name</code> (default: “friend”) - Name to greet</li>
<li><code>language</code> (default: “english”) - Language for the greeting</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">swissarmyhammer prompt test say-hello --arg name="Alice" --arg language="spanish"
</code></pre>
<h2 id="template-partials"><a class="header" href="#template-partials">Template Partials</a></h2>
<p>These <code>.md</code> files are partial templates used by other prompts for consistency:</p>
<ul>
<li><code>code.md</code> - Partial template for reuse in other prompts</li>
<li><code>coding_standards.md</code> - Coding Standards template</li>
<li><code>documentation.md</code> - Documentation template</li>
<li><code>empty.md</code> - Empty template</li>
<li><code>principals.md</code> - Principals template</li>
<li><code>review_format.md</code> - Review Format template</li>
<li><code>todo.md</code> - Todo template</li>
</ul>
<h2 id="usage-patterns"><a class="header" href="#usage-patterns">Usage Patterns</a></h2>
<h3 id="basic-usage-4"><a class="header" href="#basic-usage-4">Basic Usage</a></h3>
<pre><code class="language-bash"># Use a prompt with default arguments
swissarmyhammer prompt test review/code

# Specify custom arguments
swissarmyhammer prompt test debug/error --arg error_message="NullPointerException" --arg language="java"
</code></pre>
<h3 id="piping-content"><a class="header" href="#piping-content">Piping Content</a></h3>
<pre><code class="language-bash"># Use command substitution to pass file content
swissarmyhammer prompt test docs/comments --arg code="$(cat utils.py)" --arg comment_style="docstring"

# Pipe log content for analysis
cat error.log | xargs -I {} swissarmyhammer prompt test debug/logs --arg log_content="{}" --arg issue_description="memory leak"
</code></pre>
<h3 id="non-interactive-mode"><a class="header" href="#non-interactive-mode">Non-Interactive Mode</a></h3>
<pre><code class="language-bash"># Run prompts non-interactively with all arguments specified
swissarmyhammer prompt test help --arg topic="git" --arg detail_level="detailed"
</code></pre>
<h3 id="debugging-prompts"><a class="header" href="#debugging-prompts">Debugging Prompts</a></h3>
<pre><code class="language-bash"># Use debug mode to see template processing
swissarmyhammer prompt test debug/error --debug --arg error_message="Sample error"
</code></pre>
<h2 id="best-practices-17"><a class="header" href="#best-practices-17">Best Practices</a></h2>
<ol>
<li><strong>Choose the Right Prompt</strong> - Select prompts that match your specific task</li>
<li><strong>Provide Context</strong> - Use optional arguments to give more context when available</li>
<li><strong>Combine Prompts</strong> - Use multiple prompts in sequence for comprehensive workflows</li>
<li><strong>Test Arguments</strong> - Use the test command to verify prompt behavior before using in workflows</li>
<li><strong>Review Output</strong> - Always review and validate generated content before using it</li>
</ol>
<h2 id="creating-custom-prompts"><a class="header" href="#creating-custom-prompts">Creating Custom Prompts</a></h2>
<p>If the built-in prompts don’t meet your needs:</p>
<ol>
<li>Use the <code>prompts/create</code> prompt to generate a template</li>
<li>Save it in your <code>~/.swissarmyhammer/prompts/</code> directory</li>
<li>Follow the YAML front matter format for consistency</li>
<li>Test with various inputs to ensure reliability</li>
</ol>
<p>For more information on creating custom prompts, see <a href="./creating-prompts.html">Creating Prompts</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples-18"><a class="header" href="#examples-18">Examples</a></h1>
<p>This page provides real-world examples of using SwissArmyHammer for various development tasks. Each example demonstrates practical usage patterns and best practices for prompt engineering.</p>
<h2 id="overview-7"><a class="header" href="#overview-7">Overview</a></h2>
<p>SwissArmyHammer excels at organizing and managing prompts for:</p>
<ul>
<li><strong>Development workflows</strong> - Code review, testing, debugging</li>
<li><strong>Documentation tasks</strong> - API docs, user guides, technical writing</li>
<li><strong>Security analysis</strong> - Code audits, vulnerability assessment</li>
<li><strong>Content creation</strong> - Blog posts, marketing copy, educational materials</li>
<li><strong>Data processing</strong> - Analysis, transformation, reporting</li>
</ul>
<h2 id="new-advanced-prompts"><a class="header" href="#new-advanced-prompts">New Advanced Prompts</a></h2>
<h3 id="ai-code-assistant"><a class="header" href="#ai-code-assistant">AI Code Assistant</a></h3>
<p>Intelligent code assistance with context awareness:</p>
<pre><code class="language-markdown">---
title: AI Code Assistant
description: Intelligent code assistance with context awareness
category: development
tags: ["coding", "assistance", "refactoring", "optimization"]
arguments:
  - name: code
    description: The code to analyze and improve
    required: true
  - name: language
    description: Programming language
    required: true
  - name: task
    description: Specific task to perform
    required: true
    default: "improve"
  - name: context
    description: Additional context about the code
    required: false
---

# AI Code Assistant

You are an expert {{ language }} developer. Please help me with the following task: **{{ task }}**

## Code to analyze:

```{{ language }}
{{ code }}
</code></pre>
<p>{% if context %}</p>
<h2 id="additional-context"><a class="header" href="#additional-context">Additional context:</a></h2>
<p>{{ context }}
{% endif %}</p>
<h2 id="instructions"><a class="header" href="#instructions">Instructions:</a></h2>
<p>{% if task == “improve” %}
Please improve this code by:</p>
<ol>
<li>Identifying potential issues or inefficiencies</li>
<li>Suggesting optimizations</li>
<li>Ensuring best practices are followed</li>
<li>Improving readability and maintainability
{% elsif task == “refactor” %}
Please refactor this code to:</li>
<li>Improve structure and organization</li>
<li>Extract reusable components</li>
<li>Reduce complexity</li>
<li>Follow {{ language }} conventions
{% elsif task == “optimize” %}
Please optimize this code for:</li>
<li>Performance improvements</li>
<li>Memory efficiency</li>
<li>Algorithmic complexity</li>
<li>Resource usage
{% elsif task == “debug” %}
Please help debug this code by:</li>
<li>Identifying potential bugs</li>
<li>Analyzing logic errors</li>
<li>Suggesting fixes</li>
<li>Explaining the root cause
{% elsif task == “document” %}
Please document this code by:</li>
<li>Adding clear docstrings/comments</li>
<li>Explaining complex logic</li>
<li>Providing usage examples</li>
<li>Describing parameters and return values
{% else %}
Please analyze this code and provide assistance with: {{ task }}
{% endif %}</li>
</ol>
<h2 id="response-format"><a class="header" href="#response-format">Response format:</a></h2>
<ul>
<li><strong>Analysis</strong>: What you found in the code</li>
<li><strong>Recommendations</strong>: Specific improvements to make</li>
<li><strong>Updated Code</strong>: The improved version</li>
<li><strong>Explanation</strong>: Why these changes improve the code</li>
</ul>
<pre><code>
### Security Audit
Comprehensive security analysis following OWASP guidelines:
```markdown
---
title: Security Audit
description: Comprehensive security analysis and recommendations
category: security
tags: ["security", "audit", "vulnerability", "analysis"]
arguments:
  - name: code
    description: Code to audit for security issues
    required: true
  - name: language
    description: Programming language
    required: true
  - name: context
    description: Application context and environment
    required: false
  - name: compliance
    description: Compliance standards to check against
    required: false
    default: "OWASP"
  - name: severity_level
    description: Minimum severity level to report
    required: false
    default: "medium"
---

# Security Audit

You are a cybersecurity expert conducting a comprehensive security audit of {{ language }} code.

## Code to Audit

```{{ language }}
{{ code }}
</code></pre>
<p>{% if context %}</p>
<h2 id="application-context"><a class="header" href="#application-context">Application Context</a></h2>
<p>{{ context }}
{% endif %}</p>
<h2 id="audit-scope"><a class="header" href="#audit-scope">Audit Scope</a></h2>
<h3 id="security-standards"><a class="header" href="#security-standards">Security Standards</a></h3>
<p>{% if compliance == “OWASP” %}
Evaluate against OWASP Top 10 security risks:</p>
<ol>
<li><strong>A01:2021 - Broken Access Control</strong></li>
<li><strong>A02:2021 - Cryptographic Failures</strong></li>
<li><strong>A03:2021 - Injection</strong></li>
<li><strong>A04:2021 - Insecure Design</strong></li>
<li><strong>A05:2021 - Security Misconfiguration</strong></li>
<li><strong>A06:2021 - Vulnerable and Outdated Components</strong></li>
<li><strong>A07:2021 - Identification and Authentication Failures</strong></li>
<li><strong>A08:2021 - Software and Data Integrity Failures</strong></li>
<li><strong>A09:2021 - Security Logging and Monitoring Failures</strong></li>
<li><strong>A10:2021 - Server-Side Request Forgery (SSRF)</strong>
{% else %}
Evaluate against {{ compliance }} security standards and requirements.
{% endif %}</li>
</ol>
<h3 id="-language--capitalize--specific-security-concerns"><a class="header" href="#-language--capitalize--specific-security-concerns">{{ language | capitalize }}-Specific Security Concerns</a></h3>
<p>{% if language == “javascript” or language == “typescript” %}</p>
<ul>
<li><strong>XSS Prevention</strong>: Input sanitization and output encoding</li>
<li><strong>CSRF Protection</strong>: Token validation and SameSite cookies</li>
<li><strong>Prototype Pollution</strong>: Object property manipulation</li>
<li><strong>Dependency Vulnerabilities</strong>: Third-party package security</li>
<li><strong>Client-Side Security</strong>: Browser-specific vulnerabilities
{% elsif language == “python” %}</li>
<li><strong>SQL Injection</strong>: Query parameterization and ORM usage</li>
<li><strong>Code Injection</strong>: eval() and exec() usage</li>
<li><strong>Pickle Vulnerabilities</strong>: Insecure deserialization</li>
<li><strong>Path Traversal</strong>: File system access controls</li>
<li><strong>Dependency Management</strong>: Package security
{% elsif language == “java” %}</li>
<li><strong>Deserialization Vulnerabilities</strong>: Object deserialization</li>
<li><strong>XML External Entity (XXE)</strong>: XML parser configuration</li>
<li><strong>Path Traversal</strong>: File system access</li>
<li><strong>SQL Injection</strong>: PreparedStatement usage</li>
<li><strong>Reflection Attacks</strong>: Dynamic code execution
{% elsif language == “rust” %}</li>
<li><strong>Memory Safety</strong>: While Rust prevents many issues, check for unsafe blocks</li>
<li><strong>Integer Overflow</strong>: Arithmetic operations</li>
<li><strong>Dependency Security</strong>: Cargo.toml vulnerabilities</li>
<li><strong>Error Handling</strong>: Information disclosure
{% elsif language == “go” %}</li>
<li><strong>SQL Injection</strong>: Query parameterization</li>
<li><strong>Command Injection</strong>: exec.Command usage</li>
<li><strong>Path Traversal</strong>: Filepath handling</li>
<li><strong>Goroutine Security</strong>: Concurrent access patterns
{% else %}</li>
<li><strong>Input Validation</strong>: Data sanitization and validation</li>
<li><strong>Authentication</strong>: Access control mechanisms</li>
<li><strong>Cryptography</strong>: Secure implementations</li>
<li><strong>Error Handling</strong>: Information disclosure
{% endif %}</li>
</ul>
<h2 id="audit-report-format"><a class="header" href="#audit-report-format">Audit Report Format</a></h2>
<h3 id="executive-summary"><a class="header" href="#executive-summary">Executive Summary</a></h3>
<ul>
<li>Overall security posture</li>
<li>Critical findings count</li>
<li>Risk level assessment</li>
</ul>
<h3 id="detailed-findings"><a class="header" href="#detailed-findings">Detailed Findings</a></h3>
<p>For each vulnerability found:</p>
<h4 id="finding-n-vulnerability-name"><a class="header" href="#finding-n-vulnerability-name">Finding #N: [Vulnerability Name]</a></h4>
<ul>
<li><strong>Severity</strong>: {% if severity_level == “critical” %}CRITICAL{% elsif severity_level == “high” %}HIGH{% elsif severity_level == “medium” %}MEDIUM{% else %}LOW{% endif %} | HIGH | MEDIUM | LOW</li>
<li><strong>Category</strong>: [OWASP Category or Security Domain]</li>
<li><strong>Location</strong>: [File/Function/Line number]</li>
<li><strong>Description</strong>: Detailed explanation of the vulnerability</li>
<li><strong>Impact</strong>: Potential consequences if exploited</li>
<li><strong>Evidence</strong>: Code snippets demonstrating the issue</li>
<li><strong>Remediation</strong>: Specific steps to fix the vulnerability</li>
<li><strong>Resources</strong>: Links to relevant security guidelines</li>
</ul>
<h3 id="recommendations"><a class="header" href="#recommendations">Recommendations</a></h3>
<ol>
<li><strong>Immediate Actions</strong>: Critical issues requiring immediate attention</li>
<li><strong>Short-term Improvements</strong>: High-priority security enhancements</li>
<li><strong>Long-term Strategy</strong>: Ongoing security practices and policies</li>
<li><strong>Security Tools</strong>: Recommended tools for ongoing monitoring</li>
</ol>
<h3 id="secure-code-examples"><a class="header" href="#secure-code-examples">Secure Code Examples</a></h3>
<p>Provide corrected code examples that demonstrate:</p>
<ul>
<li>Proper input validation</li>
<li>Secure authentication/authorization</li>
<li>Safe data handling</li>
<li>Error handling best practices</li>
</ul>
<h2 id="compliance-check"><a class="header" href="#compliance-check">Compliance Check</a></h2>
<p>{% if compliance %}
Verify compliance with {{ compliance }} requirements and note any gaps.
{% endif %}</p>
<h2 id="security-best-practices"><a class="header" href="#security-best-practices">Security Best Practices</a></h2>
<p>Include relevant security best practices for {{ language }} development:</p>
<ul>
<li>Secure coding guidelines</li>
<li>Regular security testing</li>
<li>Dependency management</li>
<li>Security monitoring</li>
</ul>
<p>Report only findings at {{ severity_level }} severity level and above.</p>
<pre><code>
### Technical Writer
Professional technical documentation generation:
```markdown
---
title: Technical Writer
description: Generate technical documentation with proper structure
category: documentation
tags: ["documentation", "technical-writing", "api", "guides"]
arguments:
  - name: topic
    description: What to document
    required: true
  - name: audience
    description: Target audience level
    required: true
    default: "developers"
  - name: format
    description: Documentation format
    required: false
    default: "markdown"
  - name: sections
    description: Specific sections to include
    required: false
  - name: examples
    description: Include code examples
    required: false
    default: "true"
---

# Technical Writer

You are a skilled technical writer specializing in {{ format }} documentation for {{ audience }}.

## Task
Create comprehensive documentation for: **{{ topic }}**

## Target Audience
{{ audience | capitalize }} - adjust complexity and terminology accordingly.

## Documentation Requirements

### Structure
{% if format == "markdown" %}
Use clear Markdown formatting with:
- Proper heading hierarchy (# ## ###)
- Code blocks with syntax highlighting
- Tables for structured data
- Lists for step-by-step instructions
{% elsif format == "rst" %}
Use reStructuredText formatting with:
- Proper heading hierarchy (===, ---, ...)
- Code blocks with language specification
- Tables and lists for organization
- Cross-references where appropriate
{% else %}
Use {{ format }} best practices for formatting and structure.
{% endif %}

### Content Guidelines
1. **Clear and Concise**: Use simple, direct language
2. **Logical Flow**: Organize information in a logical sequence
3. **Actionable**: Provide specific, actionable instructions
4. **Complete**: Cover all necessary information
5. **Accessible**: Make content accessible to {{ audience }}

{% if sections %}
### Required Sections
Include these specific sections:
{{ sections }}
{% else %}
### Standard Sections
Include these standard sections:
- **Overview**: Brief introduction and purpose
- **Prerequisites**: What users need before starting
- **Getting Started**: Basic setup and first steps
- **Usage**: Detailed usage instructions
- **Examples**: Practical examples and use cases
- **Troubleshooting**: Common issues and solutions
- **Reference**: Detailed API or configuration reference
{% endif %}

{% if examples == "true" %}
### Code Examples
Include practical code examples that:
- Demonstrate real-world usage
- Are complete and runnable
- Include expected outputs
- Cover common use cases
- Follow best practices
{% endif %}

## Quality Standards
- **Accuracy**: Ensure all information is correct and up-to-date
- **Completeness**: Cover all aspects users need to know
- **Clarity**: Use clear, unambiguous language
- **Consistency**: Maintain consistent style and terminology
- **Usability**: Make documentation easy to navigate and use

## Output Format
Provide well-structured {{ format }} documentation that {{ audience }} can immediately use and understand.
</code></pre>
<h2 id="basic-prompt-usage"><a class="header" href="#basic-prompt-usage">Basic Prompt Usage</a></h2>
<h3 id="simple-code-review"><a class="header" href="#simple-code-review">Simple Code Review</a></h3>
<pre><code class="language-bash"># Review a Python file
swissarmyhammer test review/code --file_path "src/main.py"

# Review with specific focus
swissarmyhammer test review/code --file_path "api/auth.py" --context "focus on security and error handling"
</code></pre>
<h3 id="generate-unit-tests"><a class="header" href="#generate-unit-tests">Generate Unit Tests</a></h3>
<pre><code class="language-bash"># Generate tests for a function
swissarmyhammer test test/unit --code "$(cat calculator.py)" --framework "pytest"

# Generate tests with high coverage target
swissarmyhammer test test/unit --code "$(cat utils.js)" --framework "jest" --coverage_target "95"
</code></pre>
<h3 id="debug-an-error"><a class="header" href="#debug-an-error">Debug an Error</a></h3>
<pre><code class="language-bash"># Analyze an error message
swissarmyhammer test debug/error \
  --error_message "TypeError: Cannot read property 'name' of undefined" \
  --language "javascript" \
  --context "Happens when user submits form"
</code></pre>
<h2 id="creating-custom-prompts-1"><a class="header" href="#creating-custom-prompts-1">Creating Custom Prompts</a></h2>
<h3 id="basic-prompt-structure"><a class="header" href="#basic-prompt-structure">Basic Prompt Structure</a></h3>
<p>Create <code>~/.swissarmyhammer/prompts/my-prompt.md</code>:</p>
<pre><code class="language-markdown">---
name: git-commit-message
title: Git Commit Message Generator
description: Generate conventional commit messages from changes
arguments:
  - name: changes
    description: Description of changes made
    required: true
  - name: type
    description: Type of change (feat, fix, docs, etc.)
    required: false
    default: feat
  - name: scope
    description: Scope of the change
    required: false
    default: ""
---

# Git Commit Message

Based on the changes: {{changes}}

Generate a conventional commit message:

Type: {{type}}
{% if scope %}Scope: {{scope}}{% endif %}

Format: `{{type}}{% if scope %}({{scope}}){% endif %}: &lt;subject&gt;`

Subject should be:
- 50 characters or less
- Present tense
- No period at the end
- Clear and descriptive
</code></pre>
<p>Use it:</p>
<pre><code class="language-bash">swissarmyhammer test git-commit-message \
  --changes "Added user authentication with OAuth2" \
  --type "feat" \
  --scope "auth"
</code></pre>
<h3 id="advanced-template-with-conditionals"><a class="header" href="#advanced-template-with-conditionals">Advanced Template with Conditionals</a></h3>
<p>Create <code>~/.swissarmyhammer/prompts/database-query.md</code>:</p>
<pre><code class="language-markdown">---
name: database-query-optimizer
title: Database Query Optimizer
description: Optimize SQL queries for better performance
arguments:
  - name: query
    description: The SQL query to optimize
    required: true
  - name: database
    description: Database type (postgres, mysql, sqlite)
    required: false
    default: postgres
  - name: table_sizes
    description: Approximate table sizes (small, medium, large)
    required: false
    default: medium
  - name: indexes
    description: Available indexes (comma-separated)
    required: false
    default: ""
---

# SQL Query Optimization

## Original Query
```sql
{{query}}
</code></pre>
<h2 id="database-database--capitalize"><a class="header" href="#database-database--capitalize">Database: {{database | capitalize}}</a></h2>
<p>{% if database == “postgres” %}</p>
<h3 id="postgresql-specific-optimizations"><a class="header" href="#postgresql-specific-optimizations">PostgreSQL Specific Optimizations</a></h3>
<ul>
<li>Consider using EXPLAIN ANALYZE</li>
<li>Check for missing indexes on JOIN columns</li>
<li>Use CTEs for complex queries</li>
<li>Consider partial indexes for WHERE conditions
{% elsif database == “mysql” %}</li>
</ul>
<h3 id="mysql-specific-optimizations"><a class="header" href="#mysql-specific-optimizations">MySQL Specific Optimizations</a></h3>
<ul>
<li>Use EXPLAIN to check execution plan</li>
<li>Consider covering indexes</li>
<li>Optimize GROUP BY queries</li>
<li>Check buffer pool size
{% else %}</li>
</ul>
<h3 id="sqlite-specific-optimizations"><a class="header" href="#sqlite-specific-optimizations">SQLite Specific Optimizations</a></h3>
<ul>
<li>Use EXPLAIN QUERY PLAN</li>
<li>Consider table order in JOINs</li>
<li>Minimize use of LIKE with wildcards
{% endif %}</li>
</ul>
<h2 id="table-size-considerations"><a class="header" href="#table-size-considerations">Table Size Considerations</a></h2>
<p>{% case table_sizes %}
{% when “small” %}</p>
<ul>
<li>Full table scans might be acceptable</li>
<li>Focus on query simplicity
{% when “large” %}</li>
<li>Indexes are critical</li>
<li>Consider partitioning</li>
<li>Avoid SELECT *
{% else %}</li>
<li>Balance between indexes and write performance</li>
<li>Monitor query execution time
{% endcase %}</li>
</ul>
<p>{% if indexes %}</p>
<h2 id="available-indexes"><a class="header" href="#available-indexes">Available Indexes</a></h2>
<p>{% assign index_list = indexes | split: “,” %}
{% for index in index_list %}</p>
<ul>
<li>{{ index | strip }}
{% endfor %}
{% endif %}</li>
</ul>
<p>Provide:</p>
<ol>
<li>Optimized query</li>
<li>Explanation of changes</li>
<li>Expected performance improvement</li>
<li>Additional index recommendations</li>
</ol>
<pre><code>
### Using Arrays and Loops

Create `~/.swissarmyhammer/prompts/api-client.md`:

```markdown
---
name: api-client-generator
title: API Client Generator
description: Generate API client code from endpoint specifications
arguments:
  - name: endpoints
    description: Comma-separated list of endpoints (method:path)
    required: true
  - name: base_url
    description: Base URL for the API
    required: true
  - name: language
    description: Target language for the client
    required: false
    default: javascript
  - name: auth_type
    description: Authentication type (none, bearer, basic, apikey)
    required: false
    default: none
---

# API Client Generator

Generate a {{language}} API client for:
- Base URL: {{base_url}}
- Authentication: {{auth_type}}

## Endpoints
{% assign endpoint_list = endpoints | split: "," %}
{% for endpoint in endpoint_list %}
  {% assign parts = endpoint | split: ":" %}
  {% assign method = parts[0] | strip | upcase %}
  {% assign path = parts[1] | strip %}
- {{method}} {{path}}
{% endfor %}

{% if language == "javascript" %}
Generate a modern JavaScript client using:
- Fetch API for requests
- Async/await syntax
- Proper error handling
- TypeScript interfaces if applicable
{% elsif language == "python" %}
Generate a Python client using:
- requests library
- Type hints
- Proper exception handling
- Docstrings for all methods
{% endif %}

{% if auth_type != "none" %}
Include authentication handling for {{auth_type}}:
{% case auth_type %}
{% when "bearer" %}
- Accept token in constructor
- Add Authorization: Bearer header
{% when "basic" %}
- Accept username/password
- Encode credentials properly
{% when "apikey" %}
- Accept API key
- Add to headers or query params as needed
{% endcase %}
{% endif %}

Include:
1. Complete client class
2. Error handling
3. Usage examples
4. Any necessary types/interfaces
</code></pre>
<h2 id="complex-workflows"><a class="header" href="#complex-workflows">Complex Workflows</a></h2>
<h3 id="multi-step-code-analysis"><a class="header" href="#multi-step-code-analysis">Multi-Step Code Analysis</a></h3>
<pre><code class="language-bash">#!/bin/bash
# analyze-codebase.sh

# Step 1: Get overview of the codebase
echo "=== Codebase Overview ==="
swissarmyhammer test help --topic "codebase structure" --detail_level "detailed" &gt; analysis/overview.md

# Step 2: Review critical files
echo "=== Security Review ==="
for file in auth.py payment.py user.py; do
  echo "Reviewing $file..."
  swissarmyhammer test review/security \
    --code "$(cat src/$file)" \
    --context "handles sensitive data" \
    --severity_threshold "medium" &gt; "analysis/security-$file.md"
done

# Step 3: Generate tests for uncovered code
echo "=== Test Generation ==="
swissarmyhammer test test/unit \
  --code "$(cat src/utils.py)" \
  --framework "pytest" \
  --style "BDD" \
  --coverage_target "90" &gt; tests/test_utils_generated.py

# Step 4: Create documentation
echo "=== Documentation ==="
swissarmyhammer test docs/api \
  --code "$(cat src/api.py)" \
  --api_type "REST" \
  --format "openapi" &gt; docs/api-spec.yaml

echo "Analysis complete! Check the analysis/ directory for results."
</code></pre>
<h3 id="automated-pr-review"><a class="header" href="#automated-pr-review">Automated PR Review</a></h3>
<pre><code class="language-bash">#!/bin/bash
# pr-review.sh

# Get changed files
CHANGED_FILES=$(git diff --name-only main...HEAD)

echo "# Pull Request Review" &gt; pr-review.md
echo "" &gt;&gt; pr-review.md

for file in $CHANGED_FILES; do
  if [[ $file == *.py ]] || [[ $file == *.js ]] || [[ $file == *.ts ]]; then
    echo "## Review: $file" &gt;&gt; pr-review.md
    
    # Dynamic code review
    swissarmyhammer test review/code-dynamic \
      --file_path "$file" \
      --language "${file##*.}" \
      --focus_areas "bugs,security,performance" \
      --severity_level "info" &gt;&gt; pr-review.md
    
    echo "" &gt;&gt; pr-review.md
  fi
done

# Check for accessibility issues in UI files
for file in $CHANGED_FILES; do
  if [[ $file == *.html ]] || [[ $file == *.jsx ]] || [[ $file == *.tsx ]]; then
    echo "## Accessibility: $file" &gt;&gt; pr-review.md
    swissarmyhammer test review/accessibility \
      --code "$(cat $file)" \
      --wcag_level "AA" &gt;&gt; pr-review.md
    echo "" &gt;&gt; pr-review.md
  fi
done

echo "Review complete! See pr-review.md"
</code></pre>
<h3 id="project-setup-automation"><a class="header" href="#project-setup-automation">Project Setup Automation</a></h3>
<pre><code class="language-bash">#!/bin/bash
# setup-project.sh

PROJECT_NAME=$1
PROJECT_TYPE=$2  # api, webapp, library

# Create project structure
mkdir -p $PROJECT_NAME/{src,tests,docs}
cd $PROJECT_NAME

# Generate README
swissarmyhammer test docs/readme \
  --project_name "$PROJECT_NAME" \
  --project_description "A $PROJECT_TYPE project" \
  --language "$PROJECT_TYPE" &gt; README.md

# Create initial prompts
mkdir -p prompts/project

# Generate project-specific code review prompt
cat &gt; prompts/project/code-review.md &lt;&lt; 'EOF'
---
name: project-code-review
title: Project Code Review
description: Review code according to our project standards
arguments:
  - name: file_path
    description: File to review
    required: true
---

Review {{file_path}} for:
- Our naming conventions (camelCase for JS, snake_case for Python)
- Error handling patterns we use
- Project-specific security requirements
- Performance considerations for our scale
EOF

# Configure SwissArmyHammer for this project
claude mcp add ${PROJECT_NAME}_sah swissarmyhammer serve --prompts ./prompts

echo "Project $PROJECT_NAME setup complete!"
</code></pre>
<h2 id="integration-examples-1"><a class="header" href="#integration-examples-1">Integration Examples</a></h2>
<h3 id="git-hooks-1"><a class="header" href="#git-hooks-1">Git Hooks</a></h3>
<p><code>.git/hooks/pre-commit</code>:</p>
<pre><code class="language-bash">#!/bin/bash
# Check code quality before commit

STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(py|js|ts)$')

if [ -z "$STAGED_FILES" ]; then
  exit 0
fi

echo "Running pre-commit checks..."

for FILE in $STAGED_FILES; do
  # Run security review on staged content
  git show ":$FILE" | swissarmyhammer test review/security \
    --code "$(cat)" \
    --severity_threshold "high" \
    --language "${FILE##*.}"
  
  if [ $? -ne 0 ]; then
    echo "Security issues found in $FILE"
    exit 1
  fi
done

echo "Pre-commit checks passed!"
</code></pre>
<h3 id="cicd-integration"><a class="header" href="#cicd-integration">CI/CD Integration</a></h3>
<p><code>.github/workflows/code-quality.yml</code>:</p>
<pre><code class="language-yaml">name: Code Quality

on: [push, pull_request]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Install SwissArmyHammer
        run: |
          curl -sSL https://raw.githubusercontent.com/wballard/swissarmyhammer/main/install.sh | bash
          echo "$HOME/.local/bin" &gt;&gt; $GITHUB_PATH
      
      - name: Run Code Reviews
        run: |
          for file in $(find src -name "*.py"); do
            swissarmyhammer test review/code-dynamic \
              --file_path "$file" \
              --language "python" \
              --focus_areas "bugs,security" \
              --severity_level "warning"
          done
      
      - name: Generate Missing Tests
        run: |
          swissarmyhammer test test/unit \
            --code "$(cat src/core.py)" \
            --framework "pytest" \
            --coverage_target "80" &gt; tests/test_core_generated.py
      
      - name: Update Documentation
        run: |
          swissarmyhammer test docs/api \
            --code "$(cat src/api.py)" \
            --api_type "REST" \
            --format "markdown" &gt; docs/api.md
</code></pre>
<h3 id="vs-code-task"><a class="header" href="#vs-code-task">VS Code Task</a></h3>
<p><code>.vscode/tasks.json</code>:</p>
<pre><code class="language-json">{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Review Current File",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": [
        "test",
        "review/code",
        "--file_path",
        "${file}"
      ],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "Generate Tests",
      "type": "shell",
      "command": "swissarmyhammer",
      "args": [
        "test",
        "test/unit",
        "--code",
        "$(cat ${file})",
        "--framework",
        "auto-detect"
      ],
      "group": "test"
    }
  ]
}
</code></pre>
<h2 id="real-world-scenarios"><a class="header" href="#real-world-scenarios">Real-World Scenarios</a></h2>
<h3 id="onboarding-new-team-members"><a class="header" href="#onboarding-new-team-members">Onboarding New Team Members</a></h3>
<p>Create an interactive onboarding workflow:</p>
<pre><code class="language-bash"># Create onboarding checklist
swissarmyhammer test onboarding/checklist \
  --team_name "Backend Team" \
  --role "Senior Engineer" \
  --project_stack "Rust, PostgreSQL, Docker"

# Generate personalized learning path
swissarmyhammer test onboarding/learning-path \
  --experience_level "senior" \
  --background "Go, MongoDB" \
  --target_skills "Rust, async programming"
</code></pre>
<h3 id="code-migration-project"><a class="header" href="#code-migration-project">Code Migration Project</a></h3>
<p>Systematic approach to migrating codebases:</p>
<pre><code class="language-bash"># Analyze legacy code
swissarmyhammer test migration/analyze \
  --source_language "Python 2.7" \
  --target_language "Python 3.11" \
  --codebase_size "50k LOC"

# Generate migration plan
swissarmyhammer test migration/plan \
  --analysis_results "$(cat analysis.md)" \
  --timeline "3 months" \
  --team_size "4 developers"

# Create migration checklist per module
for module in $(find src -name "*.py"); do
  swissarmyhammer test migration/module-checklist \
    --module_path "$module" \
    --complexity "$(wc -l &lt; $module)" \
    &gt;&gt; migration-plan.md
done
</code></pre>
<h3 id="technical-debt-assessment"><a class="header" href="#technical-debt-assessment">Technical Debt Assessment</a></h3>
<p>Comprehensive debt analysis workflow:</p>
<pre><code class="language-bash"># Assess technical debt across codebase
swissarmyhammer test debt/assessment \
  --project_age "2 years" \
  --team_turnover "high" \
  --test_coverage "$(pytest --cov=. --cov-report=term | grep TOTAL | awk '{print $4}')"

# Prioritize debt items
swissarmyhammer test debt/prioritize \
  --business_impact "high" \
  --development_velocity "slowing" \
  --upcoming_features "user dashboard, payments"
</code></pre>
<h3 id="performance-optimization-campaign"><a class="header" href="#performance-optimization-campaign">Performance Optimization Campaign</a></h3>
<p>Systematic performance improvement:</p>
<pre><code class="language-bash"># Identify bottlenecks
swissarmyhammer test performance/analyze \
  --profile_data "$(cat profile.json)" \
  --target_improvement "50% faster" \
  --budget "2 weeks"

# Generate optimization roadmap
swissarmyhammer test performance/roadmap \
  --current_metrics "$(cat metrics.json)" \
  --constraints "no breaking changes" \
  --priority "database queries, API latency"
</code></pre>
<h2 id="advanced-patterns"><a class="header" href="#advanced-patterns">Advanced Patterns</a></h2>
<h3 id="team-collaboration-workflows"><a class="header" href="#team-collaboration-workflows">Team Collaboration Workflows</a></h3>
<pre><code class="language-bash"># Daily standup preparation
swissarmyhammer test standup/prepare \
  --yesterday_commits "$(git log --oneline --since='1 day ago' --author="$(git config user.email)")" \
  --current_branch "$(git branch --show-current)" \
  --blockers "waiting for API keys"

# Sprint retrospective insights
swissarmyhammer test retro/insights \
  --sprint_goals "$(cat sprint-goals.md)" \
  --completed_stories "8/12" \
  --team_feedback "$(cat feedback.json)"
</code></pre>
<h3 id="dynamic-prompt-selection"><a class="header" href="#dynamic-prompt-selection">Dynamic Prompt Selection</a></h3>
<pre><code class="language-bash">#!/bin/bash
# smart-review.sh

FILE=$1
EXTENSION="${FILE##*.}"

case $EXTENSION in
  py)
    PROMPT="review/code-dynamic"
    ARGS="--language python --focus_areas style,typing"
    ;;
  js|ts)
    PROMPT="review/code-dynamic"
    ARGS="--language javascript --focus_areas async,security"
    ;;
  html)
    PROMPT="review/accessibility"
    ARGS="--wcag_level AA"
    ;;
  sql)
    PROMPT="database-query-optimizer"
    ARGS="--database postgres"
    ;;
  *)
    PROMPT="review/code"
    ARGS=""
    ;;
esac

swissarmyhammer test $PROMPT --file_path "$FILE" $ARGS
</code></pre>
<h3 id="batch-processing"><a class="header" href="#batch-processing">Batch Processing</a></h3>
<pre><code class="language-python">#!/usr/bin/env python3
# batch_analyze.py

import subprocess
import json
import glob

def analyze_file(filepath):
    """Run SwissArmyHammer analysis on a file."""
    result = subprocess.run([
        'swissarmyhammer', 'test', 'review/code',
        '--file_path', filepath,
        '--context', 'batch analysis'
    ], capture_output=True, text=True)
    
    return {
        'file': filepath,
        'output': result.stdout,
        'errors': result.stderr
    }

# Analyze all Python files
files = glob.glob('**/*.py', recursive=True)
results = [analyze_file(f) for f in files]

# Save results
with open('analysis_results.json', 'w') as f:
    json.dump(results, f, indent=2)

print(f"Analyzed {len(files)} files. Results saved to analysis_results.json")
</code></pre>
<h3 id="enterprise-integration-patterns"><a class="header" href="#enterprise-integration-patterns">Enterprise Integration Patterns</a></h3>
<pre><code class="language-bash"># Compliance audit preparation
swissarmyhammer test compliance/audit \
  --standards "SOC2, GDPR, HIPAA" \
  --audit_date "2024-03-15" \
  --evidence_path "./compliance-docs"

# Risk assessment for new features
swissarmyhammer test risk/assessment \
  --feature_description "$(cat feature-spec.md)" \
  --security_requirements "PII handling, payment processing" \
  --timeline "Q2 2024"
</code></pre>
<h3 id="multi-repository-management"><a class="header" href="#multi-repository-management">Multi-Repository Management</a></h3>
<pre><code class="language-bash"># Synchronize standards across repos
for repo in frontend backend mobile; do
  cd "../$repo"
  swissarmyhammer test standards/sync \
    --repo_type "$repo" \
    --base_standards "$(cat ../standards/base.md)" \
    --output_file "CODING_STANDARDS.md"
done

# Generate cross-repo dependency analysis
swissarmyhammer test deps/analyze \
  --repositories "frontend,backend,mobile" \
  --focus "security,performance,maintainability"
</code></pre>
<h3 id="custom-filter-integration"><a class="header" href="#custom-filter-integration">Custom Filter Integration</a></h3>
<p>Create a prompt that uses custom filters:</p>
<pre><code class="language-markdown">---
name: data-transformer
title: Data Transformation Pipeline
description: Transform data using custom filters
arguments:
  - name: data
    description: Input data (JSON or CSV)
    required: true
  - name: transformations
    description: Comma-separated list of transformations
    required: true
---

# Data Transformation

Input data:
</code></pre>
<p>{{data}}</p>
<pre><code>
Apply transformations: {{transformations}}

{% assign transform_list = transformations | split: "," %}
{% for transform in transform_list %}
  {% case transform | strip %}
  {% when "uppercase" %}
    - Convert all text fields to uppercase
  {% when "normalize" %}
    - Normalize whitespace and formatting
  {% when "validate" %}
    - Validate data types and constraints
  {% when "aggregate" %}
    - Aggregate numeric fields
  {% endcase %}
{% endfor %}

Provide:
1. Transformed data
2. Transformation log
3. Any validation errors
4. Summary statistics
</code></pre>
<h3 id="workflow-automation-with-issue-management"><a class="header" href="#workflow-automation-with-issue-management">Workflow Automation with Issue Management</a></h3>
<pre><code class="language-bash"># Create issues for code quality improvements
swissarmyhammer test quality/issues \
  --analysis_report "$(cat code-analysis.json)" \
  --severity_threshold "medium" | \
while read issue_title; do
  swissarmyhammer issue create quality \
    --content "# Code Quality Issue\n\n$issue_title\n\n## Analysis\n$(cat details.md)"
done

# Generate release notes from completed issues
swissarmyhammer test release/notes \
  --version "v2.1.0" \
  --completed_issues "$(ls issues/complete/*.md)" \
  --target_audience "technical users"
</code></pre>
<h2 id="tips-and-best-practices"><a class="header" href="#tips-and-best-practices">Tips and Best Practices</a></h2>
<h3 id="1-use-command-substitution"><a class="header" href="#1-use-command-substitution">1. Use Command Substitution</a></h3>
<pre><code class="language-bash"># Good - passes file content directly
swissarmyhammer test review/code --code "$(cat main.py)"

# Less efficient - requires file path handling
swissarmyhammer test review/code --file_path main.py
</code></pre>
<h3 id="2-chain-commands"><a class="header" href="#2-chain-commands">2. Chain Commands</a></h3>
<pre><code class="language-bash"># Review then test
swissarmyhammer test review/code --file_path app.py &amp;&amp; \
swissarmyhammer test test/unit --code "$(cat app.py)"
</code></pre>
<h3 id="3-save-common-workflows"><a class="header" href="#3-save-common-workflows">3. Save Common Workflows</a></h3>
<p>Create <code>~/.swissarmyhammer/scripts/full-review.sh</code>:</p>
<pre><code class="language-bash">#!/bin/bash
FILE=$1
echo "=== Code Review ==="
swissarmyhammer test review/code --file_path "$FILE"

echo -e "\n=== Security Check ==="
swissarmyhammer test review/security --code "$(cat $FILE)"

echo -e "\n=== Test Generation ==="
swissarmyhammer test test/unit --code "$(cat $FILE)"
</code></pre>
<h3 id="4-use-environment-variables"><a class="header" href="#4-use-environment-variables">4. Use Environment Variables</a></h3>
<pre><code class="language-bash">export SAH_DEFAULT_LANGUAGE=python
export SAH_DEFAULT_FRAMEWORK=pytest

# Now these defaults apply
swissarmyhammer test test/unit --code "$(cat app.py)"
</code></pre>
<h3 id="5-create-project-templates"><a class="header" href="#5-create-project-templates">5. Create Project Templates</a></h3>
<p>Store in <code>~/.swissarmyhammer/templates/</code>:</p>
<pre><code class="language-bash"># Create new project with templates
cp -r ~/.swissarmyhammer/templates/webapp-template my-new-app
cd my-new-app
swissarmyhammer test docs/readme \
  --project_name "my-new-app" \
  --project_description "My awesome web app"
</code></pre>
<h2 id="next-steps-14"><a class="header" href="#next-steps-14">Next Steps</a></h2>
<ul>
<li>Explore <a href="./builtin-prompts.html">Built-in Prompts</a> for more capabilities</li>
<li>Learn about <a href="./creating-prompts.html">Creating Prompts</a> for custom workflows</li>
<li>Check <a href="./cli-reference.html">CLI Reference</a> for all available commands</li>
<li>See <a href="./library-usage.html">Library Usage</a> for programmatic integration</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting-15"><a class="header" href="#troubleshooting-15">Troubleshooting</a></h1>
<p>This guide helps you resolve common issues with SwissArmyHammer. For additional support, check the <a href="https://github.com/swissarmyhammer/swissarmyhammer/issues">GitHub Issues</a>.</p>
<h2 id="quick-diagnostics"><a class="header" href="#quick-diagnostics">Quick Diagnostics</a></h2>
<p>Run the doctor command for automated diagnosis:</p>
<pre><code class="language-bash">swissarmyhammer doctor --verbose
</code></pre>
<h2 id="installation-issues-1"><a class="header" href="#installation-issues-1">Installation Issues</a></h2>
<h3 id="command-not-found"><a class="header" href="#command-not-found">Command Not Found</a></h3>
<p><strong>Problem</strong>: <code>swissarmyhammer: command not found</code></p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Verify installation</strong>:</p>
<pre><code class="language-bash">ls -la ~/.local/bin/swissarmyhammer
# or
ls -la /usr/local/bin/swissarmyhammer
</code></pre>
</li>
<li>
<p><strong>Add to PATH</strong>:</p>
<pre><code class="language-bash">echo 'export PATH="$HOME/.local/bin:$PATH"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
</li>
<li>
<p><strong>Reinstall</strong>:</p>
<pre><code class="language-bash">curl -sSL https://raw.githubusercontent.com/wballard/swissarmyhammer/main/install.sh | bash
</code></pre>
</li>
</ol>
<h3 id="permission-denied-2"><a class="header" href="#permission-denied-2">Permission Denied</a></h3>
<p><strong>Problem</strong>: <code>Permission denied</code> when running swissarmyhammer</p>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-bash"># Make executable
chmod +x $(which swissarmyhammer)

# If installed system-wide, use sudo
sudo chmod +x /usr/local/bin/swissarmyhammer
</code></pre>
<h3 id="installation-script-fails"><a class="header" href="#installation-script-fails">Installation Script Fails</a></h3>
<p><strong>Problem</strong>: Install script errors or hangs</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Manual installation</strong>:</p>
<pre><code class="language-bash"># Download binary directly
curl -L https://github.com/swissarmyhammer/swissarmyhammer/releases/latest/download/swissarmyhammer-linux-x64 -o swissarmyhammer
chmod +x swissarmyhammer
sudo mv swissarmyhammer /usr/local/bin/
</code></pre>
</li>
<li>
<p><strong>Build from source</strong>:</p>
<pre><code class="language-bash">git clone https://github.com/swissarmyhammer/swissarmyhammer.git
cd swissarmyhammer
cargo build --release
sudo cp target/release/swissarmyhammer /usr/local/bin/
</code></pre>
</li>
</ol>
<h2 id="mcp-server-issues"><a class="header" href="#mcp-server-issues">MCP Server Issues</a></h2>
<h3 id="server-wont-start-2"><a class="header" href="#server-wont-start-2">Server Won’t Start</a></h3>
<p><strong>Problem</strong>: <code>swissarmyhammer serve</code> fails to start</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check port availability</strong>:</p>
<pre><code class="language-bash"># Default port
lsof -i :8080

# Try different port
swissarmyhammer serve --port 8081
</code></pre>
</li>
<li>
<p><strong>Debug mode</strong>:</p>
<pre><code class="language-bash">swissarmyhammer --debug serve
</code></pre>
</li>
<li>
<p><strong>Check permissions</strong>:</p>
<pre><code class="language-bash"># Ensure read access to prompt directories
ls -la ~/.swissarmyhammer/prompts
</code></pre>
</li>
</ol>
<h3 id="claude-code-connection-issues"><a class="header" href="#claude-code-connection-issues">Claude Code Connection Issues</a></h3>
<p><strong>Problem</strong>: SwissArmyHammer doesn’t appear in Claude Code</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Verify MCP configuration</strong>:</p>
<pre><code class="language-bash">claude mcp list
</code></pre>
</li>
<li>
<p><strong>Re-add server</strong>:</p>
<pre><code class="language-bash">claude mcp remove swissarmyhammer
claude mcp add swissarmyhammer swissarmyhammer serve
</code></pre>
</li>
<li>
<p><strong>Check server is running</strong>:</p>
<pre><code class="language-bash"># In another terminal
ps aux | grep swissarmyhammer
</code></pre>
</li>
<li>
<p><strong>Restart Claude Code</strong>:</p>
<ul>
<li>Close Claude Code completely</li>
<li>Start Claude Code</li>
<li>Check MCP servers are connected</li>
</ul>
</li>
</ol>
<h3 id="mcp-protocol-errors"><a class="header" href="#mcp-protocol-errors">MCP Protocol Errors</a></h3>
<p><strong>Problem</strong>: Protocol errors in Claude Code logs</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Update SwissArmyHammer</strong>:</p>
<pre><code class="language-bash"># Check version
swissarmyhammer --version

# Update to latest
curl -sSL https://install.sh | bash
</code></pre>
</li>
<li>
<p><strong>Check logs</strong>:</p>
<pre><code class="language-bash"># Enable debug logging
swissarmyhammer --debug serve &gt; debug.log 2&gt;&amp;1
</code></pre>
</li>
<li>
<p><strong>Validate prompt syntax</strong>:</p>
<pre><code class="language-bash">swissarmyhammer validate
</code></pre>
</li>
</ol>
<h2 id="prompt-issues-1"><a class="header" href="#prompt-issues-1">Prompt Issues</a></h2>
<h3 id="prompts-not-loading-2"><a class="header" href="#prompts-not-loading-2">Prompts Not Loading</a></h3>
<p><strong>Problem</strong>: Prompts don’t appear or are outdated</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check directories</strong>:</p>
<pre><code class="language-bash"># List prompt directories
ls -la ~/.swissarmyhammer/prompts
ls -la ./.swissarmyhammer/prompts
</code></pre>
</li>
<li>
<p><strong>Validate prompts</strong>:</p>
<pre><code class="language-bash">swissarmyhammer prompt test &lt;prompt-name&gt;
swissarmyhammer validate --verbose
</code></pre>
</li>
<li>
<p><strong>Force reload</strong>:</p>
<pre><code class="language-bash"># Restart server
# Ctrl+C to stop, then:
swissarmyhammer serve
</code></pre>
</li>
</ol>
<h3 id="invalid-yaml-front-matter-1"><a class="header" href="#invalid-yaml-front-matter-1">Invalid YAML Front Matter</a></h3>
<p><strong>Problem</strong>: YAML parsing errors</p>
<p><strong>Common Issues</strong>:</p>
<ol>
<li>
<p><strong>Missing quotes</strong>:</p>
<pre><code class="language-yaml"># Bad
description: This won't work: because of the colon

# Good
description: "This works: because it's quoted"
</code></pre>
</li>
<li>
<p><strong>Incorrect indentation</strong>:</p>
<pre><code class="language-yaml"># Bad
arguments:
- name: test
description: Test argument

# Good
arguments:
  - name: test
    description: Test argument
</code></pre>
</li>
<li>
<p><strong>Missing required fields</strong>:</p>
<pre><code class="language-yaml"># Must have name, title, description
---
name: my-prompt
title: My Prompt
description: What this prompt does
---
</code></pre>
</li>
</ol>
<h3 id="template-rendering-errors"><a class="header" href="#template-rendering-errors">Template Rendering Errors</a></h3>
<p><strong>Problem</strong>: Liquid template errors</p>
<p><strong>Common Issues</strong>:</p>
<ol>
<li>
<p><strong>Undefined variables</strong>:</p>
<pre><code class="language-liquid"># Error: undefined variable 'foo'
{{ foo }}

# Fix: Check if variable exists
{% if foo %}{{ foo }}{% endif %}
</code></pre>
</li>
<li>
<p><strong>Invalid filter</strong>:</p>
<pre><code class="language-liquid"># Error: unknown filter
{{ text | invalid_filter }}

# Fix: Use valid filter
{{ text | capitalize }}
</code></pre>
</li>
<li>
<p><strong>Syntax errors</strong>:</p>
<pre><code class="language-liquid"># Error: unclosed tag
{% if condition %}

# Fix: Close all tags
{% if condition %}...{% endif %}
</code></pre>
</li>
</ol>
<h3 id="duplicate-prompt-names-1"><a class="header" href="#duplicate-prompt-names-1">Duplicate Prompt Names</a></h3>
<p><strong>Problem</strong>: Multiple prompts with same name</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check override hierarchy</strong>:</p>
<pre><code class="language-bash">swissarmyhammer prompt list --verbose | grep "prompt-name"
</code></pre>
</li>
<li>
<p><strong>Rename conflicts</strong>:</p>
<ul>
<li>Local prompts override user prompts</li>
<li>User prompts override built-in prompts</li>
<li>Rename one to avoid confusion</li>
</ul>
</li>
</ol>
<h2 id="performance-issues-5"><a class="header" href="#performance-issues-5">Performance Issues</a></h2>
<h3 id="slow-prompt-loading-1"><a class="header" href="#slow-prompt-loading-1">Slow Prompt Loading</a></h3>
<p><strong>Problem</strong>: Server takes long to start or reload</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Disable file watching</strong>:</p>
<pre><code class="language-bash">swissarmyhammer serve --watch false
</code></pre>
</li>
<li>
<p><strong>Limit prompt directories</strong>:</p>
<pre><code class="language-bash">swissarmyhammer serve --prompts ./essential-prompts --builtin false
</code></pre>
</li>
<li>
<p><strong>Check directory size</strong>:</p>
<pre><code class="language-bash">find ~/.swissarmyhammer/prompts -type f | wc -l
</code></pre>
</li>
</ol>
<h3 id="high-memory-usage-1"><a class="header" href="#high-memory-usage-1">High Memory Usage</a></h3>
<p><strong>Problem</strong>: Excessive memory consumption</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Monitor usage</strong>:</p>
<pre><code class="language-bash">top | grep swissarmyhammer
</code></pre>
</li>
<li>
<p><strong>Optimize configuration</strong>:</p>
<pre><code class="language-bash"># Disable file watching
swissarmyhammer serve --watch false

# Reduce prompt count
# Move unused prompts to archive
</code></pre>
</li>
<li>
<p><strong>System limits</strong>:</p>
<pre><code class="language-bash"># Check ulimits
ulimit -a

# Increase if needed
ulimit -n 4096
</code></pre>
</li>
</ol>
<h2 id="file-system-issues"><a class="header" href="#file-system-issues">File System Issues</a></h2>
<h3 id="permission-errors"><a class="header" href="#permission-errors">Permission Errors</a></h3>
<p><strong>Problem</strong>: Cannot read/write prompt files</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Fix directory permissions</strong>:</p>
<pre><code class="language-bash">chmod -R 755 ~/.swissarmyhammer
chmod -R 644 ~/.swissarmyhammer/prompts/*.md
</code></pre>
</li>
<li>
<p><strong>Check ownership</strong>:</p>
<pre><code class="language-bash">ls -la ~/.swissarmyhammer/
# Fix if needed
chown -R $USER:$USER ~/.swissarmyhammer
</code></pre>
</li>
</ol>
<h3 id="file-watching-not-working"><a class="header" href="#file-watching-not-working">File Watching Not Working</a></h3>
<p><strong>Problem</strong>: Changes to prompts not detected</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check file system support</strong>:</p>
<pre><code class="language-bash"># macOS
fs_usage | grep swissarmyhammer

# Linux
inotifywait -m ~/.swissarmyhammer/prompts
</code></pre>
</li>
<li>
<p><strong>Increase watch limits (Linux)</strong>:</p>
<pre><code class="language-bash">echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
</code></pre>
</li>
<li>
<p><strong>Manual reload</strong>:</p>
<ul>
<li>Restart the server</li>
<li>Or disable watching: <code>--watch false</code></li>
</ul>
</li>
</ol>
<h2 id="cli-command-issues"><a class="header" href="#cli-command-issues">CLI Command Issues</a></h2>
<h3 id="test-command-fails"><a class="header" href="#test-command-fails">Test Command Fails</a></h3>
<p><strong>Problem</strong>: <code>swissarmyhammer prompt test</code> errors</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check prompt exists</strong>:</p>
<pre><code class="language-bash">swissarmyhammer prompt list | grep "prompt-name"
</code></pre>
</li>
<li>
<p><strong>Validate arguments</strong>:</p>
<pre><code class="language-bash"># Show required arguments
swissarmyhammer prompt test prompt-name --help
</code></pre>
</li>
<li>
<p><strong>Debug mode</strong>:</p>
<pre><code class="language-bash">swissarmyhammer prompt test prompt-name --debug
</code></pre>
</li>
</ol>
<h3 id="exportimport-errors"><a class="header" href="#exportimport-errors">Export/Import Errors</a></h3>
<p><strong>Problem</strong>: Cannot export or import prompts</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Check file permissions</strong>:</p>
<pre><code class="language-bash"># For export
touch test-export.tar.gz

# For import
ls -la import-file.tar.gz
</code></pre>
</li>
<li>
<p><strong>Validate archive</strong>:</p>
<pre><code class="language-bash">tar -tzf archive.tar.gz
</code></pre>
</li>
<li>
<p><strong>Manual export</strong>:</p>
<pre><code class="language-bash">tar -czf prompts.tar.gz -C ~/.swissarmyhammer prompts/
</code></pre>
</li>
</ol>
<h2 id="environment-specific-issues"><a class="header" href="#environment-specific-issues">Environment-Specific Issues</a></h2>
<h3 id="macos-issues"><a class="header" href="#macos-issues">macOS Issues</a></h3>
<p><strong>Problem</strong>: Security warnings or quarantine</p>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-bash"># Remove quarantine attribute
xattr -d com.apple.quarantine /usr/local/bin/swissarmyhammer

# Allow in Security &amp; Privacy settings
# System Preferences &gt; Security &amp; Privacy &gt; General
</code></pre>
<h3 id="linux-issues"><a class="header" href="#linux-issues">Linux Issues</a></h3>
<p><strong>Problem</strong>: Library dependencies missing</p>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-bash"># Ubuntu/Debian
sudo apt-get update
sudo apt-get install libssl-dev

# Fedora
sudo dnf install openssl-devel

# Check dependencies
ldd $(which swissarmyhammer)
</code></pre>
<h3 id="windows-issues"><a class="header" href="#windows-issues">Windows Issues</a></h3>
<p><strong>Problem</strong>: Path or execution issues</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Use PowerShell as Administrator</strong></p>
</li>
<li>
<p><strong>Add to PATH</strong>:</p>
<pre><code class="language-powershell">$env:Path += ";C:\Program Files\swissarmyhammer"
[Environment]::SetEnvironmentVariable("Path", $env:Path, [EnvironmentVariableTarget]::User)
</code></pre>
</li>
<li>
<p><strong>Windows Defender</strong>:</p>
<ul>
<li>Add exclusion for swissarmyhammer.exe</li>
<li>Check Windows Security logs</li>
</ul>
</li>
</ol>
<h2 id="debug-techniques"><a class="header" href="#debug-techniques">Debug Techniques</a></h2>
<h3 id="enable-verbose-logging"><a class="header" href="#enable-verbose-logging">Enable Verbose Logging</a></h3>
<pre><code class="language-bash"># Server debug mode
swissarmyhammer --debug serve

# Redirect to file
swissarmyhammer --debug serve &gt; debug.log 2&gt;&amp;1

# CLI debug
RUST_LOG=debug swissarmyhammer prompt test prompt-name
</code></pre>
<h3 id="check-configuration"><a class="header" href="#check-configuration">Check Configuration</a></h3>
<pre><code class="language-bash"># Run comprehensive checks
swissarmyhammer doctor --verbose

# Check specific areas
swissarmyhammer validate --check mcp

# Auto-fix issues
swissarmyhammer doctor --fix
</code></pre>
<h3 id="trace-mcp-communication"><a class="header" href="#trace-mcp-communication">Trace MCP Communication</a></h3>
<pre><code class="language-bash"># Save MCP messages
swissarmyhammer --debug serve | grep MCP &gt; mcp-trace.log

# Monitor in real-time
swissarmyhammer --debug serve | grep -E "(request|response)"
</code></pre>
<h2 id="getting-help-1"><a class="header" href="#getting-help-1">Getting Help</a></h2>
<h3 id="documentation-1"><a class="header" href="#documentation-1">Documentation</a></h3>
<ul>
<li>Check this troubleshooting guide first</li>
<li>Read the <a href="./cli-reference.html">CLI Reference</a></li>
<li>Review <a href="./configuration.html">Configuration</a> options</li>
</ul>
<h3 id="community-support"><a class="header" href="#community-support">Community Support</a></h3>
<ul>
<li><a href="https://github.com/swissarmyhammer/swissarmyhammer/issues">GitHub Issues</a></li>
<li><a href="https://github.com/swissarmyhammer/swissarmyhammer/discussions">Discussions</a></li>
<li><a href="troubleshooting.html#">Discord/Slack Community</a> (if available)</li>
</ul>
<h3 id="reporting-issues"><a class="header" href="#reporting-issues">Reporting Issues</a></h3>
<p>When reporting issues, include:</p>
<ol>
<li>
<p><strong>System information</strong>:</p>
<pre><code class="language-bash">swissarmyhammer doctor --json &gt; diagnosis.json
</code></pre>
</li>
<li>
<p><strong>Steps to reproduce</strong></p>
</li>
<li>
<p><strong>Error messages and logs</strong></p>
</li>
<li>
<p><strong>Expected vs actual behavior</strong></p>
</li>
</ol>
<h3 id="debug-information-script"><a class="header" href="#debug-information-script">Debug Information Script</a></h3>
<p>Save this as <code>debug-info.sh</code>:</p>
<pre><code class="language-bash">#!/bin/bash
echo "=== SwissArmyHammer Debug Information ==="
echo "Date: $(date)"
echo "Version: $(swissarmyhammer --version)"
echo "OS: $(uname -a)"
echo ""
echo "=== Doctor Report ==="
swissarmyhammer doctor --verbose
echo ""
echo "=== Configuration ==="
cat ~/.swissarmyhammer/config.toml 2&gt;/dev/null || echo "No config file"
echo ""
echo "=== Prompt Directories ==="
ls -la ~/.swissarmyhammer/prompts 2&gt;/dev/null || echo "No user prompts"
ls -la ./.swissarmyhammer/prompts 2&gt;/dev/null || echo "No local prompts"
echo ""
echo "=== Process Check ==="
ps aux | grep swissarmyhammer | grep -v grep
</code></pre>
<p>Run and save output:</p>
<pre><code class="language-bash">bash debug-info.sh &gt; debug-info.txt
</code></pre>
<h2 id="common-error-messages"><a class="header" href="#common-error-messages">Common Error Messages</a></h2>
<h3 id="failed-to-bind-to-address"><a class="header" href="#failed-to-bind-to-address">“Failed to bind to address”</a></h3>
<ul>
<li>Port already in use</li>
<li>Try: <code>--port 8081</code></li>
</ul>
<h3 id="permission-denied-3"><a class="header" href="#permission-denied-3">“Permission denied”</a></h3>
<ul>
<li>File/directory permissions issue</li>
<li>Try: <code>chmod +x</code> or check ownership</li>
</ul>
<h3 id="yaml-parse-error"><a class="header" href="#yaml-parse-error">“YAML parse error”</a></h3>
<ul>
<li>Invalid YAML syntax in prompt</li>
<li>Check indentation and special characters</li>
</ul>
<h3 id="template-compilation-failed"><a class="header" href="#template-compilation-failed">“Template compilation failed”</a></h3>
<ul>
<li>Liquid syntax error</li>
<li>Check tags are closed and filters exist</li>
</ul>
<h3 id="prompt-not-found"><a class="header" href="#prompt-not-found">“Prompt not found”</a></h3>
<ul>
<li>Prompt name doesn’t exist</li>
<li>Check: <code>swissarmyhammer prompt list</code></li>
</ul>
<h3 id="connection-refused"><a class="header" href="#connection-refused">“Connection refused”</a></h3>
<ul>
<li>MCP server not running</li>
<li>Start server: <code>swissarmyhammer serve</code></li>
</ul>
<h2 id="prevention-tips"><a class="header" href="#prevention-tips">Prevention Tips</a></h2>
<ol>
<li>
<p><strong>Regular maintenance</strong>:</p>
<pre><code class="language-bash"># Weekly health check
swissarmyhammer doctor

# Update regularly
swissarmyhammer --version
</code></pre>
</li>
<li>
<p><strong>Backup prompts</strong>:</p>
<pre><code class="language-bash"># Regular backups
swissarmyhammer export ~/.swissarmyhammer/backups/prompts-$(date +%Y%m%d).tar.gz
</code></pre>
</li>
<li>
<p><strong>Test changes</strong>:</p>
<pre><code class="language-bash"># Before committing
swissarmyhammer prompt test new-prompt
swissarmyhammer validate
</code></pre>
</li>
<li>
<p><strong>Monitor logs</strong>:</p>
<pre><code class="language-bash"># Keep logs for debugging
swissarmyhammer --debug serve &gt; server.log 2&gt;&amp;1 &amp;
</code></pre>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
